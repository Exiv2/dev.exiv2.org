<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Feature #922: Add options -pS and -dI to application exiv2 - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="EMBpnzu3nsaCRRwwGorwVwyBu3YHhHEB7s1DfwSSrO/yjcJwSc1SxtchAzylXfxkMxPvD/Zn0LsT7dP3R6tLgA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Feature #922: Add options -pS and -dI to application exiv2" href="https://dev.exiv2.org/issues/922.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Feature #922</h2>

<div class="issue tracker-2 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Add options -pS and -dI to application exiv2</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Sep 2013 21:26" href="/projects/exiv2/activity?from=2013-09-25">about 8 years</a> ago.
        Updated <a title="27 Aug 2016 21:47" href="/projects/exiv2/activity?from=2016-08-27">about 5 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/119">Robin Mills</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">metadata</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="28 Apr 2017" href="/versions/52">0.26</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">25 Sep 2013</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value">15.00 h</div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>This is discussed in <a class="external" href="http://dev.exiv2.org/boards/3/topics/1608">http://dev.exiv2.org/boards/3/topics/1608</a></p>
  </div>
</div>
  <hr />
  <p><strong>Files</strong></p>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/746">T922.patch</a>    <span class="size">(2.81 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/746/T922.patch">T922.patch</a>  </td>
  <td></td>
  <td>
      <span class="author">Thomas Beutlich, 30 Mar 2015 19:35</span>
  </td>
  <td>
  </td>
</tr>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/1040">ETH0138028.jpg</a>    <span class="size">(1.69 MB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/1040/ETH0138028.jpg">ETH0138028.jpg</a>  </td>
  <td></td>
  <td>
      <span class="author">Robin Mills, 21 Aug 2016 15:22</span>
  </td>
  <td>
  </td>
</tr>
</table>
</div>







<hr />
<div id="relations">
<div class="contextual">
</div>

<p><strong>Related issues</strong></p>

<form data-cm-url="/issues/context_menu" action="/issues/922" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="8KxYBlPChYUx4MN4/71M7EsXsC8iC5tLySXULnipUOIS4fPpIbhJhWSE3HRAakDfdIXkVtPoOvE0BUSmO5C3jQ==" />
  <table class="list issues odd-even"><tr id="relation-158" class="issue hascontextmenu issue tracker-1 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1081" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-1 status-5 priority-4 priority-default closed" href="/issues/1081">Bug #1081</a>: Read XMP values from CR2 raw file when stored in XMLPacket</td><td class="status">Closed</td><td class="start_date">15 May 2015</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr><tr id="relation-163" class="issue hascontextmenu issue tracker-2 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1108" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-2 status-5 priority-4 priority-default closed" href="/issues/1108">Feature #1108</a>: Recursively dump sub-files of an image</td><td class="status">Closed</td><td class="start_date">21 Aug 2015</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr></table>
</form>
<form class="new_relation" id="new-relation-form" style="display: none;" action="/issues/922/relations" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />


<p><select onchange="setPredecessorFieldsVisibility();" name="relation[relation_type]" id="relation_relation_type"><option selected="selected" value="relates">Related to</option>
<option value="duplicates">Is duplicate of</option>
<option value="duplicated">Has duplicate</option>
<option value="blocks">Blocks</option>
<option value="blocked">Blocked by</option>
<option value="precedes">Precedes</option>
<option value="follows">Follows</option>
<option value="copied_to">Copied to</option>
<option value="copied_from">Copied from</option></select>
Issue #<input size="10" type="text" name="relation[issue_to_id]" id="relation_issue_to_id" />
<span id="predecessor_fields" style="display:none;">
Delay: <input size="3" type="text" name="relation[delay]" id="relation_delay" /> days
</span>
<input type="submit" name="commit" value="Add" data-disable-with="Add" />
<a href="#" onclick="$(&quot;#new-relation-form&quot;).hide();; return false;">Cancel</a>
</p>

<script>
//<![CDATA[
observeAutocompleteField('relation_issue_to_id', '/issues/auto_complete?issue_id=922&project_id=exiv2&scope=all')
//]]>
</script>

<script>
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>
</div>

</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset">
    <p><a title="Revision 3650" href="/projects/exiv2/repository/exiv2/revisions/3650">Revision 3650</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3650/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Mar 2015 18:47" href="/projects/exiv2/activity?from=2015-03-27">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Added options -pS and -pX to exiv2(.exe).   Still to deal with -dI</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3675" href="/projects/exiv2/repository/exiv2/revisions/3675">Revision 3675</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3675/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/360">Thomas Beutlich</a> <a title="10 Apr 2015 18:50" href="/projects/exiv2/activity?from=2015-04-10">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p>refs <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>:</p>
	<ul>
	<li>Fix MSVC warning introduced by <a class="changeset" title="#922.  Added options -pS and -pX to exiv2(.exe).   Still to deal with -dI" href="/projects/exiv2/repository/exiv2/revisions/3650">r3650</a>
 * Change first argument of BasicIo::seek to signed integer type</li>
	</ul>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3702" href="/projects/exiv2/repository/exiv2/revisions/3702">Revision 3702</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3702/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="17 Apr 2015 18:06" href="/projects/exiv2/activity?from=2015-04-17">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Extract Extended XMP (multiple 65k block) and remove XMP blank lines.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3724" href="/projects/exiv2/repository/exiv2/revisions/3724">Revision 3724</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3724/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Apr 2015 13:28" href="/projects/exiv2/activity?from=2015-04-24">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Work In Progress.  Adding support for -pX and -pS for tiff files.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3726" href="/projects/exiv2/repository/exiv2/revisions/3726">Revision 3726</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3726/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Apr 2015 19:51" href="/projects/exiv2/activity?from=2015-04-24">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Work in progress on options -pS and -pX</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3728" href="/projects/exiv2/repository/exiv2/revisions/3728">Revision 3728</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3728/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Apr 2015 12:32" href="/projects/exiv2/activity?from=2015-04-25">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> -pS for TIFF  tagName() uses Exiv2::exifTagList() (and similar) to find tag name.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3731" href="/projects/exiv2/repository/exiv2/revisions/3731">Revision 3731</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3731/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/360">Thomas Beutlich</a> <a title="25 Apr 2015 20:17" href="/projects/exiv2/activity?from=2015-04-25">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p>refs <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>: Fix include and MSVC compilation</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3737" href="/projects/exiv2/repository/exiv2/revisions/3737">Revision 3737</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3737/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="26 Apr 2015 08:00" href="/projects/exiv2/activity?from=2015-04-26">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Unable to build for Mac OSX 10.6 (Closed)" href="/issues/1066">#1066</a>.  Fix for test exception.  It's coming from <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> on all platforms except Mac.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3738" href="/projects/exiv2/repository/exiv2/revisions/3738">Revision 3738</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3738/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="26 Apr 2015 09:50" href="/projects/exiv2/activity?from=2015-04-26">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Documentation update.  Exiv2::Image::printStructure() is not thread safe.  No reason to use this in a multi-threaded application.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3744" href="/projects/exiv2/repository/exiv2/revisions/3744">Revision 3744</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3744/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Apr 2015 20:07" href="/projects/exiv2/activity?from=2015-04-27">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>  -pS and -pX support for TIFF.  Added formatters to Image class and use them from {jpg/png/tiff}image.cpp</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3746" href="/projects/exiv2/repository/exiv2/revisions/3746">Revision 3746</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3746/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Apr 2015 20:34" href="/projects/exiv2/activity?from=2015-04-27">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Don't remove blank lines from XMP.  This is not Exiv2's business.  -pX extracts XMP packet without modification.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3747" href="/projects/exiv2/repository/exiv2/revisions/3747">Revision 3747</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3747/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Apr 2015 21:25" href="/projects/exiv2/activity?from=2015-04-27">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Fix Linux build breaker and MSVC compilation warnings.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3748" href="/projects/exiv2/repository/exiv2/revisions/3748">Revision 3748</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3748/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Apr 2015 21:33" href="/projects/exiv2/activity?from=2015-04-27">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Fixing MSVC warnings.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3760" href="/projects/exiv2/repository/exiv2/revisions/3760">Revision 3760</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3760/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="28 Apr 2015 19:19" href="/projects/exiv2/activity?from=2015-04-28">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Fixing -pS and -pX on MSVC.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3768" href="/projects/exiv2/repository/exiv2/revisions/3768">Revision 3768</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3768/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="30 Apr 2015 22:58" href="/projects/exiv2/activity?from=2015-04-30">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Better platform and endian detection.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3769" href="/projects/exiv2/repository/exiv2/revisions/3769">Revision 3769</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3769/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 May 2015 06:36" href="/projects/exiv2/activity?from=2015-05-01">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> Fixing Image::formatString() on Windows</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3770" href="/projects/exiv2/repository/exiv2/revisions/3770">Revision 3770</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3770/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 May 2015 06:54" href="/projects/exiv2/activity?from=2015-05-01">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Mac fix for Image::stringFormat()</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3771" href="/projects/exiv2/repository/exiv2/revisions/3771">Revision 3771</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3771/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 May 2015 08:08" href="/projects/exiv2/activity?from=2015-05-01">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>.  Adding to the test suite.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3772" href="/projects/exiv2/repository/exiv2/revisions/3772">Revision 3772</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3772/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 May 2015 09:16" href="/projects/exiv2/activity?from=2015-05-01">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>  Rollback <a class="changeset" title="#922.  Adding to the test suite." href="/projects/exiv2/repository/exiv2/revisions/3771">r3771</a>.  Very troublesome feature.  bugfixed <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> is looping Linux.  PNG Has endian issues on MM/PowerPC</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3773" href="/projects/exiv2/repository/exiv2/revisions/3773">Revision 3773</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3773/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 May 2015 11:36" href="/projects/exiv2/activity?from=2015-05-01">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> Submitting the fixed version of <a class="changeset" title="#922.  Adding to the test suite." href="/projects/exiv2/repository/exiv2/revisions/3771">r3771</a></p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3781" href="/projects/exiv2/repository/exiv2/revisions/3781">Revision 3781</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3781/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="02 May 2015 14:53" href="/projects/exiv2/activity?from=2015-05-02">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: test/tiff-test.sh is failing on Motorola PPC (Closed)" href="/issues/1072">#1072</a> <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> BigEndian (Motorola PowerPC) fix.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4220" href="/projects/exiv2/repository/exiv2/revisions/4220">Revision 4220</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4220/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="09 Mar 2016 07:51" href="/projects/exiv2/activity?from=2016-03-09">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Implement target/modifier - (stdin/stdout) for exiv2 options -i (insert) and -e (extract) (Closed)" href="/issues/1057">#1057</a>, <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: exiv2 -iX &lt;file.jpg&gt; deletes Makernote (Closed)" href="/issues/1064">#1064</a>, <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>, <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: XMP Rights field padded with spaces (Closed)" href="/issues/1148">#1148</a>.  Work in progress.  This is a composite patch of several matters in development.  None are totally complete at this time.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4434" href="/projects/exiv2/repository/exiv2/revisions/4434">Revision 4434</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4434/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Aug 2016 16:20" href="/projects/exiv2/activity?from=2016-08-25">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> exiv2 -dI deletes all IPTC chunks in a JPEG.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4435" href="/projects/exiv2/repository/exiv2/revisions/4435">Revision 4435</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4435/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Aug 2016 18:32" href="/projects/exiv2/activity?from=2016-08-25">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a> Correction to <a class="changeset" title="contrib/buildserver/test_daily.sh sometimes fumbles &#39;curl $JENKINS/$DAILY/&#39;  on Linux   (/usr/loc..." href="/projects/exiv2/repository/exiv2/revisions/4344">r4344</a> to handle msvc build breaker.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4436" href="/projects/exiv2/repository/exiv2/revisions/4436">Revision 4436</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4436/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Aug 2016 19:41" href="/projects/exiv2/activity?from=2016-08-25">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add options -pS and -dI to application exiv2 (Closed)" href="/issues/922">#922</a>  Correction to <a class="changeset" title="#922 exiv2 -dI deletes all IPTC chunks in a JPEG." href="/projects/exiv2/repository/exiv2/revisions/4434">r4434</a>.  Fixing another msvc build breaker.</p>
    </div>
    </div>

</div>



<div id="history">
<h3>History</h3>
  <div id="change-2867" class="journal has-notes has-details">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 Sep 2014 12:34" href="/projects/exiv2/activity?from=2014-09-01">about 7 years</a> ago
      <span id="journal-2867-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Robin Mills</i> to <i>Tuan Nhu</i></li>
    </ul>
    <div id="journal-2867-notes" class="wiki"><p>I'm going to assign this to Tuan.  It might make the v0.25 release.</p></div>
    </div>
  </div>
  
  <div id="change-3320" class="journal has-notes has-details">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Mar 2015 18:48" href="/projects/exiv2/activity?from=2015-03-27">over 6 years</a> ago
      <span id="journal-3320-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Category</strong> changed from <i>iptc</i> to <i>metadata</i></li>
       <li><strong>Assignee</strong> changed from <i>Tuan Nhu</i> to <i>Robin Mills</i></li>
    </ul>
    <div id="journal-3320-notes" class="wiki"><p>Submitted <a class="changeset" title="#922.  Added options -pS and -pX to exiv2(.exe).   Still to deal with -dI" href="/projects/exiv2/repository/exiv2/revisions/3650">r3650</a> to deal with -pS and -pX.  Option -dI not yet implemented.</p></div>
    </div>
  </div>
  
  <div id="change-3327" class="journal has-notes">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/360">Thomas Beutlich</a> <a title="30 Mar 2015 19:21" href="/projects/exiv2/activity?from=2015-03-30">over 6 years</a> ago
      <span id="journal-3327-private_notes" class=""></span>
    </h4>

    <div id="journal-3327-notes" class="wiki"><p>After <a class="changeset" title="#922.  Added options -pS and -pX to exiv2(.exe).   Still to deal with -dI" href="/projects/exiv2/repository/exiv2/revisions/3650">r3650</a> pngimage.cpp compiles with one warning on MSVC.<br /><code><br />  pngimage.cpp<br />..\..\src\pngimage.cpp(160): error C2220: warning treated as error - no 'object' file generated<br />..\..\src\pngimage.cpp(160): warning C4146: unary minus operator applied to unsigned type, result still unsigned<br /></code></p>


	<p>It is rather strange that the first argument of <code>BasicIo::seek</code> is an unsigned type in case of MSVC.<br /><code><br />int seek(uint64_t offset, Position pos)<br /></code></p>


	<p>It either maps to <code>_fseeki64</code> or <code>std::fseek</code> which both take a signed type.</p></div>
    </div>
  </div>
  
  <div id="change-3328" class="journal has-notes has-details">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/360">Thomas Beutlich</a> <a title="30 Mar 2015 19:35" href="/projects/exiv2/activity?from=2015-03-30">over 6 years</a> ago
      <span id="journal-3328-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>File</strong> <a href="/attachments/746">T922.patch</a> <a class="icon-only icon-download" title="Download" href="/attachments/download/746/T922.patch">T922.patch</a> added</li>
    </ul>
    <div id="journal-3328-notes" class="wiki"><p>Attached patch should fix both issues.</p></div>
    </div>
  </div>
  
  <div id="change-3329" class="journal has-notes">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="30 Mar 2015 20:21" href="/projects/exiv2/activity?from=2015-03-30">over 6 years</a> ago
      <span id="journal-3329-private_notes" class=""></span>
    </h4>

    <div id="journal-3329-notes" class="wiki"><p>Thanks for finding this Thomas.  May I leave you to submit the patch when Andreas gets your SVN account set up.  When you submit, you can take a look at Jenkins to see that it builds.</p>


	<p>I'm rather doubtful about the FileIO object's ability to handle files > 3GB.  It could even struggle with files > 1.5GB.  This didn't matter much before the video code arrived.  It's one of the matters I'd like the video guys to investigate.</p></div>
    </div>
  </div>
  
  <div id="change-3330" class="journal has-details">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="30 Mar 2015 20:21" href="/projects/exiv2/activity?from=2015-03-30">over 6 years</a> ago
      <span id="journal-3330-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Robin Mills</i> to <i>Thomas Beutlich</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-3334" class="journal has-notes">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="30 Mar 2015 20:40" href="/projects/exiv2/activity?from=2015-03-30">over 6 years</a> ago
      <span id="journal-3334-private_notes" class=""></span>
    </h4>

    <div id="journal-3334-notes" class="wiki"><p>This is an interesting find, Thomas.  I thought I had the option set in MSVC to say "treat warnings as errors".  Perhaps I relaxed that condition during the integration of webready and did not restor it.  I much prefer treating warnings as errors.  Better to deal with warnings as soon as they surface.</p>


	<p>I don't use that "treat warnings as errors" when I build the supporting libraries (expat, zlib, curl, ssh and openssl).  I don't want to modified one line of the library code - so I ignore library build warnings.</p>


	<p>You're welcome to raise an issue report about this and we can deal with it when you're done with the MemIO stuff, or when I return from vacation.</p></div>
    </div>
  </div>
  
  <div id="change-3336" class="journal has-notes">
    <div id="note-8">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-8" class="journal-link">#8</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/360">Thomas Beutlich</a> <a title="30 Mar 2015 21:24" href="/projects/exiv2/activity?from=2015-03-30">over 6 years</a> ago
      <span id="journal-3336-private_notes" class=""></span>
    </h4>

    <div id="journal-3336-notes" class="wiki"><p>It indeed should have never worked out for <code>blen != 0</code>. Do you have a test file and exiv2 command line I can check with?</p></div>
    </div>
  </div>
  
  <div id="change-3399" class="journal has-notes has-details">
    <div id="note-9">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-9" class="journal-link">#9</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/360">Thomas Beutlich</a> <a title="10 Apr 2015 18:52" href="/projects/exiv2/activity?from=2015-04-10">over 6 years</a> ago
      <span id="journal-3399-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Thomas Beutlich</i> to <i>Robin Mills</i></li>
    </ul>
    <div id="journal-3399-notes" class="wiki"><p>Patch submitted by <a class="changeset" title="refs #922:  * Fix MSVC warning introduced by r3650  * Change first argument of BasicIo::seek to ..." href="/projects/exiv2/repository/exiv2/revisions/3675">r3675</a>. Back to Robin for option -dI.</p></div>
    </div>
  </div>
  
  <div id="change-3437" class="journal has-notes">
    <div id="note-10">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-10" class="journal-link">#10</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="17 Apr 2015 12:02" href="/projects/exiv2/activity?from=2015-04-17">over 6 years</a> ago
      <span id="journal-3437-private_notes" class=""></span>
    </h4>

    <div id="journal-3437-notes" class="wiki"><p>-pX is not implemented correctly when the XMP packet spans multiple segments.<pre>652 rmills@rmillsmbp:~/gnu/exiv2/trunk/test $ exiv2 -pX data/exiv2-bug922.jpg 
&lt;x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 5.1.0-jc003"&gt;
  &lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"&gt;
    &lt;rdf:Description rdf:about="" 
        xmlns:GFocus="http://ns.google.com/photos/1.0/focus/" 
        xmlns:GImage="http://ns.google.com/photos/1.0/image/" 
        xmlns:GDepth="http://ns.google.com/photos/1.0/depthmap/" 
        xmlns:xmpNote="http://ns.adobe.com/xmp/note/" 
      GFocus:BlurAtInfinity="0.018819768" 
      GFocus:FocalDistance="16.068678" 
      GFocus:FocalPointX="0.4351852" 
      GFocus:FocalPointY="0.39444447" 
      GImage:Mime="image/jpeg" 
      GDepth:Format="RangeInverse" 
      GDepth:Near="10.917767524719238" 
      GDepth:Far="38.58317565917969" 
      GDepth:Mime="image/png" 
      xmpNote:HasExtendedXMP="B9AC266F143C5DB7510D1CBEC51C924A"/&gt;
  &lt;/rdf:RDF&gt;
&lt;/x:xmpmeta&gt;

B9AC266F143C5DB7510D1CBEC51C924A
... deleted ...
B9AC266F143C5DB7510D1CBEC51C924A
653 rmills@rmillsmbp:~/gnu/exiv2/trunk/test $ </pre>xmpNote:HasExtendedXMP is documented on page 20 of this document: <a class="external" href="http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMPSpecificationPart3.pdf">http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMPSpecificationPart3.pdf</a></p>


	<p>In researching this, I've discovered that XMP packets can be blank padded to enable applications to modify the XMP in-line.  What a good idea!  <em>Adobe people are really smart</em>.  I'll probably update -pX output to remove trailing blanks.<br /></pre></p></div>
    </div>
  </div>
  
  <div id="change-3438" class="journal has-notes">
    <div id="note-11">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-11" class="journal-link">#11</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="17 Apr 2015 18:10" href="/projects/exiv2/activity?from=2015-04-17">over 6 years</a> ago
      <span id="journal-3438-private_notes" class=""></span>
    </h4>

    <div id="journal-3438-notes" class="wiki"><p>#3702.  Extract Extended XMP (spans more than one 65k segment).  Remove blank lines.  I still have to implement -dI.</p></div>
    </div>
  </div>
  
  <div id="change-3540" class="journal has-notes">
    <div id="note-12">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-12" class="journal-link">#12</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Apr 2015 20:31" href="/projects/exiv2/activity?from=2015-04-27">over 6 years</a> ago
      <span id="journal-3540-private_notes" class=""></span>
    </h4>

    <div id="journal-3540-notes" class="wiki"><p><a class="changeset" title="#922  -pS and -pX support for TIFF.  Added formatters to Image class and use them from {jpg/png/t..." href="/projects/exiv2/repository/exiv2/revisions/3744">r3744</a> removed the stripping of blank lines in the XML.  It's better not to do this in Exiv2.  An external tool such as xmllint can deal with this.  -pX extracts the XMP packet "as is" with blank lines.</p></div>
    </div>
  </div>
  
  <div id="change-3673" class="journal has-notes has-details">
    <div id="note-13">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-13" class="journal-link">#13</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="09 May 2015 08:03" href="/projects/exiv2/activity?from=2015-05-09">over 6 years</a> ago
      <span id="journal-3673-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Target version</strong> changed from <i>0.25</i> to <i>0.26</i></li>
    </ul>
    <div id="journal-3673-notes" class="wiki"><p>-pS has been implemented for v0.25<br />-dI will not be implemented in v0.25 because I'm overloaded.</p>


	<p>Here's the discussion with Jerome concerning -dI<br /><a class="external" href="http://dev.exiv2.org/boards/3/topics/1608?r=1624#message-1624">http://dev.exiv2.org/boards/3/topics/1608?r=1624#message-1624</a></p></div>
    </div>
  </div>
  
  <div id="change-3764" class="journal has-details">
    <div id="note-14">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-14" class="journal-link">#14</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="23 May 2015 08:42" href="/projects/exiv2/activity?from=2015-05-23">over 6 years</a> ago
      <span id="journal-3764-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> deleted (<del><i>Robin Mills</i></del>)</li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4380" class="journal has-details">
    <div id="note-15">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-15" class="journal-link">#15</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="12 Oct 2015 09:03" href="/projects/exiv2/activity?from=2015-10-12">about 6 years</a> ago
      <span id="journal-4380-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> set to <i>Robin Mills</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4630" class="journal has-details">
    <div id="note-16">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-16" class="journal-link">#16</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="04 Jan 2016 09:53" href="/projects/exiv2/activity?from=2016-01-04">almost 6 years</a> ago
      <span id="journal-4630-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>0</i> to <i>50</i></li>
       <li><strong>Estimated time</strong> set to <i>15.00 h</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-5430" class="journal has-notes">
    <div id="note-17">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-17" class="journal-link">#17</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4722">Ben Touchette</a> <a title="21 Aug 2016 14:27" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5430-private_notes" class=""></span>
    </h4>

    <div id="journal-5430-notes" class="wiki"><p>I have a partially working implementation for -dI, but now taking a break for the rest of the day :)</p></div>
    </div>
  </div>
  
  <div id="change-5431" class="journal has-notes has-details">
    <div id="note-18">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-18" class="journal-link">#18</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Aug 2016 15:22" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5431-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>File</strong> <a href="/attachments/1040">ETH0138028.jpg</a> <a class="icon-only icon-download" title="Download" href="/attachments/download/1040/ETH0138028.jpg">ETH0138028.jpg</a> added</li>
       <li><strong>Assignee</strong> changed from <i>Robin Mills</i> to <i>Ben Touchette</i></li>
    </ul>
    <div id="journal-5431-notes" class="wiki"><p>That would be wonderful.  -pS -pR are done.  The code for -dI is mostly done. Our old friend Stonehenge.jpg has a single IPTC block.<pre>872 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiv2 -pS ~/Stonehenge.jpg 
STRUCTURE OF JPEG FILE: /Users/rmills/Stonehenge.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe1 APP1  |   15288 | Exif..II*......................
   15294 | 0xe1 APP1  |    2610 | http://ns.adobe.com/xap/1.0/.&lt;?x
   17906 | 0xe2 APP2  |    4094 | .............0...4..............
   22004 | 0xed APP13 |      96 | Photoshop 3.0.8BIM.......'.....
   22102 | 0xe2 APP2  |    4094 | MPF.II*...............0100.....
   26198 | 0xdb DQT   |     132 
   26332 | 0xc0 SOF0  |      17 
   26351 | 0xc4 DHT   |     418 
   26771 | 0xda SOS   |      12 
873 rmills@rmillsmbp:~/gnu/exiv2/trunk $</pre><strong><code>-dI</code></strong> finds and reports the block.<pre>871 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiv2 -dI ~/Stonehenge.jpg 
iptc data blocks: FOUND
17906 96
872 rmills@rmillsmbp:~/gnu/exiv2/trunk $ </pre>No JPEG should have more that one IPTC block - however a user had such a thing.  I agreed to add -dI to clean it up for him.  The code for -dI is in in <a class="changeset" title="#1057, #1064, #922, #1148.  Work in progress.  This is a composite patch of several matters in de..." href="/projects/exiv2/repository/exiv2/revisions/4220">r4220</a> when it reports the blocks to delete in src/jpgimage.cpp<pre>  4220 robinwmill         if ( option == kpsIptcErase ) {
  4220 robinwmill             std::cout &lt;&lt; "iptc data blocks: " &lt;&lt; (iptcDataSegs.size() ? "FOUND" : "none") &lt;&lt; std::endl;
  4220 robinwmill             uint32_t toggle = 0 ;
  4220 robinwmill             for ( Uint32Vector_i it = iptcDataSegs.begin(); it != iptcDataSegs.end() ; it++ ) {
  4220 robinwmill                 std::cout &lt;&lt; *it ;
  4220 robinwmill                 if ( toggle++ % 2 ) std::cout &lt;&lt; std::endl; else std::cout &lt;&lt; ' ' ;
  4220 robinwmill             }
  4220 robinwmill         }</pre>Now that you know what basicIo does, you're going to have to rewrite the file without the "dead" blocks.  Here's the confession in the log:<pre>870 rmills@rmillsmbp:~/gnu/exiv2/trunk $ svn log --revision 4220
------------------------------------------------------------------------
r4220 | robinwmills | 2016-03-09 07:51:04 +0000 (Wed, 09 Mar 2016) | 1 line

#1057, #1064, #922, #1148.  Work in progress.  This is a composite patch of several matters in development.  None are totally complete at this time.
------------------------------------------------------------------------
871 rmills@rmillsmbp:~/gnu/exiv2/trunk $ </pre>I attach the bandit file with two IPTC blocks:<pre>875 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiv2 -pS ETH0138028.jpg
STRUCTURE OF JPEG FILE: http://dev.exiv2.org/attachments/download/525/ETH0138028.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe0 APP0  |      16 | JFIF.....,.,....
      22 | 0xe1 APP1  |    5372 | Exif..MM.*......................
    5396 | 0xe1 APP1  |    7186 | http://ns.adobe.com/xap/1.0/.&lt;?x
   12584 | 0xed APP13 |   18072 | Photoshop 3.0.8BIM.............
   30658 | 0xed APP13 |   18064 | Photoshop 3.0.8BIM.............
   48724 | 0xe2 APP2  |     576 | ICC_PROFILE......0ADBE....mntrRG
   49302 | 0xee APP14 |      14 | Adobe.d@......
   49318 | 0xdb DQT   |     132 
   49452 | 0xc0 SOF0  |      17 
   49471 | 0xdd DRI   |       4 
   49477 | 0xc4 DHT   |     418 
   49897 | 0xda SOS   |      12 
876 rmills@rmillsmbp:~/gnu/exiv2/trunk $ </pre></p>


	<p>I'll assign this to you.  If you get stuck, just assign it back to me.</p>


	<p>If you're interested, you may wish to read the forum discussion to understand how the file with two IPTC blocks was created.  <a class="external" href="http://dev.exiv2.org/boards/3/topics/1608?r=1624#message-1624">http://dev.exiv2.org/boards/3/topics/1608?r=1624#message-1624</a></p></div>
    </div>
  </div>
  
  <div id="change-5432" class="journal has-notes">
    <div id="note-19">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-19" class="journal-link">#19</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4722">Ben Touchette</a> <a title="21 Aug 2016 15:33" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5432-private_notes" class=""></span>
    </h4>

    <div id="journal-5432-notes" class="wiki"><p>Thanks, already read the forum posts, right after reading this item from the todo list. Will do, right now i have added a set of function to toggle flag a for the image to tell writeMetaData to disable writing app13_ that way i can call it from the Erase action,  problem i have right now is i'm either overwriting or underwriting some data not sure and will require a bit more investigation and tinkering but those two APP13 blocks are gone. Also need to read more on the jpg format to see where i may have messed up. because now i end up with APP2 blocks for the problem file.</p></div>
    </div>
  </div>
  
  <div id="change-5433" class="journal has-notes">
    <div id="note-20">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-20" class="journal-link">#20</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Aug 2016 15:49" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5433-private_notes" class=""></span>
    </h4>

    <div id="journal-5433-notes" class="wiki"><p>That's an interesting approach that I hadn't considered.  I was just going to remove the blocks.  I intended to binary copy the file leaving out the dead blocks.  Can be done "in-line" in printStructure without bothering with readMetadata() or writeMetadata().</p>


	<p>There's always more than one way to do things of course - however that was how I intended to deal with it.</p></div>
    </div>
  </div>
  
  <div id="change-5434" class="journal has-notes">
    <div id="note-21">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-21" class="journal-link">#21</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4722">Ben Touchette</a> <a title="21 Aug 2016 15:56" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5434-private_notes" class=""></span>
    </h4>

    <div id="journal-5434-notes" class="wiki"><p>I thought about that as well when i first saw what you had already added in but then it dawned on me that this could be useful in the future for other formats in case something similar happens.Its a bit more complex but should provide more flex in future since there will already be a mechanism to forward that info to the write function. Copy pasting all those functions too each file format and renaming them took most of the morning.</p></div>
    </div>
  </div>
  
  <div id="change-5435" class="journal has-notes">
    <div id="note-22">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-22" class="journal-link">#22</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Aug 2016 16:07" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5435-private_notes" class=""></span>
    </h4>

    <div id="journal-5435-notes" class="wiki"><p>Well, if you think that's the way to do this, please do that.  If you discover that kpsIptcErase is no longer used, could you totally remove it from the code base:<pre>917 rmills@rmillsmbp:~/gnu/exiv2/trunk $ find . -name "*.?pp" -exec grep -H kpsIptc {} \;
./include/exiv2/image.hpp:                 , kpsIccProfile    , kpsIptcErase
./src/actions.cpp:            rc = printStructure(std::cout,Exiv2::kpsIptcErase);
./src/actions.hpp:          @brief Print image Structure information (used by ctIptcRaw/kpsIptcErase)
./src/jpgimage.cpp:        if ( bPrint || option == kpsXMP || option == kpsIccProfile || option == kpsIptcErase ) {
./src/jpgimage.cpp:                            // and dumping the XMP in a post read operation similar to kpsIptcErase
./src/jpgimage.cpp:                    } else if ( option == kpsIptcErase &#38;&#38; std::strcmp(signature,"Photoshop 3.0") == 0 ) {
./src/jpgimage.cpp:        if ( option == kpsIptcErase ) {
./src/webpimage.cpp:        if ( bPrint || option == kpsXMP || option == kpsIccProfile || option == kpsIptcErase ) {
889 rmills@rmillsmbp:~/gnu/exiv2/trunk $ </pre>I was thinking we might want more delete/print functions to printStructure() in future.  However let's stick exactly to the spec of this issue and implement -dI.</p>


	<p>Incidentally, there's something similar to be fixed because -iX is removing the MakerNote <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: exiv2 -iX &lt;file.jpg&gt; deletes Makernote (Closed)" href="/issues/1064">#1064</a>.</p>


	<p>Thank You for getting involved.  I'm so exhausted with Exiv2.  You are getting the wind back in my sails.  Thank You.</p></div>
    </div>
  </div>
  
  <div id="change-5436" class="journal has-notes">
    <div id="note-23">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-23" class="journal-link">#23</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Aug 2016 17:50" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5436-private_notes" class=""></span>
    </h4>

    <div id="journal-5436-notes" class="wiki"><p>I've thought of something else about this.  I believe it's a spec violation to have two IPTC blocks in a JPEG (and probably other formats that support IPTC).  Simply saying "don't write IPTC", or "don't write JPEG/APP3/PhotoShop" might not be the correct fix.  I have in mind that -dI will <em><strong>exterminate</strong></em> IPTC totally from the file.  The option <strong><code>-dX</code></strong> exterminates XMP blocks.</p>


	<p>And let me explain my thinking which are not <em><strong>tablets of stone</strong></em>.  You are welcome to think differently about this.</p>


	<p>The origin of printStructure() was work done by Tuan on the webready project.  Tuan was a GSoC student.  Very clever and able young man. Alison are going on vacation with him in Vietnam in December.  He was curious about how the metadata was stored in the files.  He added JpegImage::printStructure() and PngImage::printStructure() which he accessed from option <strong><code>--struct</code></strong> in exifprint.cpp.  This was so useful, it was made available as <strong><code>exiv2 -pS</code></strong> in v0.25 which also had  <strong><code>-pX</code></strong> and <strong><code>TiffImage::printStructure()</code></strong>.  For v0.26, I added <strong><code>-pR</code></strong> and support dumping for IPTC blocks.  Maybe v0.27 <strong><code>-pR</code></strong> will dump MakerNotes.</p>


	<p>Exiv2 has supported for a long time <strong><code>-{i|d|e}tgt</code></strong> where <em><strong><code>tgt: {a|e|i|x}+</code></strong></em>.  These options operate on the file foo.exv (which is a pure metadata jpg).</p>


	<p>I've been thinking to support <strong><code>-{p|d}TGT</code></strong> where <em><strong><code>TGT: {E|I|X|C|-}+</code></strong></em>.</p>


	<p>This is why <strong><code>-ix</code></strong> and <strong><code>-iX</code></strong> are different.  <strong><code>exiv2 -ix foo.abc</code></strong> reads XMP from foo.exv. <strong><code>exiv2 -iX foo.abc</code></strong> reads XML from foo.xml</p>


	<p>TGT: <strong><code>-i-</code></strong> means <em>"read from stdin"</em>.  TGT: <strong><code>-e-</code></strong> means <em>"write to stdout"</em> instead of foo.exv.</p>


	<p>I hope you find that this explanation helpful.  The essential point I want to make is that I had in mind that <strong><code>-dI</code></strong> would be a file operation that doesn't involve readMetadata() or writeMetadata() and is a file maintenance/repair feature.   If I have confused you, just proceed as you think best!</p></div>
    </div>
  </div>
  
  <div id="change-5437" class="journal has-notes">
    <div id="note-24">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-24" class="journal-link">#24</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4722">Ben Touchette</a> <a title="21 Aug 2016 18:05" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5437-private_notes" class=""></span>
    </h4>

    <div id="journal-5437-notes" class="wiki"><p>I'm not exactly my married to my idea lol. Definitely gives me stuff to ponder.</p></div>
    </div>
  </div>
  
  <div id="change-5438" class="journal has-notes">
    <div id="note-25">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-25" class="journal-link">#25</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4722">Ben Touchette</a> <a title="21 Aug 2016 18:19" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5438-private_notes" class=""></span>
    </h4>

    <div id="journal-5438-notes" class="wiki"><p>Glad i could help it's tough to work on a project mostly solo; i know, i also think i need to reread the jpg specs. I'll be taking a closer look at it in the morning. Vietnam eh, sounds interesting i take it that it's a first time visit there?</p></div>
    </div>
  </div>
  
  <div id="change-5439" class="journal has-notes">
    <div id="note-26">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-26" class="journal-link">#26</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Aug 2016 18:51" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5439-private_notes" class=""></span>
    </h4>

    <div id="journal-5439-notes" class="wiki"><p>It's good to work alone.  I get to do what I think is best with little interference.  On the other hand, when I'm swamped with too much to do, I get discouraged.  Gilles insisting that we do WebP for v0.26 is a good example of interference.  The priority is to finish v0.26, not to start new stuff.  Anyway, WebP is done and now you're helping me to finish v0.26.  So everything's going well.</p>


	<p>Item 1 on our bucket list was to do huge things to our house.  We're almost done.  Item 2 is a "round the world" trip.  Tuan comes from Vietnam and lives in Singapore.  We'll visit Team Exiv2 members along the way.  Christmas and New Year with Australian friends in Melbourne.  We'll make our first visit to India, Vietnam, Singapore, NZ and Peru.  <a class="external" href="http://clanmills.com/BucketList.shtml">http://clanmills.com/BucketList.shtml</a></p></div>
    </div>
  </div>
  
  <div id="change-5440" class="journal has-notes">
    <div id="note-27">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-27" class="journal-link">#27</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4722">Ben Touchette</a> <a title="21 Aug 2016 19:01" href="/projects/exiv2/activity?from=2016-08-21">about 5 years</a> ago
      <span id="journal-5440-private_notes" class=""></span>
    </h4>

    <div id="journal-5440-notes" class="wiki"><p>Indeed, and nice set of places to visit. I had Australia and NZ on my list, maybe thailand as well for S-E Asia.</p></div>
    </div>
  </div>
  
  <div id="change-5454" class="journal has-notes has-details">
    <div id="note-28">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-28" class="journal-link">#28</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Aug 2016 16:19" href="/projects/exiv2/activity?from=2016-08-25">about 5 years</a> ago
      <span id="journal-5454-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Ben Touchette</i> to <i>Robin Mills</i></li>
       <li><strong>% Done</strong> changed from <i>50</i> to <i>100</i></li>
    </ul>
    <div id="journal-5454-notes" class="wiki"><p>Ben isn't feeling very well, so I've taken this over again.  Fix submitted <a class="changeset" title="#922 exiv2 -dI deletes all IPTC chunks in a JPEG." href="/projects/exiv2/repository/exiv2/revisions/4434">r4434</a>.  I don't want to put the 1.69mb JPEG into the test suite.  It is attached to this issue.</p>


	<p>Ben if you ever want to undo my fix and apply your own, I'll be happy to review and discuss your version of fixing this.<pre>$ cp ETH0138028.jpg E.jpg ; exiv2 -pS E.jpg ; exiv2 -dI E.jpg ; exiv2 -pS E.jpg 
STRUCTURE OF JPEG FILE: E.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe0 APP0  |      16 | JFIF.....,.,....
      22 | 0xe1 APP1  |    5372 | Exif..MM.*......................
    5396 | 0xe1 APP1  |    7186 | http://ns.adobe.com/xap/1.0/.&lt;?x
   12584 | 0xe2 APP2  |     576 | rRGB XYZ ............acspAPPL..
   13164 | 0xed APP13 |   18072 | Photoshop 3.0.8BIM.............
   31238 | 0xed APP13 |   18064 | Photoshop 3.0.8BIM.............
   49304 | 0xe2 APP2  |     576 | ICC_PROFILE......0ADBE....mntrRG
   49882 | 0xee APP14 |      14 | Adobe.d@......
   49898 | 0xdb DQT   |     132 
   50032 | 0xc0 SOF0  |      17 
   50051 | 0xdd DRI   |       4 
   50057 | 0xc4 DHT   |     418 
   50477 | 0xda SOS   |      12 
Warning: JPEG format error, rc = 5
STRUCTURE OF JPEG FILE: E.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe0 APP0  |      16 | JFIF.....,.,....
      22 | 0xe1 APP1  |    5372 | Exif..MM.*......................
    5396 | 0xe1 APP1  |    7186 | http://ns.adobe.com/xap/1.0/.&lt;?x
   12584 | 0xe2 APP2  |     576 | ....none.......................
   13164 | 0xe2 APP2  |     576 | rRGB XYZ ............acspAPPL..
   13742 | 0xed APP13 |     576 | ICC_PROFILE......0ADBE....mntrRG
   14320 | 0xee APP14 |      14 | Adobe.d@......
   14336 | 0xdb DQT   |     132 
   14470 | 0xc0 SOF0  |      17 
   14489 | 0xdd DRI   |       4 
   14495 | 0xc4 DHT   |     418 
   14915 | 0xda SOS   |      12 
$ cp ~/Stonehenge.jpg S.jpg ; exiv2 -pS S.jpg ; exiv2 -dI S.jpg ; exiv2 -pS S.jpg 
STRUCTURE OF JPEG FILE: S.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe1 APP1  |   15288 | Exif..II*......................
   15294 | 0xe1 APP1  |    2610 | http://ns.adobe.com/xap/1.0/.&lt;?x
   17906 | 0xe2 APP2  |    4094 | .............0...4..............
   22004 | 0xed APP13 |      96 | Photoshop 3.0.8BIM.......'.....
   22102 | 0xe2 APP2  |    4094 | MPF.II*...............0100.....
   26198 | 0xdb DQT   |     132 
   26332 | 0xc0 SOF0  |      17 
   26351 | 0xc4 DHT   |     418 
   26771 | 0xda SOS   |      12 
STRUCTURE OF JPEG FILE: S.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe1 APP1  |   15288 | Exif..II*......................
   15294 | 0xe1 APP1  |    2610 | http://ns.adobe.com/xap/1.0/.&lt;?x
   17906 | 0xe2 APP2  |    4094 | .............0...4..............
   22004 | 0xe2 APP2  |    4094 | .............0...4..............
   26100 | 0xed APP13 |    4094 | MPF.II*...............0100.....
   30196 | 0xdb DQT   |     132 
   30330 | 0xc0 SOF0  |      17 
   30349 | 0xc4 DHT   |     418 
   30769 | 0xda SOS   |      12 
614 rmills@rmillsmbp:~/gnu/exiv2/trunk $</pre></p></div>
    </div>
  </div>
  
  <div id="change-5474" class="journal has-details">
    <div id="note-29">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-29" class="journal-link">#29</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Aug 2016 21:47" href="/projects/exiv2/activity?from=2016-08-27">about 5 years</a> ago
      <span id="journal-5474-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Closed</i></li>
    </ul>
    
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/922.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/922.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
