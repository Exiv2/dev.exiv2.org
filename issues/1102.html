<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Bug #1102: install: cannot stat &#39;../bin/.libs/exiv2.exe&#39;: No such file or directory - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="lduesYHWlwm2GjzNCmZ+o6EozynD/Cxcg5rE7RsRJfN3ljVe86xbCeN+I8G1sXKQnrqbUDIfjeZ+ulRlWCjCnA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Bug #1102: install: cannot stat &#39;../bin/.libs/exiv2.exe&#39;: No such file or directory" href="https://dev.exiv2.org/issues/1102.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Bug #1102</h2>

<div class="issue tracker-1 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>install: cannot stat &#39;../bin/.libs/exiv2.exe&#39;: No such file or directory</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/4490">Jakub Wilk</a> <a title="09 Aug 2015 14:16" href="/projects/exiv2/activity?from=2015-08-09">over 6 years</a> ago.
        Updated <a title="01 Feb 2016 11:17" href="/projects/exiv2/activity?from=2016-02-01">almost 6 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/119">Robin Mills</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">build</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="28 Apr 2017" href="/versions/52">0.26</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">09 Aug 2015</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value">4.00 h</div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>I tried to cross-compile Exiv2 using the MinGW-w64 compiler (<code>--host=i686-w64-mingw32</code>).<br />But <code>make install</code> failed with:</p>


<pre>
libtool: install: /usr/bin/install -c ../bin/.libs/exiv2.exe /home/jwilk/windows/usr/local/bin/exiv2.exe
/usr/bin/install: cannot stat '../bin/.libs/exiv2.exe': No such file or directory
Makefile:277: recipe for target 'install' failed
</pre>

	<p>Apparently the <code>install</code> target depends on <code>$(EXIV2BIN)</code>, but then it tries to install <code>$(EXIV2EXE)</code>.</p>


	<p>The attached patch gets rid of <code>EXIV2BIN</code>, and uses <code>EXIV2EXE</code> everywhere instead.</p>
  </div>
</div>
  <hr />
  <p><strong>Files</strong></p>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/809">EXIV2EXE.diff</a>    <span class="size">(1.28 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/809/EXIV2EXE.diff">EXIV2EXE.diff</a>  </td>
  <td></td>
  <td>
      <span class="author">Jakub Wilk, 09 Aug 2015 14:16</span>
  </td>
  <td>
  </td>
</tr>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/953">exiv2-r4196.zip</a>    <span class="size">(1.39 MB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/953/exiv2-r4196.zip">exiv2-r4196.zip</a>  </td>
  <td></td>
  <td>
      <span class="author">Jakub Wilk, 29 Jan 2016 20:54</span>
  </td>
  <td>
  </td>
</tr>
</table>
</div>







<hr />
<div id="relations">
<div class="contextual">
</div>

<p><strong>Related issues</strong></p>

<form data-cm-url="/issues/context_menu" action="/issues/1102" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="tzslV5ZtuIWszyNCRSTvf8n6a0hS2yOIetTYP0pR9bpVdo645Bd0hfmrPE768+NM9mg/MaM4gjKH9Ei3CWgS1Q==" />
  <table class="list issues odd-even"><tr id="relation-204" class="issue hascontextmenu issue tracker-1 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1159" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-1 status-5 priority-4 priority-default closed" href="/issues/1159">Bug #1159</a>: fff.h:33:2: error: &#39;BYTE&#39; does not name a type</td><td class="status">Closed</td><td class="start_date">29 Jan 2016</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr></table>
</form>
<form class="new_relation" id="new-relation-form" style="display: none;" action="/issues/1102/relations" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />


<p><select onchange="setPredecessorFieldsVisibility();" name="relation[relation_type]" id="relation_relation_type"><option selected="selected" value="relates">Related to</option>
<option value="duplicates">Is duplicate of</option>
<option value="duplicated">Has duplicate</option>
<option value="blocks">Blocks</option>
<option value="blocked">Blocked by</option>
<option value="precedes">Precedes</option>
<option value="follows">Follows</option>
<option value="copied_to">Copied to</option>
<option value="copied_from">Copied from</option></select>
Issue #<input size="10" type="text" name="relation[issue_to_id]" id="relation_issue_to_id" />
<span id="predecessor_fields" style="display:none;">
Delay: <input size="3" type="text" name="relation[delay]" id="relation_delay" /> days
</span>
<input type="submit" name="commit" value="Add" data-disable-with="Add" />
<a href="#" onclick="$(&quot;#new-relation-form&quot;).hide();; return false;">Cancel</a>
</p>

<script>
//<![CDATA[
observeAutocompleteField('relation_issue_to_id', '/issues/auto_complete?issue_id=1102&project_id=exiv2&scope=all')
//]]>
</script>

<script>
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>
</div>

</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset">
    <p><a title="Revision 3985" href="/projects/exiv2/repository/exiv2/revisions/3985">Revision 3985</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3985/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="10 Oct 2015 10:07" href="/projects/exiv2/activity?from=2015-10-10">about 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: install: cannot stat &#39;../bin/.libs/exiv2.exe&#39;: No such file or directory (Closed)" href="/issues/1102">#1102</a>.  Thank You to Jakub for reporting this and providing a patch.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4375" href="/projects/exiv2/repository/exiv2/revisions/4375">Revision 4375</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4375/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="14 Aug 2016 05:43" href="/projects/exiv2/activity?from=2016-08-14">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: install: cannot stat &#39;../bin/.libs/exiv2.exe&#39;: No such file or directory (Closed)" href="/issues/1102">#1102</a>.  Correction to <a class="changeset" title="#1202 Adding &quot;Manual&quot; Exif.CanonCs.FocusContinuous" href="/projects/exiv2/repository/exiv2/revisions/4365">r4365</a>.  canonmn.cpp#1238 should not have been changed.  Thanks to Sridhar for bringing this to my attention.</p>
    </div>
    </div>

</div>



<div id="history">
<h3>History</h3>
  <div id="change-3997" class="journal has-details">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Aug 2015 17:05" href="/projects/exiv2/activity?from=2015-08-21">about 6 years</a> ago
      <span id="journal-3997-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Category</strong> set to <i>build</i></li>
       <li><strong>Status</strong> changed from <i>New</i> to <i>Assigned</i></li>
       <li><strong>Assignee</strong> set to <i>Robin Mills</i></li>
       <li><strong>Target version</strong> set to <i>0.26</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4283" class="journal has-details">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Sep 2015 11:11" href="/projects/exiv2/activity?from=2015-09-24">about 6 years</a> ago
      <span id="journal-4283-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Estimated time</strong> set to <i>3.00 h</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4364" class="journal has-notes has-details">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="10 Oct 2015 10:07" href="/projects/exiv2/activity?from=2015-10-10">about 6 years</a> ago
      <span id="journal-4364-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Resolved</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
       <li><strong>Estimated time</strong> changed from <i>3.00 h</i> to <i>1.00 h</i></li>
    </ul>
    <div id="journal-4364-notes" class="wiki"><p>Submitted: <a class="changeset" title="#1102.  Thank You to Jakub for reporting this and providing a patch." href="/projects/exiv2/repository/exiv2/revisions/3985">r3985</a>  Thanks for reporting this and providing the patch.  As you know, I never cross-compile.  Perhaps you could build/test this and let me know if you encounter an issue.  Here are the instructions to run the test suite:  <a class="external" href="http://dev.exiv2.org/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2">http://dev.exiv2.org/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2</a></p>


	<p>I've reviewed the code in samples/Makefile.  I think that will successfully build the executables exiv2json.exe and friends.  Some of the samples are build with the library (exifprint.exe) and I'm not too confident that these will be correctly cross-compiled.  I'll cross-compile and investigate this today.</p>


	<p>I'm going to optimistically change the status to Resolved/100%.</p></div>
    </div>
  </div>
  
  <div id="change-4365" class="journal has-notes">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="10 Oct 2015 10:54" href="/projects/exiv2/activity?from=2015-10-10">about 6 years</a> ago
      <span id="journal-4365-private_notes" class=""></span>
    </h4>

    <div id="journal-4365-notes" class="wiki"><p>I don't know how to get the cross-compiler to work.  On Linux (ubuntu 15.04) I've installed the tools:<pre>sudo apt-get install gcc-i686-w64-mingw32
sudo apt-get install gcc-mingw32-w64-i686
sudo apt-get install gcc-mingw-i686-dev
sudo apt-get install mingw-w64-i686-dev
sudo apt-get install binutils-mingw-w64-i686 g++-mingw-w64-i686 gcc-mingw-w64-i686
sudo apt-get install ming-w64
</pre>However when I build exiv2, it produces an ominous warning.<pre>
env CXXFLAGS=--target=i686-w64-mingw32 CFLAGS=--target=i686-w64-mingw ./configure
..
make
...
cc1plus: warning: command line option ‘-ftarget=i686-w64-mingw32’ is valid for Java but not for C++ [enabled by default]</pre>I've tried to cross compile zlib-1.2.8 and expat which have no dependencies.  No .exe or .dll has been generated.  Not convinced this is working.</p>


	<p>If you can cross-compile can you post exiv2.exe (and the expat dll) and I'll run the test suite on a MinGW/64 on the build server.</p></div>
    </div>
  </div>
  
  <div id="change-4398" class="journal has-notes">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4490">Jakub Wilk</a> <a title="23 Oct 2015 19:42" href="/projects/exiv2/activity?from=2015-10-23">about 6 years</a> ago
      <span id="journal-4398-private_notes" class=""></span>
    </h4>

    <div id="journal-4398-notes" class="wiki"><p>This <code>./configure</code> call doesn't look good. It should be:<br /><pre>
./configure --host=i686-w64-mingw32 
</pre><br />(with no special CXXFLAGS or CFLAGS set)</p>


	<p>I'll try to cross-build and run the tests later...</p></div>
    </div>
  </div>
  
  <div id="change-4538" class="journal has-notes">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="06 Dec 2015 21:28" href="/projects/exiv2/activity?from=2015-12-06">almost 6 years</a> ago
      <span id="journal-4538-private_notes" class=""></span>
    </h4>

    <div id="journal-4538-notes" class="wiki"><p>Jakub</p>


	<p>Thanks for the tip about ./configure --host=i686-w64-mingw32  Here's what happens:<pre>mkdir -pv ../bin 2&gt;&#38;1 &gt; /dev/null
libtool: link: g++ -o ../bin/.libs/exiv2 exiv2.o actions.o utils.o  -L/home/rmills/gnu/exiv2/trunk/xmpsdk/src ./.libs/libexiv2.a -lz /usr/lib/x86_64-linux-gnu/libexpat.so -lpsapi -lwldap32 -lws2_32 -L/usr/lib/x86_64-linux-gnu -L/usr/local/lib
/usr/bin/ld: cannot find -lpsapi
/usr/bin/ld: cannot find -lwldap32
/usr/bin/ld: cannot find -lws2_32
collect2: error: ld returned 1 exit status
Makefile:253: recipe for target 'exiv2' failed
make[1]: *** [exiv2] Error 1
make[1]: Leaving directory '/home/rmills/gnu/exiv2/trunk/src'
Makefile:60: recipe for target 'all' failed
make: *** [all] Error 2
502 rmills@rmillsmbp-k1504:~/gnu/exiv2/trunk $</pre>So, I don't have three libraries on Unix:  psapi, wldap32 and ws2_32.  I can easily dummy off the code that uses psapi in version.cpp.  I'm not sure what we call in wldap32.  ws2_32 is winsock.  Not sure how to get them onto the Unix builder.</p>


	<p>Jakub, if you have this build, I can easily run the test suite on your binaries if you zip and post them here.</p></div>
    </div>
  </div>
  
  <div id="change-4770" class="journal has-notes has-details">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4490">Jakub Wilk</a> <a title="29 Jan 2016 20:54" href="/projects/exiv2/activity?from=2016-01-29">almost 6 years</a> ago
      <span id="journal-4770-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>File</strong> <a href="/attachments/953">exiv2-r4196.zip</a> <a class="icon-only icon-download" title="Download" href="/attachments/download/953/exiv2-r4196.zip">exiv2-r4196.zip</a> added</li>
    </ul>
    <div id="journal-4770-notes" class="wiki"><p>The cross compiler shouldn't normally have any problem with finding these libraries.<br />But here, for some reason, the normal (non-cross) compiler was used for linking.<br />This is weird. I have no idea why this happened to you. It certainly never happened here.</p>


	<p>Anyway, with svn <a class="changeset" title="Refactored into functions.  Better command-line parser" href="/projects/exiv2/repository/exiv2/revisions/4196">r4196</a> (+ patch for <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: fff.h:33:2: error: &#39;BYTE&#39; does not name a type (Closed)" href="/issues/1159">#1159</a>) I was able to successfully cross-build Exiv2.<br />I've attached the resulting binaries so that you can test them.</p></div>
    </div>
  </div>
  
  <div id="change-4771" class="journal has-notes has-details">
    <div id="note-8">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-8" class="journal-link">#8</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="29 Jan 2016 21:54" href="/projects/exiv2/activity?from=2016-01-29">almost 6 years</a> ago
      <span id="journal-4771-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>100</i> to <i>30</i></li>
       <li><strong>Estimated time</strong> changed from <i>1.00 h</i> to <i>3.00 h</i></li>
    </ul>
    <div id="journal-4771-notes" class="wiki"><p>Thanks for working on this Jakub.  I'll test your binaries on Windows tomorrow.</p>


	<p>I think you've solved the linking puzzle.  My linux VM is linking the host libraries and not the platform libraries.   I have several Linux VMs.  I'll figure this out tomorrow.</p>


	<p>Thanks for the patch for <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: fff.h:33:2: error: &#39;BYTE&#39; does not name a type (Closed)" href="/issues/1159">#1159</a>.  The MSVC build is failing, however I don't suspect your patch.  I believe the MSVC build has been broken for a few days and haven't had time to investigate.  So, I have a few things to fix on Saturday.</p></div>
    </div>
  </div>
  
  <div id="change-4772" class="journal has-notes has-details">
    <div id="note-9">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-9" class="journal-link">#9</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 Feb 2016 11:17" href="/projects/exiv2/activity?from=2016-02-01">almost 6 years</a> ago
      <span id="journal-4772-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Resolved</i> to <i>Closed</i></li>
       <li><strong>% Done</strong> changed from <i>30</i> to <i>100</i></li>
       <li><strong>Estimated time</strong> changed from <i>3.00 h</i> to <i>4.00 h</i></li>
    </ul>
    <div id="journal-4772-notes" class="wiki"><p>Jakub</p>


	<p>I've fixed the MSVC build breaker <a class="changeset" title="#1159.  Fixing MSVC build-breaker in r4197 and r4179. Two different issues: r4197 include &lt;windef..." href="/projects/exiv2/repository/exiv2/revisions/4198">r4198</a>.  There were two faults.  One was introduced by <a class="changeset" title="#1149.  Added fff.h (from plir.com) and code strengthening." href="/projects/exiv2/repository/exiv2/revisions/4179">r4179</a>.  However the other arrived with your patch and I changed<pre><code class="cplusplus syntaxhl"><span class="cp">#include &lt;windef.h&gt;</span></code></pre>to:<pre><code class="cplusplus syntaxhl"><span class="cp">#include &lt;windows.h&gt;</span></code></pre>Can you rebuild your cross-compilation as I may have accidentally broken that build configuration.</p>


	<p>Thanks for providing  the binaries.  I ran the test suite.  It mostly works OK.  I see your build is 32 bit.  It's occasionally crashing.  I only use MinGW on the build server and always build and test 64 bits.  I think there's something not in balance with the 32 bit MinGW installed on the buildserver.  I'm not going to pursue this as I think the build is OK.</p>


	<p>I tried to cross compile on another Linux VM with the usual frustration and lack of success.  There's a pea-soup of symbols i686, mingw, x64 (and others).  You have to align all of those correctly to install the correct versions of libexpat, libz, gcc and so on.  I've concluded that I cannot support cross-compiling.</p>


	<p>If you'd like to join the team to support cross-compiling I would be very pleased to accept your help.  It would be good in v0.27 to add magic to Jenkins to cross compile (from Linux) and test (on MinGW 32/64).  If you're interested in helping, I'll work with you to bring that to life.</p>


	<p>However, at the moment, I have a about 400 hours of work scheduled for v0.26.  <a class="external" href="http://dev.exiv2.org/projects/exiv2/news">http://dev.exiv2.org/projects/exiv2/news</a></p></div>
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/1102.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/1102.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
