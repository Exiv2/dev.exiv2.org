<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Feature #1023: Fix make testx on trunk   - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="ho/N/wLXEEnk9/Avif9RAEOc7yN8oFa9WlCVf3YH9sxkwmYQcK3cSbGT7yM2KF0zfA67Wo1D9wencAX3NT4Row==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Feature #1023: Fix make testx on trunk  " href="https://dev.exiv2.org/issues/1023.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Feature #1023</h2>

<div class="issue tracker-2 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Fix make testx on trunk  </h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="08 Jan 2015 16:27" href="/projects/exiv2/activity?from=2015-01-08">almost 7 years</a> ago.
        Updated <a title="06 Oct 2016 08:12" href="/projects/exiv2/activity?from=2016-10-06">about 5 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/119">Robin Mills</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">testing</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="28 Apr 2017" href="/versions/52">0.26</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">08 Jan 2015</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value">10.00 h</div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>When Tuan implemented "Cloud Ready" he used an AWS node to provide web/ssh/ftp services.  That node had a one year license and no longer exists.  So three test scripts need to be fixed.  The scripts are:</p>


<blockquote>

	<p>test/httpiotest.sh<br />test/curliotest.sh<br />test/sshiotest.sh</p>


</blockquote>

	<p>And of course, make testx must pass on all supported platforms (Mac/Linux/Cygwin/MinGW/MSVC).</p>
  </div>
</div>







</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset">
    <p><a title="Revision 4583" href="/projects/exiv2/repository/exiv2/revisions/4583">Revision 4583</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4583/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="29 Sep 2016 13:05" href="/projects/exiv2/activity?from=2016-09-29">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Fix make testx on trunk   (Closed)" href="/issues/1023">#1023</a> HTTP and HTTPS test support.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4585" href="/projects/exiv2/repository/exiv2/revisions/4585">Revision 4585</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4585/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="29 Sep 2016 15:30" href="/projects/exiv2/activity?from=2016-09-29">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Fix make testx on trunk   (Closed)" href="/issues/1023">#1023</a> Fix getDataByRange CURLOPT_SSL_VERIFYHOST.  Fix http-test.sh (and associated test/data/http-test.out).</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4588" href="/projects/exiv2/repository/exiv2/revisions/4588">Revision 4588</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4588/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="29 Sep 2016 19:38" href="/projects/exiv2/activity?from=2016-09-29">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Fix make testx on trunk   (Closed)" href="/issues/1023">#1023</a>  Fix http-test.sh to detect support for https.  This isn't working very well.  I think the jenkins/https support is suspect.</p>
    </div>
    </div>

</div>



<div id="history">
<h3>History</h3>
  <div id="change-3123" class="journal has-notes has-details">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Jan 2015 15:55" href="/projects/exiv2/activity?from=2015-01-25">almost 7 years</a> ago
      <span id="journal-3123-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Robin Mills</i> to <i>Nehal J Wani</i></li>
    </ul>
    <div id="journal-3123-notes" class="wiki"><p>I've assigned this to Nehal and we have had a private email conversation about this.  Nehal, you are welcome to assign this back to me if are too busy to make progress.</p></div>
    </div>
  </div>
  
  <div id="change-3555" class="journal has-details">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="28 Apr 2015 12:35" href="/projects/exiv2/activity?from=2015-04-28">over 6 years</a> ago
      <span id="journal-3555-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Nehal J Wani</i> to <i>Robin Mills</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-3681" class="journal has-notes has-details">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="09 May 2015 08:20" href="/projects/exiv2/activity?from=2015-05-09">over 6 years</a> ago
      <span id="journal-3681-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Target version</strong> changed from <i>0.25</i> to <i>0.26</i></li>
    </ul>
    <div id="journal-3681-notes" class="wiki"><p>'webready' is experimental in v0.25.  Deferred to v0.26. Insufficient time to deal with this for v0.25.</p></div>
    </div>
  </div>
  
  <div id="change-3755" class="journal has-details">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="23 May 2015 08:38" href="/projects/exiv2/activity?from=2015-05-23">over 6 years</a> ago
      <span id="journal-3755-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> deleted (<del><i>Robin Mills</i></del>)</li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4374" class="journal has-details">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="12 Oct 2015 09:00" href="/projects/exiv2/activity?from=2015-10-12">about 6 years</a> ago
      <span id="journal-4374-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> set to <i>Robin Mills</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4631" class="journal has-details">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="04 Jan 2016 10:39" href="/projects/exiv2/activity?from=2016-01-04">almost 6 years</a> ago
      <span id="journal-4631-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>0</i> to <i>10</i></li>
       <li><strong>Estimated time</strong> set to <i>15.00 h</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-5642" class="journal has-notes has-details">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="29 Sep 2016 13:07" href="/projects/exiv2/activity?from=2016-09-29">about 5 years</a> ago
      <span id="journal-5642-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>10</i> to <i>40</i></li>
    </ul>
    <div id="journal-5642-notes" class="wiki"><p><a class="changeset" title="Revisions for v0.27.3 RC2" href="/projects/exiv2/repository/exiv2/revisions/4883">r4883</a> added test/http-test.sh</p>


	<p>I have updated the buildserver to support both HTTP and HTTPS by following this:  <a class="external" href="https://github.com/hughperkins/howto-jenkins-ssl">https://github.com/hughperkins/howto-jenkins-ssl</a></p>


	<p>The certificate is self-signed, which can cause curl to panic.  You can calm curl's fears with the command:<pre>$ curl --insecure -O https://exiv2.dyndns.org:8443/userContent/testfiles/webready/Reagan.jpg</pre>I'm not going to proceed to get ftp/sftp/ssh to work.</p>


	<p>I don't intend to make the remote-io tests part of the standard test for the following reasons:</p>


	<p>1) The default build does not use curl and therefore does not support HTTPS/SSH/SFTP.<br />2) These tests can be slow on a sluggish internet connection</p>


	<p>I am not going to delete Tuan's tests because I know they work.  I'll discuss it with him and see if we restore them to full health on the build server.  However that discussion and subsequent action is not part of this issue.</p></div>
    </div>
  </div>
  
  <div id="change-5660" class="journal has-notes has-details">
    <div id="note-8">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-8" class="journal-link">#8</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="06 Oct 2016 08:12" href="/projects/exiv2/activity?from=2016-10-06">about 5 years</a> ago
      <span id="journal-5660-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Closed</i></li>
       <li><strong>% Done</strong> changed from <i>40</i> to <i>100</i></li>
       <li><strong>Estimated time</strong> changed from <i>15.00 h</i> to <i>10.00 h</i></li>
    </ul>
    <div id="journal-5660-notes" class="wiki"><p>I'm not going to do any more work on this for v0.26.  I'll talk to Tuan when I'm in Singapore and hopefully motivate him to do a little work on this in 2017.</p>


	<p>I added test/http-test.sh to test http and https using the build server.</p></div>
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/1023.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/1023.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
