<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Feature #1121: Visual Studio support for v0.27 - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="5fZhlNrzPDH/b++9IbabdbD+Zjtt/fhYpOsjnUJYocwHu8p7qInwMaoL8LGeYZdGj2wyQpweWeJZy7MVAWFGow==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Feature #1121: Visual Studio support for v0.27" href="https://dev.exiv2.org/issues/1121.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Feature #1121</h2>

<div class="issue tracker-2 status-5 priority-4 priority-default closed details">
    <div class="next-prev-links contextual">
      <a title="#1123" accesskey="p" href="/issues/1123">« Previous</a> |
        <span class="position">
          <a href="/issues?f%5B%5D=status_id&amp;f%5B%5D=author_id&amp;op%5Bauthor_id%5D=%3D&amp;op%5Bstatus_id%5D=%2A&amp;page=3&amp;per_page=25&amp;set_filter=1&amp;sort=id%3Adesc&amp;v%5Bauthor_id%5D%5B%5D=119&amp;v%5Bstatus_id%5D%5B%5D=">62 of 115</a>
        </span> |
      <a title="#1116" accesskey="n" href="/issues/1116">Next »</a>
    </div>

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Visual Studio support for v0.27</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Sep 2015 07:32" href="/projects/exiv2/activity?from=2015-09-24">about 6 years</a> ago.
        Updated <a title="14 Nov 2018 16:44" href="/projects/exiv2/activity?from=2018-11-14">about 3 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/119">Robin Mills</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">build</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="28 Dec 2018" href="/versions/55">0.27</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">24 Sep 2015</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value">10.00 h</div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Complete support for VS 2013 and 2015 including the build server.</p>


	<p>In v0.24, the build infrastructure from msvc2005 broke on Visual Studio 2012.  I only discovered this during final testing in July 2013 and I quickly resolved this by introducing a new msvc2012 tree.  However, I re-engineered msvc2005 for v0.25 to work correctly with Visual Studio 2005/8/10/12.  There was insufficient time on v0.25 to investigate Visual Studio 2013, although several users reported success.</p>


	<p>I hope to continue to support msvc2003 for use by Visual Studio 2003 which does not have a 64 bit compiler.  However msvc2003 will not support features such as webready which require curl and other compiler support.  I hope to rename msvc2005 as msvc and it will support 2005/8/10/12/13/15 for 32 and 64 bit builds.</p>


	<p>v0.25 introduced a new script 'configure.bat' which calls configure.py.  This enables the user to configure the Visual Studio build system to optionally select different libraries to be included in the build.  Currently, when a library is selected, the code must be present in the prescribed directory relative to &lt;exiv2dir&gt;.  This should be extended to enable the use of pre-build binary libraries.  This will have a hugely beneficial impact on build times. When building support libraries from source, the increase in build time for expat and zlib are about 20-30 seconds each.  However, openssl/libssh/curl adds about 20-30 minutes to the build.  Storing precompiled copies of built libraries on build server will have a huge performance gain on the build server.</p>


	<p>The use of the clang compiler from within Visual Studio (as an alternative to the Microsoft cl compiler) should be investigated and supported if possible.</p>


	<p>The build server runs the test suite from jenkins_build.sh.  I will investigate modifying the Visual Studio solution/project files to enable tests to be run from Visual Studio itself.  To actually use those tests will require cygwin to be installed on the user's computer.  When cygwin is not available, the user will be instructed to install cygwin.  I had a prototype of this running some time ago and this is quite easy.</p>


	<p>When we add the groups of tests, the number of sub-projects in Visual Studio will be more than 50.  A hierarchy of projects should be established.  These would include "support" (zlib, expat etc) "core" (xmpsdk, src/*.cpp, exiv2, exifprint etc), "test apps" (iotest etc), "sample apps" (exiv2json etc), and "testing" (tests, teste etc).</p>
  </div>
</div>






<hr />
<div id="relations">
<div class="contextual">
</div>

<p><strong>Related issues</strong></p>

<form data-cm-url="/issues/context_menu" action="/issues/1121" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="+znfyfNyio24CF+NPuZAMsKlUCkBXREnNn+SnV1wa+EZdHQmgQhGje1sQIGBMUwB/TcEUPC+sJ3LXwIVHkmMjg==" />
  <table class="list issues odd-even"><tr id="relation-181" class="issue hascontextmenu issue tracker-2 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1041" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-2 status-5 priority-4 priority-default closed" href="/issues/1041">Feature #1041</a>: CMake toolchain for windows</td><td class="status">Closed</td><td class="start_date">15 Mar 2015</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr><tr id="relation-208" class="issue hascontextmenu issue tracker-3 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1169" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-3 status-5 priority-4 priority-default closed" href="/issues/1169">Support #1169</a>: Validate flag EXV_UNICODE_PATH/msvc2005 builds and passes the test suite</td><td class="status">Closed</td><td class="start_date">18 Mar 2016</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr><tr id="relation-209" class="issue hascontextmenu issue tracker-1 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1171" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-1 status-5 priority-4 priority-default closed" href="/issues/1171">Bug #1171</a>: localtime.c causes problems in MSVC 2015 &amp; is not needed</td><td class="status">Closed</td><td class="start_date">22 Mar 2016</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr><tr id="relation-217" class="issue hascontextmenu issue tracker-1 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1174" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-1 status-5 priority-4 priority-default closed" href="/issues/1174">Bug #1174</a>: Visual Studio Support Enhancements</td><td class="status">Closed</td><td class="start_date">31 Mar 2016</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr></table>
</form>
<form class="new_relation" id="new-relation-form" style="display: none;" action="/issues/1121/relations" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />


<p><select onchange="setPredecessorFieldsVisibility();" name="relation[relation_type]" id="relation_relation_type"><option selected="selected" value="relates">Related to</option>
<option value="duplicates">Is duplicate of</option>
<option value="duplicated">Has duplicate</option>
<option value="blocks">Blocks</option>
<option value="blocked">Blocked by</option>
<option value="precedes">Precedes</option>
<option value="follows">Follows</option>
<option value="copied_to">Copied to</option>
<option value="copied_from">Copied from</option></select>
Issue #<input size="10" type="text" name="relation[issue_to_id]" id="relation_issue_to_id" />
<span id="predecessor_fields" style="display:none;">
Delay: <input size="3" type="text" name="relation[delay]" id="relation_delay" /> days
</span>
<input type="submit" name="commit" value="Add" data-disable-with="Add" />
<a href="#" onclick="$(&quot;#new-relation-form&quot;).hide();; return false;">Cancel</a>
</p>

<script>
//<![CDATA[
observeAutocompleteField('relation_issue_to_id', '/issues/auto_complete?issue_id=1121&project_id=exiv2&scope=all')
//]]>
</script>

<script>
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>
</div>

</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset">
    <p><a title="Revision 4065" href="/projects/exiv2/repository/exiv2/revisions/4065">Revision 4065</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4065/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="05 Dec 2015 17:25" href="/projects/exiv2/activity?from=2015-12-05">almost 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Visual Studio support for v0.27 (Closed)" href="/issues/1121">#1121</a> (msvc support for v0.26).  exiv2 -vVg ^version reports version=8.00 (2005/x64) or version=8.00 (2005/x86) instead of version=8.00 (2005)</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4685" href="/projects/exiv2/repository/exiv2/revisions/4685">Revision 4685</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4685/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Nov 2016 10:54" href="/projects/exiv2/activity?from=2016-11-21">almost 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Visual Studio support for v0.27 (Closed)" href="/issues/1121">#1121</a> Fixes to msvc/*.vcproj to support VS2017 RC!</p>
    </div>
    </div>

</div>



<div id="history">
<h3>History</h3>
  <div id="change-4276" class="journal has-notes has-details">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Sep 2015 07:37" href="/projects/exiv2/activity?from=2015-09-24">about 6 years</a> ago
      <span id="journal-4276-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>0</i> to <i>10</i></li>
       <li><strong>Estimated time</strong> set to <i>100.00 h</i></li>
    </ul>
    <div id="journal-4276-notes" class="wiki"><p>I've made a solid start on this.  Visual Studio 2013 and 2015 are building and passing the test suite.  <a class="changeset" title="Fix Visual Studio localtime.c issue for Visual Studio 2015 (again)" href="/projects/exiv2/repository/exiv2/revisions/3967">r3967</a> <a class="changeset" title="Fix Visual Studio localtime.c issue for Visual Studio 2015" href="/projects/exiv2/repository/exiv2/revisions/3966">r3966</a> <a class="changeset" title="Correction to r3960 for Visual Studio" href="/projects/exiv2/repository/exiv2/revisions/3965">r3965</a> <a class="changeset" title="Fix Visual Studio 2015 build." href="/projects/exiv2/repository/exiv2/revisions/3960">r3960</a></p></div>
    </div>
  </div>
  
  <div id="change-4522" class="journal has-notes has-details">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="05 Dec 2015 17:35" href="/projects/exiv2/activity?from=2015-12-05">almost 6 years</a> ago
      <span id="journal-4522-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>10</i> to <i>20</i></li>
    </ul>
    <div id="journal-4522-notes" class="wiki"><p>I've made good progress with <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: CMake toolchain for windows (Closed)" href="/issues/1041">#1041</a> (CMake Support).  Basic exiv2+expat+zlib are building and passing the test suite.  curl/openssl/libssh also build (well, openssl is prebuilt).  I find it useful to monitor the progress of the build with grep ^version build/rebuild.txt which shows the version, but not x64/x86.  I've submitted a change <a class="changeset" title="#1121 (msvc support for v0.26).  exiv2 -vVg ^version reports version=8.00 (2005/x64) or version=8..." href="/projects/exiv2/repository/exiv2/revisions/4065">r4065</a>.</p>


	<p>I've also investigated changing configure.py to accept the arguments --with-curl[=directory].  This is possible with the argparse module as follows:<pre><code class="ruby syntaxhl"><span class="n">import</span> <span class="n">sys</span>
<span class="n">import</span> <span class="n">argparse</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="no">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">'Example with long option names'</span><span class="p">)</span>

    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="s1">'--bool'</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">"store_true"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="no">False</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="s1">'--arg'</span> <span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">"store"</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">"arg"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="s1">'--ints'</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">"store"</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">"ints"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="s1">'--foo'</span> <span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">'?'</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="s1">'default'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">''</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">(</span> <span class="n">sys</span><span class="p">.</span><span class="nf">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span></code></pre></p></div>
    </div>
  </div>
  
  <div id="change-4908" class="journal has-notes has-details">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="31 Mar 2016 13:13" href="/projects/exiv2/activity?from=2016-03-31">over 5 years</a> ago
      <span id="journal-4908-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>20</i> to <i>50</i></li>
       <li><strong>Estimated time</strong> changed from <i>100.00 h</i> to <i>50.00 h</i></li>
    </ul>
    <div id="journal-4908-notes" class="wiki"><p>I'm going to defer most of this into v1.0 and some of it will be done in v0.27.  The effort on Visual Studio/CMake and CMake/Visual Studio/Build server has been very considerable.  So I'm drastically reducing the scope of this issue and it will recommence under <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Visual Studio Support Enhancements (Closed)" href="/issues/1174">#1174</a> for v0.27.</p></div>
    </div>
  </div>
  
  <div id="change-5146" class="journal has-notes has-details">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="13 Jun 2016 06:23" href="/projects/exiv2/activity?from=2016-06-13">over 5 years</a> ago
      <span id="journal-5146-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Target version</strong> changed from <i>0.26</i> to <i>0.28</i></li>
    </ul>
    <div id="journal-5146-notes" class="wiki"><p>Deferred to v0.27 to make the schedule for v0.26.</p></div>
    </div>
  </div>
  
  <div id="change-5155" class="journal has-notes has-details">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="13 Jun 2016 06:51" href="/projects/exiv2/activity?from=2016-06-13">over 5 years</a> ago
      <span id="journal-5155-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Subject</strong> changed from <i>Visual Studio support for v0.26</i> to <i>Visual Studio support for v0.27</i></li>
    </ul>
    <div id="journal-5155-notes" class="wiki"><p>This was originally intended for v0.26.  Has been deferred to make the schedule.</p></div>
    </div>
  </div>
  
  <div id="change-5773" class="journal has-notes">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Nov 2016 10:55" href="/projects/exiv2/activity?from=2016-11-21">almost 5 years</a> ago
      <span id="journal-5773-private_notes" class=""></span>
    </h4>

    <div id="journal-5773-notes" class="wiki"><p>I've built Exiv2 v0.26 RC1 with Visual Studio 2017 RC!.</p>


	<p>I've discovered some issues in our project files concerning paths for some header files <a class="changeset" title="#1121 Fixes to msvc/*.vcproj to support VS2017 RC!" href="/projects/exiv2/repository/exiv2/revisions/4685">r4685</a></p>


	<p>VS2017 RC! doesn't work very well.  The project convertor is crashes.  If you reload the project several times and say "Don't override files", it will load and build.  It suggests to enabling something called "Lightweight Load".  Once selected, build clean/rebuild etc is totally broken.  Let's hope the shipping version of VS2017 is better.</p>


	<p>VS2017 will ship a new feature called <em><strong>vcpkg</strong></em>.  This looks very promising in the demo and enables libraries to be downloaded, built and installed from a simple command-line such as:  <pre>$ vcpkg install exiv2-x86-static</pre>Additionally, you can link those libraries simply by referencing the library include file from C++.  I believe we have to submit a Vcpkg configuration to Microsoft.  I suspect this will build exiv2 with zlib and expat.  How well vcpkg can cope with options for webready (to build and link libssh, curl and openssl) remains to be discovered in v0.27.</p>


	<p>VS2017 will have builtin support for CMake.  I'm not optimistic in view of very painful experience with CMake/Visual Studio.  Daniel and Gilles (who love and demanded Exiv2/CMake support) are welcome to investigate this for v0.27.  I will not waste another second of my life on CMake/Visual Studio.</p></div>
    </div>
  </div>
  
  <div id="change-6321" class="journal has-notes has-details">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="14 Nov 2018 16:44" href="/projects/exiv2/activity?from=2018-11-14">about 3 years</a> ago
      <span id="journal-6321-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Closed</i></li>
       <li><strong>Target version</strong> changed from <i>0.28</i> to <i>0.27</i></li>
       <li><strong>% Done</strong> changed from <i>50</i> to <i>100</i></li>
       <li><strong>Estimated time</strong> changed from <i>50.00 h</i> to <i>10.00 h</i></li>
    </ul>
    <div id="journal-6321-notes" class="wiki"><p>This matter is closed as we have adopted CMake (and conan) to build Visual Studio.  This is documented in README.md and README-CONAN.md</p></div>
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/1121.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/1121.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
