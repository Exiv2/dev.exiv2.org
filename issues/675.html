<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Bug #675: Exif extraction fails under certain cicumstances - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="+dVRUPJ5UBZXKLC8bn0Ndu25jaW6N7nhN0Dfju3mxEwbmPq/gAOcFgJMr7DRqgFF0ivZ3EvUGFvKYE8Grt8jIw==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Bug #675: Exif extraction fails under certain cicumstances" href="https://dev.exiv2.org/issues/675.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Bug #675</h2>

<div class="issue tracker-1 status-6 priority-4 priority-default closed details">
    <div class="next-prev-links contextual">
      « Previous |
        <span class="position">
          <a href="/issues?f%5B%5D=status_id&amp;f%5B%5D=author_id&amp;op%5Bauthor_id%5D=%3D&amp;op%5Bstatus_id%5D=%2A&amp;page=1&amp;per_page=100&amp;set_filter=1&amp;sort=id%3Adesc&amp;v%5Bauthor_id%5D%5B%5D=265&amp;v%5Bstatus_id%5D%5B%5D=">1 of 2</a>
        </span> |
      <a title="#651" accesskey="n" href="/issues/651">Next »</a>
    </div>

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Exif extraction fails under certain cicumstances</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/265">gary cohen</a> <a title="22 Jan 2010 13:55" href="/projects/exiv2/activity?from=2010-01-22">almost 12 years</a> ago.
        Updated <a title="22 Jan 2010 19:12" href="/projects/exiv2/activity?from=2010-01-22">almost 12 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Rejected</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value">-</div></div><div class="category attribute"><div class="label">Category:</div><div class="value">exif</div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">22 Jan 2010</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value"></div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>I have at least one JPEG that has valid exif data that can properly be retrieved using Photoshop and ImageMagick, but not via Exiv2.</p>


	<p>From IM:</p>
	<pre><code>Exif:ApertureValue: 4643856/1000000<br />  Exif:Contrast: 0<br />  Exif:CustomRendered: 0<br />  Exif:DateTime: 2008:01:01 09:13:08<br />  Exif:DateTimeDigitized: 2008:01:01 09:13:08<br />  Exif:DateTimeOriginal: 2008:01:01 09:13:08<br />  Exif:DigitalZoomRatio: 153/100<br />  Exif:ExifOffset: 92<br />  Exif:ExifVersion: 0221<br />  Exif:ExposureBiasValue: 0/6<br />  Exif:ExposureMode: 0<br />  Exif:ExposureProgram: 2<br />  Exif:ExposureTime: 1/20<br />  Exif:FileSource: 3<br />  Exif:FNumber: 5/1<br />  Exif:FocalLength: 620/10<br />  Exif:FocalLengthIn35mmFilm: 93<br />  Exif:GainControl: 0<br />  Exif:LightSource: 0<br />  Exif:MaxApertureValue: 47/10<br />  Exif:MeteringMode: 5<br />  Exif:NativeDigest: 36864,40960,40961,37121,37122,40962,40963,37510,40964,36867,36868,33434,33437,34850,34852,34855,34856,37377,37378,37379,37380,37381,37382,37383,37384,37385,37386,37396,41483,41484,41486,41487,41488,41492,41493,41495,41728,41729,41730,41985,41986,41987,41988,41989,41990,41991,41992,41993,41994,41995,41996,42016,0,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,20,22,23,24,25,26,27,28,30;EF67B16A3EDE8A548147CB9F33323736<br />  Exif:Orientation: 1<br />  Exif:PixelXDimension: 2784<br />  Exif:PixelYDimension: 1848<br />  Exif:Saturation: 0<br />  Exif:SceneCaptureType: 0<br />  Exif:SceneType: 1<br />  Exif:SensingMethod: 2<br />  Exif:Sharpness: 0<br />  Exif:ShutterSpeedValue: 4321928/1000000<br />  Exif:Software: Ver.1.00<br />  Exif:SubjectDistanceRange: 0<br />  Exif:SubSecTime: 08<br />  Exif:SubSecTimeDigitized: 08<br />  Exif:SubSecTimeOriginal: 08<br />  Exif:WhiteBalance: 0</code></pre>


	<p>From Exiv2:</p>


	<p>File size       : 263292 Bytes<br />MIME type       : image/jpeg<br />Image size      : 2784 x 1848<br />Camera make     : <br />Camera model    : <br />Image timestamp : 2008:01:01 09:13:08<br />Image number    : <br />Exposure time   : <br />Aperture        : <br />Exposure bias   : <br />Flash           : <br />Flash bias      : <br />Focal length    : <br />Subject distance: <br />ISO speed       : <br />Exposure mode   : <br />Metering mode   : <br />Macro mode      : <br />Image quality   : <br />Exif Resolution : <br />White balance   : <br />Thumbnail       : None<br />Copyright       : <br />Exif comment    :</p>
  </div>
</div>
  <hr />
  <p><strong>Files</strong></p>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/134">2_14bit_DX_Lossless.JPG</a>    <span class="size">(257 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/134/2_14bit_DX_Lossless.JPG">2_14bit_DX_Lossless.JPG</a>  </td>
  <td></td>
  <td>
      <span class="author">gary cohen, 22 Jan 2010 13:55</span>
  </td>
  <td>
  </td>
</tr>
</table>
</div>








</div>




<div id="history">
<h3>History</h3>
  <div id="change-1525" class="journal has-notes has-details">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="22 Jan 2010 19:12" href="/projects/exiv2/activity?from=2010-01-22">almost 12 years</a> ago
      <span id="journal-1525-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>New</i> to <i>Rejected</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
    </ul>
    <div id="journal-1525-notes" class="wiki"><p>Most of the metadata in this image is XMP data, not Exif data. Photoshop and apparently also IM convert it on the fly or at least don't clearly show the type of metadata. The standard summary output of exiv2 on the other hand looks only at Exif data, which is why it doesn't show much. This is what I get with the -pa option:</p>


<pre>
$ exiv2 -pa 2_14bit_DX_Lossless.JPG 
Exif.Image.Orientation                       Short       1  top, left
Exif.Image.Software                          Ascii       9  Ver.1.00
Exif.Image.DateTime                          Ascii      20  2008:01:01 09:13:08
Exif.Image.ExifTag                           Long        1  92Most 
Exif.Photo.DateTimeOriginal                  Ascii      20  2008:01:01 09:13:08
Exif.Photo.DateTimeDigitized                 Ascii      20  2008:01:01 09:13:08
Exif.Photo.SubSecTime                        Ascii       3  08
Exif.Photo.SubSecTimeOriginal                Ascii       3  08
Exif.Photo.SubSecTimeDigitized               Ascii       3  08
Xmp.tiff.Make                                XmpText    17  NIKON CORPORATION
Xmp.tiff.Model                               XmpText    10  NIKON D700
Xmp.tiff.Orientation                         XmpText     1  top, left
Xmp.tiff.ImageWidth                          XmpText     4  2784
Xmp.tiff.ImageLength                         XmpText     4  1848
Xmp.tiff.PhotometricInterpretation           XmpText     1  2
Xmp.tiff.SamplesPerPixel                     XmpText     1  3
Xmp.tiff.NativeDigest                        XmpText   134  256,257,258,259,262,274,277,284,530,531,282,283,296,301,318,319,529,532,306,270,271,272,305,315,33432;D2771B411D962325352BA0F5F229AFAE
Xmp.tiff.BitsPerSample                       XmpSeq      3  16, 16, 16
Xmp.exif.ExifVersion                         XmpText     4  2.21
Xmp.exif.ExposureTime                        XmpText     4  1/20
Xmp.exif.ShutterSpeedValue                   XmpText    15  1/20 s
Xmp.exif.FNumber                             XmpText     3  F5
Xmp.exif.ApertureValue                       XmpText    15  F5
Xmp.exif.ExposureProgram                     XmpText     1  Auto
Xmp.exif.DateTimeOriginal                    XmpText    28  2008-01-01T09:13:08.08-08:00
Xmp.exif.DateTimeDigitized                   XmpText    28  2008-01-01T09:13:08.08-08:00
Xmp.exif.ExposureBiasValue                   XmpText     3  0 EV
Xmp.exif.MaxApertureValue                    XmpText     5  47/10
Xmp.exif.MeteringMode                        XmpText     1  Multi-segment
Xmp.exif.LightSource                         XmpText     1  Unknown
Xmp.exif.FocalLength                         XmpText     6  62.0 mm
Xmp.exif.SensingMethod                       XmpText     1  One-chip color area
Xmp.exif.FileSource                          XmpText     1  Digital still camera
Xmp.exif.SceneType                           XmpText     1  Directly photographed
Xmp.exif.FocalLengthIn35mmFilm               XmpText     2  93
Xmp.exif.CustomRendered                      XmpText     1  Normal process
Xmp.exif.ExposureMode                        XmpText     1  Auto
Xmp.exif.WhiteBalance                        XmpText     1  Auto
Xmp.exif.SceneCaptureType                    XmpText     1  Standard
Xmp.exif.GainControl                         XmpText     1  None
Xmp.exif.Contrast                            XmpText     1  Normal
Xmp.exif.Saturation                          XmpText     1  Normal
Xmp.exif.Sharpness                           XmpText     1  Normal
Xmp.exif.SubjectDistanceRange                XmpText     1  Unknown
Xmp.exif.DigitalZoomRatio                    XmpText     7  153/100
Xmp.exif.PixelXDimension                     XmpText     4  2784
Xmp.exif.PixelYDimension                     XmpText     4  1848
Xmp.exif.NativeDigest                        XmpText   414  36864,40960,40961,37121,37122,40962,40963,37510,40964,36867,36868,33434,33437,34850,34852,34855,34856,37377,37378,37379,37380,37381,37382,37383,37384,37385,37386,37396,41483,41484,41486,41487,41488,41492,41493,41495,41728,41729,41730,41985,41986,41987,41988,41989,41990,41991,41992,41993,41994,41995,41996,42016,0,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,20,22,23,24,25,26,27,28,30;EF67B16A3EDE8A548147CB9F33323736
Xmp.exif.ISOSpeedRatings                     XmpSeq      1  200
Xmp.exif.Flash                               XmpText     0  type="Struct" 
Xmp.exif.Flash/exif:Fired                    XmpText     5  False
Xmp.exif.Flash/exif:Return                   XmpText     1  0
Xmp.exif.Flash/exif:Mode                     XmpText     1  0
Xmp.exif.Flash/exif:Function                 XmpText     5  False
Xmp.exif.Flash/exif:RedEyeMode               XmpText     5  False
Xmp.xmp.ModifyDate                           XmpText    28  2008-01-01T09:13:08.08-08:00
Xmp.xmp.CreateDate                           XmpText    28  2008-01-01T09:13:08.08-08:00
Xmp.xmp.CreatorTool                          XmpText     8  Ver.1.00
Xmp.aux.SerialNumber                         XmpText     7  1234567
Xmp.aux.LensInfo                             XmpText    26  180/10 1350/10 35/10 56/10
Xmp.aux.Lens                                 XmpText    23  18.0-135.0 mm f/3.5-5.6
Xmp.aux.ImageNumber                          XmpText     2  13
Xmp.crs.AlreadyApplied                       XmpText     5  False
Xmp.photoshop.ColorMode                      XmpText     1  3
Xmp.photoshop.ICCProfile                     XmpText     0  
</pre>

	<p>(closing, not a bug)</p></div>
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/675.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/675.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
