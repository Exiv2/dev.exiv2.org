<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Feature #1108: Recursively dump sub-files of an image - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="hj7t19xa8rFQWN9b1SebPv2efxyUgPh+ZwIN9mu7qwtkc0Y4riA+sQU8wFdq8JcNwgwrZWVjWcSaIp1+KIJMZA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Feature #1108: Recursively dump sub-files of an image" href="https://dev.exiv2.org/issues/1108.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Feature #1108</h2>

<div class="issue tracker-2 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Recursively dump sub-files of an image</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Aug 2015 08:11" href="/projects/exiv2/activity?from=2015-08-21">over 6 years</a> ago.
        Updated <a title="04 Dec 2016 06:03" href="/projects/exiv2/activity?from=2016-12-04">almost 5 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/119">Robin Mills</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">metadata</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="28 Apr 2017" href="/versions/52">0.26</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">21 Aug 2015</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value">35.00 h</div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>In the discussion of <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: exiv2 output is inconsistent and seemingly random 1% of the time (Closed)" href="/issues/1105">#1105</a>, I've a discovery about sub-files, thanks to a comment by Jeroen in this thread:  <a class="external" href="http://dev.exiv2.org/boards/3/topics/1131">http://dev.exiv2.org/boards/3/topics/1131</a></p>


	<p>The "improper" data in the Sony1 image is the preview.  Here's the proof:</p>


	<p>1 Dump the Structure of DSC01825.jpg<pre>561 rmills@rmillsmbp:~/temp/foo $ exiv2 -pS DSC01825.jpg 
STRUCTURE OF JPEG FILE: DSC01825.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe1 APP1  |   48842 | Exif..II*........... ..........
   48848 | 0xe2 APP2  |     304 | MPF.II*...............0100.....
   49154 | 0xdb DQT   |     132 
   49288 | 0xc4 DHT   |     418 
   49708 | 0xc0 SOF0  |      17 
   49727 | 0xda SOS   |      12 
$</pre>2 Extract the APP1 segment into buff.tif and dump that:<pre>562 rmills@rmillsmbp:~/temp/foo $ dd bs=1 skip=12 count=48842 if=DSC01825.jpg of=buff.tif ; exiv2 -pS buff.tif
48842+0 records in
48842+0 records out
48842 bytes transferred in 0.125983 secs (387687 bytes/sec)
STRUCTURE OF TIFF FILE (II): buff.tif
 address |    tag                           |      type |    count |   offset | value
      10 | 0x010e ImageDescription          |     ASCII |       32 |      158 |                                
      22 | 0x010f Make                      |     ASCII |        5 |      190 | SONY
      34 | 0x0110 Model                     |     ASCII |        8 |      196 | ILCE-7R
      46 | 0x0112 Orientation               |     SHORT |        1 |        1 | 1
      58 | 0x011a XResolution               |  RATIONAL |        1 |      204 | 204/0
      70 | 0x011b YResolution               |  RATIONAL |        1 |      212 | 212/0
      82 | 0x0128 ResolutionUnit            |     SHORT |        1 |        2 | 2
      94 | 0x0131 Software                  |     ASCII |       14 |      220 | ILCE-7R v2.00
     106 | 0x0132 DateTime                  |     ASCII |       20 |      234 | 2015:07:09 00:47:56
     118 | 0x0213 YCbCrPositioning          |     SHORT |        1 |        2 | 2
     130 | 0x8769 ExifTag                   |      LONG |        1 |      360 | 360
     142 | 0xc4a5 PrintImageMatching        | UNDEFINED |      106 |      254 |  ...
   38170 | 0x0103 Compression               |     SHORT |        1 |        6 | 6
   38182 | 0x010e ImageDescription          |     ASCII |       32 |    38330 |                                
   38194 | 0x010f Make                      |     ASCII |        5 |    38362 | SONY
   38206 | 0x0110 Model                     |     ASCII |        8 |    38368 | ILCE-7R
   38218 | 0x0112 Orientation               |     SHORT |        1 |        1 | 1
   38230 | 0x011a XResolution               |  RATIONAL |        1 |    38376 | 38376/0
   38242 | 0x011b YResolution               |  RATIONAL |        1 |    38384 | 38384/0
   38254 | 0x0128 ResolutionUnit            |     SHORT |        1 |        2 | 2
   38266 | 0x0131 Software                  |     ASCII |       14 |    38392 | ILCE-7R v2.00
   38278 | 0x0132 DateTime                  |     ASCII |       20 |    38406 | 2015:07:09 00:47:56
   38290 | 0x0201 JPEGInterchangeFormat     |      LONG |        1 |    38426 | 38426
   38302 | 0x0202 JPEGInterchangeFormatLeng |      LONG |        1 |    10408 | 10408
   38314 | 0x0213 YCbCrPositioning          |     SHORT |        1 |        2 | 2
$ </pre>3 Extract the 0x0201 JPEGInterchangeFormat record (of length JPEGInterchangeFormatLength) into buff.jpg and dump that:<pre>563 rmills@rmillsmbp:~/temp/foo $ dd bs=1 skip=38426 count=10408 if=buff.tif of=buff.jpg ; exiv2 -pS buff.jpg 
10408+0 records in
10408+0 records out
10408 bytes transferred in 0.045672 secs (227886 bytes/sec)
STRUCTURE OF JPEG FILE: buff.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xdb DQT   |     132 
     138 | 0xc4 DHT   |     418 
     558 | 0xc0 SOF0  |      17 
     577 | 0xda SOS   |      12 
</pre>It's a valid little jpg.  Open it.  It's the preview.</p>


	<p>4 Now let's examine the previews:<pre>576 rmills@rmillsmbp:~/temp/foo $ exiv2 -pp  DSC01825.jpg 
Error: Offset of directory Sony1, entry 0x2001 is out of bounds: Offset = 0x00901076; truncating the entry
Preview 1: image/jpeg, 160x120 pixels, 10408 bytes
577 rmills@rmillsmbp:~/temp/foo $ 571 rmills@rmillsmbp:~/temp/foo $ exiv2 --verbose --force -ep1  DSC01825.jpg 
File 1/1: DSC01825.jpg
Error: Offset of directory Sony1, entry 0x2001 is out of bounds: Offset = 0x00901076; truncating the entry
Writing preview 1 (image/jpeg, 160x120 pixels, 10408 bytes) to file ./DSC01825-preview1.jpg</pre>5 DSC01825-preview1.jpg and buff.jpg are identical.<pre>567 rmills@rmillsmbp:~/temp/foo $ 572 rmills@rmillsmbp:~/temp/foo $ ls -alt *.jpg
-rw-r--r--+ 1 rmills  staff     10408 14 Aug 11:44 DSC01825-preview1.jpg
-rw-r--r--@ 1 rmills  staff     10408 14 Aug 11:31 buff.jpg
-rw-r--r--@ 1 rmills  staff  10125312 13 Aug 17:52 DSC01825.jpg
573 rmills@rmillsmbp:~/temp/foo $ diff buff.jpg DSC01825-preview1.jpg 
574 rmills@rmillsmbp:~/temp/foo $ md5 buff.jpg DSC01825-preview1.jpg 
MD5 (buff.jpg) = 4d49a9ce3d980b69bfa129e05483b041
MD5 (DSC01825-preview1.jpg) = 4d49a9ce3d980b69bfa129e05483b041
575 rmills@rmillsmbp:~/temp/foo $ </pre>I'm delighted by this discovery because I've been contemplating buying a Sony Alpha 7 Mirrorless camera and it seems that exiv2 is going to complain about 0x0201 with every image.  Not good.</p>


	<p>I think it would be better for libexiv2 to respect this situation and suppress the warning.  We should however validate the integrity of the situation before deciding to suppress.  It's very likely that some software could rewrite the image and blindly copy/relocate the APP1 segment with the resulting 0x0201 address being wrong.  Exiv2 should report that situation.</p>


	<p>Another reason for being pleased about this discovery is to restore my admiration of Sony.  Yesterday I was thinking "Why have Sony not fixed a bug that has been in their Exif firmware for at least 5 years?".  Now I'm not so sure it's a bug.  The preview is embedded in the APP1 segment.</p>


	<p>And the final reason for being pleased is to see how effectively the -pS option can be used to analyse this file.</p>


	<p>This feature request is to add option -pR to exiv2 to recursively dump subfiles in the image.</p>
  </div>
</div>






<hr />
<div id="relations">
<div class="contextual">
</div>

<p><strong>Related issues</strong></p>

<form data-cm-url="/issues/context_menu" action="/issues/1108" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="vRLgeawVlHBAWe2AGGeOVwwSs80UG+na9MuoXQkF/OdfX0uW3m9YcBU98oynsIJkM4DntOX4SGAJ6zjVSjwbiA==" />
  <table class="list issues odd-even"><tr id="relation-162" class="issue hascontextmenu issue tracker-1 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1105" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-1 status-5 priority-4 priority-default closed" href="/issues/1105">Bug #1105</a>: exiv2 output is inconsistent and seemingly random 1% of the time</td><td class="status">Closed</td><td class="start_date">13 Aug 2015</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr><tr id="relation-163" class="issue hascontextmenu issue tracker-2 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="922" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-2 status-5 priority-4 priority-default closed" href="/issues/922">Feature #922</a>: Add options -pS and -dI to application exiv2</td><td class="status">Closed</td><td class="start_date">25 Sep 2013</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr><tr id="relation-196" class="issue hascontextmenu issue tracker-1 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="1143" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-1 status-5 priority-4 priority-default closed" href="/issues/1143">Bug #1143</a>: Unable to extract embedded preview from jpg for Sony a77</td><td class="status">Closed</td><td class="start_date">24 Dec 2015</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr></table>
</form>
<form class="new_relation" id="new-relation-form" style="display: none;" action="/issues/1108/relations" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />


<p><select onchange="setPredecessorFieldsVisibility();" name="relation[relation_type]" id="relation_relation_type"><option selected="selected" value="relates">Related to</option>
<option value="duplicates">Is duplicate of</option>
<option value="duplicated">Has duplicate</option>
<option value="blocks">Blocks</option>
<option value="blocked">Blocked by</option>
<option value="precedes">Precedes</option>
<option value="follows">Follows</option>
<option value="copied_to">Copied to</option>
<option value="copied_from">Copied from</option></select>
Issue #<input size="10" type="text" name="relation[issue_to_id]" id="relation_issue_to_id" />
<span id="predecessor_fields" style="display:none;">
Delay: <input size="3" type="text" name="relation[delay]" id="relation_delay" /> days
</span>
<input type="submit" name="commit" value="Add" data-disable-with="Add" />
<a href="#" onclick="$(&quot;#new-relation-form&quot;).hide();; return false;">Cancel</a>
</p>

<script>
//<![CDATA[
observeAutocompleteField('relation_issue_to_id', '/issues/auto_complete?issue_id=1108&project_id=exiv2&scope=all')
//]]>
</script>

<script>
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>
</div>

</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset">
    <p><a title="Revision 4166" href="/projects/exiv2/repository/exiv2/revisions/4166">Revision 4166</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4166/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="05 Jan 2016 16:52" href="/projects/exiv2/activity?from=2016-01-05">almost 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> and <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: ICC Profile in APP2 segment. (Closed)" href="/issues/1074">#1074</a>  Correction to <a class="changeset" title="r1108 Recursively dump an image (exiv2 -pR file...)" href="/projects/exiv2/repository/exiv2/revisions/4165">r4165</a> to fix MSVC build breaker and to document: exiv2 -eC (extract ICC profile).</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4168" href="/projects/exiv2/repository/exiv2/revisions/4168">Revision 4168</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4168/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="07 Jan 2016 16:13" href="/projects/exiv2/activity?from=2016-01-07">almost 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> and <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: ICC Profile in APP2 segment. (Closed)" href="/issues/1074">#1074</a> -pC and -pR (print Color Profile, print Recursively) now work on png.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4171" href="/projects/exiv2/repository/exiv2/revisions/4171">Revision 4171</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4171/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="07 Jan 2016 20:32" href="/projects/exiv2/activity?from=2016-01-07">almost 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> and <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: ICC Profile in APP2 segment. (Closed)" href="/issues/1074">#1074</a>  Correction to <a class="changeset" title="#1108 and #1074 -pC and -pR (print Color Profile, print Recursively) now work on png." href="/projects/exiv2/repository/exiv2/revisions/4168">r4168</a> to fix MSVC build breaker.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4224" href="/projects/exiv2/repository/exiv2/revisions/4224">Revision 4224</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4224/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="11 Mar 2016 20:48" href="/projects/exiv2/activity?from=2016-03-11">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a>  Added photoshop/iptc parser to png/jpeg parser.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4228" href="/projects/exiv2/repository/exiv2/revisions/4228">Revision 4228</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4228/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="17 Mar 2016 22:14" href="/projects/exiv2/activity?from=2016-03-17">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a>  Added IPTC parser for tiff.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4231" href="/projects/exiv2/repository/exiv2/revisions/4231">Revision 4231</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4231/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="17 Mar 2016 23:45" href="/projects/exiv2/activity?from=2016-03-17">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a>.  Refactored the IPTC printStructure code from png/jpeg/tiff into iptc.cpp</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4232" href="/projects/exiv2/repository/exiv2/revisions/4232">Revision 4232</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4232/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 Mar 2016 07:48" href="/projects/exiv2/activity?from=2016-03-18">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Refactored static indent(depth) from png/tiff/jpeg to Internal::indent(depth)</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4239" href="/projects/exiv2/repository/exiv2/revisions/4239">Revision 4239</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4239/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 16:17" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a>  Corrections to test suite.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4241" href="/projects/exiv2/repository/exiv2/revisions/4241">Revision 4241</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4241/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="23 Mar 2016 13:49" href="/projects/exiv2/activity?from=2016-03-23">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: ICC Profile in APP2 segment. (Closed)" href="/issues/1074">#1074</a> <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Added ICC profile to test/data/Reagan.jpg</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4285" href="/projects/exiv2/repository/exiv2/revisions/4285">Revision 4285</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4285/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Apr 2016 14:11" href="/projects/exiv2/activity?from=2016-04-22">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a>.  Fixed issue with printing short strings which are stored in the directory offset field.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4286" href="/projects/exiv2/repository/exiv2/revisions/4286">Revision 4286</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4286/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Apr 2016 14:30" href="/projects/exiv2/activity?from=2016-04-22">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a>.  Correction to <a class="changeset" title="#1108.  Fixed issue with printing short strings which are stored in the directory offset field." href="/projects/exiv2/repository/exiv2/revisions/4285">r4285</a></p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4287" href="/projects/exiv2/repository/exiv2/revisions/4287">Revision 4287</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4287/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Apr 2016 15:13" href="/projects/exiv2/activity?from=2016-04-22">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a>.  Correction to <a class="changeset" title="#1108.  Fixed issue with printing short strings which are stored in the directory offset field." href="/projects/exiv2/repository/exiv2/revisions/4285">r4285</a>.  Code simplication.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4295" href="/projects/exiv2/repository/exiv2/revisions/4295">Revision 4295</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4295/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="02 May 2016 20:51" href="/projects/exiv2/activity?from=2016-05-02">over 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Discovered another embedded tiff tag SubIFDs</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4497" href="/projects/exiv2/repository/exiv2/revisions/4497">Revision 4497</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4497/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Sep 2016 13:15" href="/projects/exiv2/activity?from=2016-09-15">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Enhanced pngimage::printStructure() to display checksum</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4498" href="/projects/exiv2/repository/exiv2/revisions/4498">Revision 4498</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4498/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Sep 2016 14:09" href="/projects/exiv2/activity?from=2016-09-15">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Better string formatting (and associated test/data changes).  Tweaks to code layout for <a class="changeset" title="#1108 Enhanced pngimage::printStructure() to display checksum" href="/projects/exiv2/repository/exiv2/revisions/4497">r4497</a>.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4503" href="/projects/exiv2/repository/exiv2/revisions/4503">Revision 4503</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4503/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="16 Sep 2016 11:19" href="/projects/exiv2/activity?from=2016-09-16">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Fixing issue with pngimage::printStructure() and the "Software" string in test/data/imagemagick.png</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4612" href="/projects/exiv2/repository/exiv2/revisions/4612">Revision 4612</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4612/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="06 Oct 2016 19:52" href="/projects/exiv2/activity?from=2016-10-06">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Added code to dump Exif, IPTC and iTXt/zTXt comment/description blocks for PNG files.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4679" href="/projects/exiv2/repository/exiv2/revisions/4679">Revision 4679</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4679/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="12 Nov 2016 22:05" href="/projects/exiv2/activity?from=2016-11-12">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Documentation Update.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4680" href="/projects/exiv2/repository/exiv2/revisions/4680">Revision 4680</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4680/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="12 Nov 2016 22:08" href="/projects/exiv2/activity?from=2016-11-12">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Fixed bugs in printStructure(kpsRecursive) handling of RATIONAL data.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4682" href="/projects/exiv2/repository/exiv2/revisions/4682">Revision 4682</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4682/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="13 Nov 2016 09:33" href="/projects/exiv2/activity?from=2016-11-13">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Add test file for use in this document:  <a class="external" href="http://dev.exiv2.org/projects/exiv2/wiki/The_Metadata_in_TIFF_files">http://dev.exiv2.org/projects/exiv2/wiki/The_Metadata_in_TIFF_files</a></p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4683" href="/projects/exiv2/repository/exiv2/revisions/4683">Revision 4683</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4683/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="13 Nov 2016 09:33" href="/projects/exiv2/activity?from=2016-11-13">about 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Documentation update.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4691" href="/projects/exiv2/repository/exiv2/revisions/4691">Revision 4691</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4691/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="04 Dec 2016 06:02" href="/projects/exiv2/activity?from=2016-12-04">almost 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> Add support to dump MakerNote IFDs with exiv2 -pR</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 4694" href="/projects/exiv2/repository/exiv2/revisions/4694">Revision 4694</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/4694/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="04 Dec 2016 12:18" href="/projects/exiv2/activity?from=2016-12-04">almost 5 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Recursively dump sub-files of an image (Closed)" href="/issues/1108">#1108</a> exiv2 -pR to dump type == tiffIfd</p>
    </div>
    </div>

</div>



<div id="history">
<h3>History</h3>
  <div id="change-4131" class="journal has-notes">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="27 Aug 2015 11:49" href="/projects/exiv2/activity?from=2015-08-27">about 6 years</a> ago
      <span id="journal-4131-private_notes" class=""></span>
    </h4>

    <div id="journal-4131-notes" class="wiki"><p>Robin,</p>


	<p>You're looking at the small thumbnail image in IFD1 (Exif.Thumbnail.JPEGInterchangeFormat*). That one is part of the Exif specs and we can deal with it just fine. The preview with the issue is one for which Sony add a tag to their makernote (Exif.Sony1.PreviewImage), which points to somewhere at the end of the file. It is a much larger preview (668kB in DSC01825.jpg), which doesn't fit into the Exif APP segment. Exiv2 first reads just the Exif APP segment and it cannot deal with anything outside of that segment easily later, so we currently just regard the tag value as invalid and truncate it. Worse, a subsequent Exif write operation e.g., adding an Exif tag to such an image will write the empty Exif.Sony1.PreviewImage tag back, so nobody will find the preview anymore afterwards.</p></div>
    </div>
  </div>
  
  <div id="change-4132" class="journal has-notes has-details">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Aug 2015 15:25" href="/projects/exiv2/activity?from=2015-08-27">about 6 years</a> ago
      <span id="journal-4132-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>0</i> to <i>10</i></li>
       <li><strong>Estimated time</strong> set to <i>10.00 h</i></li>
    </ul>
    <div id="journal-4132-notes" class="wiki"><p>Thanks for this insight, Andreas.</p>


	<p>The purpose of this issue is to dump more debug information about the file.  And if there's some kind of orphan preview in the file, there probably nothing we can do.  However recursively dumping the file (as above using dd) seems like a useful feature that can be implemented quite easily.</p></div>
    </div>
  </div>
  
  <div id="change-4641" class="journal has-notes has-details">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="05 Jan 2016 15:08" href="/projects/exiv2/activity?from=2016-01-05">almost 6 years</a> ago
      <span id="journal-4641-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>10</i> to <i>60</i></li>
    </ul>
    <div id="journal-4641-notes" class="wiki"><p>Andreas:  You are right about Exif.Sony1.PreviewImage.  That is a rather difficult subject.  I re-encountered this over <em>The Holidays</em> when working on <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Unable to extract embedded preview from jpg for Sony a77 (Closed)" href="/issues/1143">#1143</a>.</p>


	<p>However the recursive dump that I am discussing here, is to extend the -pS feature (print Structure) to recursively descent all tiff-encoded IFDs which occur in JPG/APP1 Exif data, tiff files, following the tag ExifTag, the APP2/MPF data segment, some MakerNotes and (very likely) some other places that I have not yet discovered.</p>


	<p>Here's the output of -pS (print Structure)<pre>$ exiv2 -pS http://clanmills.com/Stonehenge.jpg 
STRUCTURE OF JPEG FILE: http://clanmills.com/Stonehenge.jpg 
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe1 APP1  |   15288 | Exif..II*......................
   15294 | 0xe1 APP1  |    2610 | http://ns.adobe.com/xap/1.0/.&lt;?x
   17906 | 0xed APP13 |      96 | Photoshop 3.0.8BIM.......'.....
   18004 | 0xe2 APP2  |    4094 | MPF.II*...............0100.....
   22100 | 0xdb DQT   |     132 
   22234 | 0xc0 SOF0  |      17 
   22253 | 0xc4 DHT   |     418 
   22673 | 0xda SOS   |      12 
$ </pre>And -pR (print Recursively):<pre>$ exiv2 -pR http://clanmills.com/Stonehenge.jpg
STRUCTURE OF JPEG FILE: http://clanmills.com/Stonehenge.jpg
 address | marker     | length  | data
       2 | 0xd8 SOI   |       0 
       4 | 0xe1 APP1  |   15288 | Exif..II*......................
  STRUCTURE OF TIFF FILE (II): MemIo
   address |    tag                           |      type |    count |   offset | value
        10 | 0x010f Make                      |     ASCII |       18 |      146 | NIKON CORPORATION
        22 | 0x0110 Model                     |     ASCII |       12 |      164 | NIKON D5300
        34 | 0x0112 Orientation               |     SHORT |        1 |        1 | 1
        46 | 0x011a XResolution               |  RATIONAL |        1 |      176 | 176/0
        58 | 0x011b YResolution               |  RATIONAL |        1 |      184 | 184/0
        70 | 0x0128 ResolutionUnit            |     SHORT |        1 |        2 | 2
        82 | 0x0131 Software                  |     ASCII |       10 |      192 | Ver.1.00 
        94 | 0x0132 DateTime                  |     ASCII |       20 |      202 | 2015:07:16 20:25:28
       106 | 0x0213 YCbCrPositioning          |     SHORT |        1 |        1 | 1
       118 | 0x8769 ExifTag                   |      LONG |        1 |      222 | 222
    STRUCTURE OF TIFF FILE (II): MemIo
     address |    tag                           |      type |    count |   offset | value
         224 | 0x829a ExposureTime              |  RATIONAL |        1 |      732 | 732/0
         236 | 0x829d FNumber                   |  RATIONAL |        1 |      740 | 740/0
         248 | 0x8822 ExposureProgram           |     SHORT |        1 |        0 | 0
         260 | 0x8827 ISOSpeedRatings           |     SHORT |        1 |      200 | 200
         272 | 0x8830 SensitivityType           |     SHORT |        1 |        2 | 2
         284 | 0x9000 ExifVersion               | UNDEFINED |        4 |808661552 | 
         296 | 0x9003 DateTimeOriginal          |     ASCII |       20 |      748 | 2015:07:16 15:38:54
         308 | 0x9004 DateTimeDigitized         |     ASCII |       20 |      768 | 2015:07:16 15:38:54
         320 | 0x9101 ComponentsConfiguration   | UNDEFINED |        4 |   197121 | 
         332 | 0x9102 CompressedBitsPerPixel    |  RATIONAL |        1 |      788 | 788/0
         344 | 0x9204 ExposureBiasValue         | SRATIONAL |        1 |      796 | 796/0
         356 | 0x9205 MaxApertureValue          |  RATIONAL |        1 |      804 | 804/0
         368 | 0x9207 MeteringMode              |     SHORT |        1 |        5 | 5
         380 | 0x9208 LightSource               |     SHORT |        1 |        0 | 0
         392 | 0x9209 Flash                     |     SHORT |        1 |       16 | 16
         404 | 0x920a FocalLength               |  RATIONAL |        1 |      812 | 812/0
         416 | 0x927c MakerNote                 | UNDEFINED |     3152 |      914 |  ...
      STRUCTURE OF TIFF FILE (II): MemIo
       address |    tag                           |      type |    count |   offset | value
         428 | 0x9286 UserComment               | UNDEFINED |       44 |      820 |  ...
         440 | 0x9290 SubSecTime                |     ASCII |        3 |    12336 | O.'
         452 | 0x9291 SubSecTimeOriginal        |     ASCII |        3 |    12336 | O.'
         464 | 0x9292 SubSecTimeDigitized       |     ASCII |        3 |    12336 | O.'
         476 | 0xa000 FlashpixVersion           | UNDEFINED |        4 |808464688 | 
         488 | 0xa001 ColorSpace                |     SHORT |        1 |        1 | 1
         500 | 0xa002 PixelXDimension           |     SHORT |        1 |     6000 | 6000
         512 | 0xa003 PixelYDimension           |     SHORT |        1 |     4000 | 4000
         524 | 0xa005 InteroperabilityTag       |      LONG |        1 |     4306 | 4306
         536 | 0xa217 SensingMethod             |     SHORT |        1 |        2 | 2
         548 | 0xa300 FileSource                | UNDEFINED |        1 |        3 | 
         560 | 0xa301 SceneType                 | UNDEFINED |        1 |        1 | 
         572 | 0xa302 CFAPattern                | UNDEFINED |        8 |      864 |  ...
         584 | 0xa401 CustomRendered            |     SHORT |        1 |        0 | 0
         596 | 0xa402 ExposureMode              |     SHORT |        1 |        0 | 0
         608 | 0xa403 WhiteBalance              |     SHORT |        1 |        0 | 0
         620 | 0xa404 DigitalZoomRatio          |  RATIONAL |        1 |      872 | 872/0
         632 | 0xa405 FocalLengthIn35mmFilm     |     SHORT |        1 |       66 | 66
         644 | 0xa406 SceneCaptureType          |     SHORT |        1 |        0 | 0
         656 | 0xa407 GainControl               |     SHORT |        1 |        0 | 0
         668 | 0xa408 Contrast                  |     SHORT |        1 |        0 | 0
         680 | 0xa409 Saturation                |     SHORT |        1 |        0 | 0
         692 | 0xa40a Sharpness                 |     SHORT |        1 |        0 | 0
         704 | 0xa40c SubjectDistanceRange      |     SHORT |        1 |        0 | 0
         716 | 0xa420 ImageUniqueID             |     ASCII |       33 |      880 | 090caaf2c085f3e102513b24750041aa ...
       130 | 0x8825 GPSTag                    |      LONG |        1 |     4060 | 4060
      4338 | 0x0103 Compression               |     SHORT |        1 |        6 | 6
      4350 | 0x011a XResolution               |  RATIONAL |        1 |     4426 | 4426/0
      4362 | 0x011b YResolution               |  RATIONAL |        1 |     4434 | 4434/0
      4374 | 0x0128 ResolutionUnit            |     SHORT |        1 |        2 | 2
      4386 | 0x0201 JPEGInterchangeFormat     |      LONG |        1 |     4442 | 4442
      4398 | 0x0202 JPEGInterchangeFormatLeng |      LONG |        1 |    10837 | 10837
      4410 | 0x0213 YCbCrPositioning          |     SHORT |        1 |        1 | 1
   15294 | 0xe1 APP1  |    2610 | http://ns.adobe.com/xap/1.0/.&lt;?x
   17906 | 0xed APP13 |      96 | Photoshop 3.0.8BIM.......'.....
   18004 | 0xe2 APP2  |    4094 | MPF.II*...............0100.....
  STRUCTURE OF TIFF FILE (II): MemIo
   address |    tag                           |      type |    count |   offset | value
        10 | 0xb000 MPFVersion                | UNDEFINED |        4 |808464688 | 
        22 | 0xb001 MPFNumberOfImages         |      LONG |        1 |        3 | 3
        34 | 0xb002 MPFImageList              | UNDEFINED |       48 |       52 |  ...
   22100 | 0xdb DQT   |     132 
   22234 | 0xc0 SOF0  |      17 
   22253 | 0xc4 DHT   |     418 
   22673 | 0xda SOS   |      12 
$</pre></p></div>
    </div>
  </div>
  
  <div id="change-4833" class="journal has-notes has-details">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="11 Mar 2016 20:49" href="/projects/exiv2/activity?from=2016-03-11">over 5 years</a> ago
      <span id="journal-4833-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>60</i> to <i>90</i></li>
    </ul>
    <div id="journal-4833-notes" class="wiki"><p>Added photoshop/iptc parser for png/jpeg files.</p></div>
    </div>
  </div>
  
  <div id="change-4834" class="journal has-details">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="11 Mar 2016 21:13" href="/projects/exiv2/activity?from=2016-03-11">over 5 years</a> ago
      <span id="journal-4834-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Subject</strong> changed from <i>Recursively dump sub-files on an image.</i> to <i>Recursively dump sub-files of an image</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4845" class="journal has-notes">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="17 Mar 2016 22:15" href="/projects/exiv2/activity?from=2016-03-17">over 5 years</a> ago
      <span id="journal-4845-private_notes" class=""></span>
    </h4>

    <div id="journal-4845-notes" class="wiki"><p>Added IPTC parser for tiff  files.</p></div>
    </div>
  </div>
  
  <div id="change-4886" class="journal has-details">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="28 Mar 2016 18:28" href="/projects/exiv2/activity?from=2016-03-28">over 5 years</a> ago
      <span id="journal-4886-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Closed</i></li>
       <li><strong>% Done</strong> changed from <i>90</i> to <i>100</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4910" class="journal has-details">
    <div id="note-8">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-8" class="journal-link">#8</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="31 Mar 2016 13:56" href="/projects/exiv2/activity?from=2016-03-31">over 5 years</a> ago
      <span id="journal-4910-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Closed</i> to <i>Resolved</i></li>
       <li><strong>% Done</strong> changed from <i>100</i> to <i>80</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-4946" class="journal has-notes has-details">
    <div id="note-9">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-9" class="journal-link">#9</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Apr 2016 14:13" href="/projects/exiv2/activity?from=2016-04-22">over 5 years</a> ago
      <span id="journal-4946-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>80</i> to <i>90</i></li>
    </ul>
    <div id="journal-4946-notes" class="wiki"><p><a class="changeset" title="#1108.  Fixed issue with printing short strings which are stored in the directory offset field." href="/projects/exiv2/repository/exiv2/revisions/4285">r4285</a>.  Fixed issue with printing short strings which are stored in the directory offset (dir[8:11]) field.  This has been disturbing the output of the test harness for a while.</p></div>
    </div>
  </div>
  
  <div id="change-5036" class="journal has-details">
    <div id="note-10">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-10" class="journal-link">#10</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="07 May 2016 13:08" href="/projects/exiv2/activity?from=2016-05-07">over 5 years</a> ago
      <span id="journal-5036-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Resolved</i> to <i>Closed</i></li>
       <li><strong>% Done</strong> changed from <i>90</i> to <i>100</i></li>
       <li><strong>Estimated time</strong> changed from <i>10.00 h</i> to <i>20.00 h</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-5661" class="journal has-notes has-details">
    <div id="note-11">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-11" class="journal-link">#11</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="06 Oct 2016 19:53" href="/projects/exiv2/activity?from=2016-10-06">about 5 years</a> ago
      <span id="journal-5661-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Estimated time</strong> changed from <i>20.00 h</i> to <i>26.00 h</i></li>
    </ul>
    <div id="journal-5661-notes" class="wiki"><p><a class="changeset" title="#1108 Added code to dump Exif, IPTC and iTXt/zTXt comment/description blocks for PNG files." href="/projects/exiv2/repository/exiv2/revisions/4612">r4612</a> Added code to dump Exif, IPTC and iTXt/zTXt comment/description blocks for PNG files.</p></div>
    </div>
  </div>
  
  <div id="change-5739" class="journal has-notes has-details">
    <div id="note-12">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-12" class="journal-link">#12</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="12 Nov 2016 22:09" href="/projects/exiv2/activity?from=2016-11-12">about 5 years</a> ago
      <span id="journal-5739-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Estimated time</strong> changed from <i>26.00 h</i> to <i>32.00 h</i></li>
    </ul>
    <div id="journal-5739-notes" class="wiki"><p><a class="changeset" title="Documentation update." href="/projects/exiv2/repository/exiv2/revisions/4678">r4678</a> <a class="changeset" title="#1108 Documentation Update." href="/projects/exiv2/repository/exiv2/revisions/4679">r4679</a> Updated the TIFF documentation:  <a class="external" href="http://dev.exiv2.org/projects/exiv2/wiki/The_Metadata_in_TIFF_files">http://dev.exiv2.org/projects/exiv2/wiki/The_Metadata_in_TIFF_files</a><br /><a class="changeset" title="#1108 Fixed bugs in printStructure(kpsRecursive) handling of RATIONAL data." href="/projects/exiv2/repository/exiv2/revisions/4680">r4680</a> Fixed errors in printStructure(kpsRecursive) handling of RATIONAL.</p></div>
    </div>
  </div>
  
  <div id="change-5781" class="journal has-details">
    <div id="note-13">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-13" class="journal-link">#13</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="04 Dec 2016 06:03" href="/projects/exiv2/activity?from=2016-12-04">almost 5 years</a> ago
      <span id="journal-5781-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Estimated time</strong> changed from <i>32.00 h</i> to <i>35.00 h</i></li>
    </ul>
    
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/1108.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/1108.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
