<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Feature #1141: Manual lens does not get recogniced: Pentax macro 100mm - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="oIOKzYZli9M4iO4BLNgUSbSrbfIrzY/+giauFRxRLnNCziEi9B9H023s8Q2TDxh6izk5i9ouLkR/Bj6dX2jJHA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Feature #1141: Manual lens does not get recogniced: Pentax macro 100mm" href="https://dev.exiv2.org/issues/1141.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Feature #1141</h2>

<div class="issue tracker-2 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Manual lens does not get recogniced: Pentax macro 100mm</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/3328">Simon Harhues</a> <a title="22 Dec 2015 21:24" href="/projects/exiv2/activity?from=2015-12-22">almost 6 years</a> ago.
        Updated <a title="28 Dec 2015 21:05" href="/projects/exiv2/activity?from=2015-12-28">almost 6 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/134">Niels Kristian Bech Jensen</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">lens</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="28 Apr 2017" href="/versions/52">0.26</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">22 Dec 2015</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value">1.00 h</div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>simon@vmubuntu1510:~$ exiv2 --version<br />exiv2 0.25 001900 (64 bit build) [...]<br />simon@vmubuntu1510:~$ exiv2 <del>pt /tmp/fotos/101_2212/IMGP2241.PEF | grep Lens<br />Exif.PentaxDng.LensType                      Byte        4  K</del> oder M-Linsen<br />Exif.PentaxDng.LensInfo                      Undefined 128  0 1 128 1 0 0 3 32 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0<br />simon@vmubuntu1510:~$ exiv2 <del>pt /tmp/fotos/101_2212/IMGP2241.JPG | grep Lens<br />Exif.PentaxDng.LensType                      Byte        4  K</del> oder M-Linsen<br />Exif.PentaxDng.LensInfo                      Undefined 128  0 1 128 1 0 0 3 32 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0<br />simon@vmubuntu1510:~$ exiv2 <del>pt /tmp/fotos/101_2212/_IGP9296.DNG | grep Lens<br />Exif.PentaxDng.LensType                      Byte        3  K</del> oder M-Linsen<br />Exif.PentaxDng.LensInfo                      Undefined  69  1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</p>


	<p>Tested with two Pentax bodies. I'm not sure if it is possible to improve the recognition of manual lenses. But now it look pretty generic and not suitable for e.g. lensfun.<br />The lens is physically labeled as:<br /><strong>6845970 ASAHI OPT. CO., JAPAN<br />smc PENTAX-M MACRO 1:4 100mm</strong><br />It is a fixed 100mm macro lens, the f-stop reaches from 4 to 32.<br />As the raw files are rather big, I've uploaded them to: <a class="external" href="https://www.dropbox.com/sh/irdznxeve9xra8o/AAAi0JZGMS-qUVLeTtrlQsUAa?dl=0">https://www.dropbox.com/sh/irdznxeve9xra8o/AAAi0JZGMS-qUVLeTtrlQsUAa?dl=0</a><br />I grant you all rights to use them for the further development of exiv2 or other FOSS software.</p>
  </div>
</div>







</div>




<div id="history">
<h3>History</h3>
  <div id="change-4564" class="journal has-notes has-details">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Dec 2015 21:54" href="/projects/exiv2/activity?from=2015-12-22">almost 6 years</a> ago
      <span id="journal-4564-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>New</i> to <i>Assigned</i></li>
       <li><strong>Assignee</strong> set to <i>Robin Mills</i></li>
       <li><strong>Target version</strong> set to <i>0.26</i></li>
    </ul>
    <div id="journal-4564-notes" class="wiki"><p>Thanks, Simon.  I'll investigate and update this issue report.</p></div>
    </div>
  </div>
  
  <div id="change-4567" class="journal has-notes">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/134">Niels Kristian Bech Jensen</a> <a title="23 Dec 2015 04:20" href="/projects/exiv2/activity?from=2015-12-23">almost 6 years</a> ago
      <span id="journal-4567-private_notes" class=""></span>
    </h4>

    <div id="journal-4567-notes" class="wiki"><p>It is not possible to identify manual lenses since they do not communicate with the camera body. Hence there are no lens metadata available in the file to help identification.</p>


	<p>Best regards,<br />Niels Kristian Bech Jensen</p></div>
    </div>
  </div>
  
  <div id="change-4570" class="journal has-notes has-details">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="23 Dec 2015 09:35" href="/projects/exiv2/activity?from=2015-12-23">almost 6 years</a> ago
      <span id="journal-4570-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Closed</i></li>
       <li><strong>Assignee</strong> changed from <i>Robin Mills</i> to <i>Niels Kristian Bech Jensen</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
       <li><strong>Estimated time</strong> set to <i>1.00 h</i></li>
    </ul>
    <div id="journal-4570-notes" class="wiki"><p>I don't know what a manual lens is.  However if there is no metadata, nothing can be done.</p></div>
    </div>
  </div>
  
  <div id="change-4601" class="journal has-notes">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="28 Dec 2015 19:23" href="/projects/exiv2/activity?from=2015-12-28">almost 6 years</a> ago
      <span id="journal-4601-private_notes" class=""></span>
    </h4>

    <div id="journal-4601-notes" class="wiki"><p>Simon</p>


	<p>I'm just having a little tidy up to see if there is anything outstanding.  Just looking at this issue report, the PEF and JPG have 128 bytes in LensInfo.  The DNG has 69.  I think the number of bytes in LensInfo depends on the camera body.  Your *ist had 36bytes, K-10 had 69 and K-3 had 128.  <a class="external" href="http://dev.exiv2.org/issues/816#note-37">http://dev.exiv2.org/issues/816#note-37</a></p>


	<p>However there's almost no data - just lots of 0's.  So although there is LensInfo, I believe it's saying "I don't know anything about this Lens.".</p></div>
    </div>
  </div>
  
  <div id="change-4604" class="journal has-notes">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/3328">Simon Harhues</a> <a title="28 Dec 2015 21:05" href="/projects/exiv2/activity?from=2015-12-28">almost 6 years</a> ago
      <span id="journal-4604-private_notes" class=""></span>
    </h4>

    <div id="journal-4604-notes" class="wiki"><p>I feared so. Although comparing with <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Manual lens does not get recogniced: Beroflex zoom 500mm (Closed)" href="/issues/1142">#1142</a> it seems that the camera has different LensInfo for different "I don't know anything about this Lens." cases. :) Anyway, if there is nothing to do I'm happy with keeping it closed and sorry for the noise.<br />I'll do a couple of calibration shots for lensfun instead. :)</p></div>
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/1141.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/1141.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
