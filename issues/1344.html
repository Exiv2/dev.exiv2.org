<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Bug #1344: Unknown metadata - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="xAqbXt/eikDhe4XaTLZZt35IRaUx3WbqUNxY67LD0FQmRzCxraRGQLQfmtbzYVWEQdoR3MA+x1Ct/Mhj8fo3Ow==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Bug #1344: Unknown metadata" href="https://dev.exiv2.org/issues/1344.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Bug #1344</h2>

<div class="issue tracker-1 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Unknown metadata</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/6719">luv zeng</a> <a title="18 Apr 2018 09:11" href="/projects/exiv2/activity?from=2018-04-18">over 3 years</a> ago.
        Updated <a title="19 Apr 2018 09:41" href="/projects/exiv2/activity?from=2018-04-19">over 3 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/119">Robin Mills</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">not-a-bug</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="28 Dec 2018" href="/versions/55">0.27</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">18 Apr 2018</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value">1.00 h</div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Hey guys,</p>


	<p>I'm trying to use exiv2 to see some non standard metadata. We have our own specific data that is unlike that of traditional camera makers.<br />I can see it with exiftool, but exiv2 fails at displaying it. I have tried the command :<br />      exiv2 pr -u my image.tiff<br />It only displays standard data (Image Size, exposure time, aperture...) but not the rest.<br />Any idea what I should do ?<br />Thanks</p>
  </div>
</div>







</div>




<div id="history">
<h3>History</h3>
  <div id="change-6174" class="journal has-notes">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 Apr 2018 09:39" href="/projects/exiv2/activity?from=2018-04-18">over 3 years</a> ago
      <span id="journal-6174-private_notes" class=""></span>
    </h4>

    <div id="journal-6174-notes" class="wiki"><p>Please attach a sample image so I can investigate your file.  I'll use the commands <code>$ exiv2 -pS yourImageFile</code> and <code>$ exiv2 -pR yourImageFile</code> to look into your file.</p>


	<p>Exiv2 supports Exif, IPTC, XMP and ICC metadata embedded in many image formats including JPG, PNG, Tiff and numerous others.  Without knowing more about your format, I can't say anything about the effort involved to support your format.  That exiftool supports your format is encouraging.   Exiv2 is open-source and you are welcome to write the necessary code and submit it for review and integration with Exiv2.  If you are asking us to write the code, the marketing people would ask the question "What is the business case for supporting your format?".   We have a back-log of formats waiting for Engineering resources.</p>


	<p>I am hosting a meeting of Team Exiv2 at my home in England on May 5 &#38; 6.  Additional image formats are on the agenda for discussion.  <a class="external" href="http://dev.exiv2.org/news/3">http://dev.exiv2.org/news/3</a></p></div>
    </div>
  </div>
  
  <div id="change-6175" class="journal has-notes">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/6719">luv zeng</a> <a title="18 Apr 2018 12:47" href="/projects/exiv2/activity?from=2018-04-18">over 3 years</a> ago
      <span id="journal-6175-private_notes" class=""></span>
    </h4>

    <div id="journal-6175-notes" class="wiki"><p>Great exiv2 -pR works.</p>


	<p>Sorry I can't share the data as it belongs to my company.</p>


	<p>Another question, when I am trying to code the same thing, I also don't see the "new" metadata. Let's say I have a tag called "ISOSpeedRatings" for example, how could I display it in my code ? I tried the example supplied on the website but it doesn't display it :</p>
	<pre><code>Exiv2::Image::AutoPtr image1 = Exiv2::ImageFactory::open(filename1);<br />      assert(image1.get() != 0);</code></pre>
	<pre><code>image1-&gt;readMetadata();<br />    Exiv2::ExifData &#38;exifData = image1-&gt;exifData();</code></pre>
	<pre><code>if (exifData.empty()) {<br />        std::string error(filename1);<br />        error += ": No Exif data found in the file";<br />        throw Exiv2::Error(1, error);<br />    }</code></pre>
	<pre><code>Exiv2::ExifData::const_iterator end = exifData.end();<br />    for (Exiv2::ExifData::const_iterator i = exifData.begin(); i != end; ++i) {<br />        const char* tn = i-&gt;typeName();<br />        std::cout<br />                  &lt;&lt; std::dec &lt;&lt; i-&gt;value()<br />                  &lt;&lt; "\n";<br />    }</code></pre></div>
    </div>
  </div>
  
  <div id="change-6176" class="journal has-notes has-details">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 Apr 2018 16:38" href="/projects/exiv2/activity?from=2018-04-18">over 3 years</a> ago
      <span id="journal-6176-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Category</strong> set to <i>not-a-bug</i></li>
       <li><strong>Status</strong> changed from <i>New</i> to <i>Assigned</i></li>
       <li><strong>Assignee</strong> set to <i>Robin Mills</i></li>
       <li><strong>Target version</strong> set to <i>0.27</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>50</i></li>
       <li><strong>Estimated time</strong> set to <i>2.00 h</i></li>
    </ul>
    <div id="journal-6176-notes" class="wiki"><p>I'm going to mark this as "not a bug", as I see no case to answer.</p>


	<p>The exiv2 command-line program has quite extensive argument processing and is our test harness.</p>


	<p>I recommend you look at the programs in samples/*.cpp which illustrate APIs to carry out common operations.  You'll find the code in samples/exifvalue.cpp does what you've asked:<pre>$ bin/exiv2 -pa --grep rating/i http://clanmills.com/Stonehenge.jpg
Exif.Photo.ISOSpeedRatings                   Short       1  200
Xmp.xmp.Rating                               XmpText     1  0
$ bin/exifvalue http://clanmills.com/Stonehenge.jpg Exif.Photo.ISOSpeedRatings
200
$ bin/exifvalue http://clanmills.com/Stonehenge.jpg Exif.Photo.ISOSpeedRatings123
Caught Exiv2 exception 'Invalid tag name or ifdId `ISOSpeedRatings123', ifdId 5'
$ </pre></p></div>
    </div>
  </div>
  
  <div id="change-6177" class="journal has-notes has-details">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="19 Apr 2018 09:41" href="/projects/exiv2/activity?from=2018-04-19">over 3 years</a> ago
      <span id="journal-6177-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Closed</i></li>
       <li><strong>% Done</strong> changed from <i>50</i> to <i>100</i></li>
       <li><strong>Estimated time</strong> changed from <i>2.00 h</i> to <i>1.00 h</i></li>
    </ul>
    <div id="journal-6177-notes" class="wiki"><p>No feedback from user.  Case closed.</p></div>
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/1344.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/1344.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
