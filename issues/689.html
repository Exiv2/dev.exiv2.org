<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Feature #689: Support for Encapsulated PostScript (*.eps) files - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="1ULztlQcTpSlMXBQPKIcJT8/7EbidH+zQ7toL7kf9Yw3D1hZJmaClPBVb1yDdRAWAK24PxOX3gm+m/in+iYS4w==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Feature #689: Support for Encapsulated PostScript (*.eps) files" href="https://dev.exiv2.org/issues/689.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Feature #689</h2>

<div class="issue tracker-2 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Support for Encapsulated PostScript (*.eps) files</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Mar 2010 16:40" href="/projects/exiv2/activity?from=2010-03-24">over 11 years</a> ago.
        Updated <a title="18 Sep 2011 05:27" href="/projects/exiv2/activity?from=2011-09-18">about 10 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/206">Volker Grabsch</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">image format</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="18 Sep 2011" href="/versions/47">0.22</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">24 Mar 2010</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value"></div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>In our work, we (Michael Ulbrich and me) notice an increasing demand for handling metadata of Encapsulated PostScript files. While we could try to use Exiftool for that purpose, we would like to go another route and extend Exiv2 for that purpose.</p>


	<p>Are you interested in such a contribution? Would you include it in your next Exiv2 release?</p>


	<p>Has there been any unpublished work on that issue, which we could use as a base for our work?</p>
  </div>
</div>







</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset">
    <p><a title="Revision 2479" href="/projects/exiv2/repository/exiv2/revisions/2479">Revision 2479</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2479/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="17 Jun 2011 06:52" href="/projects/exiv2/activity?from=2011-06-17">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: provide support for EPS files</p>


	<p>EPS is added to the front of the registry to ensure that very small<br />EPS files will be detected.</p>


	<p>This implementation refuses to deal with "read-only XMP" as well<br />as "%%Include..." DSC comments, because it is unclear how to handle<br />those properly. If one of these special cases occur, a warning will<br />be emitted which encourages the user to provide a real-world EPS<br />file to us.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2482" href="/projects/exiv2/repository/exiv2/revisions/2482">Revision 2482</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2482/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="18 Jun 2011 09:12" href="/projects/exiv2/activity?from=2011-06-18">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Fixed regression: Ensure that isEpsType() does't disturb other file formats, and that none of the other file formats disturbs isEpsType()</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2484" href="/projects/exiv2/repository/exiv2/revisions/2484">Revision 2484</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2484/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="18 Jun 2011 16:34" href="/projects/exiv2/activity?from=2011-06-18">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Provide support for more EPS variants</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2485" href="/projects/exiv2/repository/exiv2/revisions/2485">Revision 2485</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2485/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="18 Jun 2011 16:35" href="/projects/exiv2/activity?from=2011-06-18">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved debug output in EpsImage</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2486" href="/projects/exiv2/repository/exiv2/revisions/2486">Revision 2486</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2486/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 04:03" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved coding style and warnings in EpsImage</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2487" href="/projects/exiv2/repository/exiv2/revisions/2487">Revision 2487</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2487/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 18:10" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved EPS tests</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2488" href="/projects/exiv2/repository/exiv2/revisions/2488">Revision 2488</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2488/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 18:10" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Workaround for handling Exiftool's XMP embedding into EPS</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2489" href="/projects/exiv2/repository/exiv2/revisions/2489">Revision 2489</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2489/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 18:10" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved performance of EpsImage</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2491" href="/projects/exiv2/repository/exiv2/revisions/2491">Revision 2491</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2491/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 19:44" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved EPS tests</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2492" href="/projects/exiv2/repository/exiv2/revisions/2492">Revision 2492</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2492/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 20:37" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: provide an example EPS file that contains read-only XMP metadata</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2493" href="/projects/exiv2/repository/exiv2/revisions/2493">Revision 2493</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2493/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 20:49" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: provide an example EPS file that contains an %%Include DSC comment</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2496" href="/projects/exiv2/repository/exiv2/revisions/2496">Revision 2496</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2496/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="20 Jun 2011 07:15" href="/projects/exiv2/activity?from=2011-06-20">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved EPS tests</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2497" href="/projects/exiv2/repository/exiv2/revisions/2497">Revision 2497</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2497/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="20 Jun 2011 07:33" href="/projects/exiv2/activity?from=2011-06-20">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Added nested EPS files to the tests</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2498" href="/projects/exiv2/repository/exiv2/revisions/2498">Revision 2498</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2498/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="20 Jun 2011 08:30" href="/projects/exiv2/activity?from=2011-06-20">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Bugfix for Photoshop EPS files</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2499" href="/projects/exiv2/repository/exiv2/revisions/2499">Revision 2499</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2499/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="22 Jun 2011 05:55" href="/projects/exiv2/activity?from=2011-06-22">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved eps-test driver</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2500" href="/projects/exiv2/repository/exiv2/revisions/2500">Revision 2500</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2500/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="22 Jun 2011 05:56" href="/projects/exiv2/activity?from=2011-06-22">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved Exiv2 EPS comments</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2501" href="/projects/exiv2/repository/exiv2/revisions/2501">Revision 2501</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2501/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="22 Jun 2011 05:56" href="/projects/exiv2/activity?from=2011-06-22">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Workaround for Photoshop EPS files, adjusted test suite</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2502" href="/projects/exiv2/repository/exiv2/revisions/2502">Revision 2502</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2502/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="22 Jun 2011 05:56" href="/projects/exiv2/activity?from=2011-06-22">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved code readability of EpsImage</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2503" href="/projects/exiv2/repository/exiv2/revisions/2503">Revision 2503</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2503/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="22 Jun 2011 06:32" href="/projects/exiv2/activity?from=2011-06-22">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Add test EPS file that contains XMP metadata > 64 KB</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2504" href="/projects/exiv2/repository/exiv2/revisions/2504">Revision 2504</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2504/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="23 Jun 2011 04:12" href="/projects/exiv2/activity?from=2011-06-23">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved block indentation</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2505" href="/projects/exiv2/repository/exiv2/revisions/2505">Revision 2505</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2505/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="23 Jun 2011 04:12" href="/projects/exiv2/activity?from=2011-06-23">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Provide support for JPEG previews stored in the XMP metadata</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2507" href="/projects/exiv2/repository/exiv2/revisions/2507">Revision 2507</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2507/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Jun 2011 07:59" href="/projects/exiv2/activity?from=2011-06-24">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Support XMP previews that use the old xapGImg: namespace prefix</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2508" href="/projects/exiv2/repository/exiv2/revisions/2508">Revision 2508</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2508/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Jun 2011 07:59" href="/projects/exiv2/activity?from=2011-06-24">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Add EPS preview tests</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2509" href="/projects/exiv2/repository/exiv2/revisions/2509">Revision 2509</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2509/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Jun 2011 10:33" href="/projects/exiv2/activity?from=2011-06-24">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Make private implementation pf EpsImage really private</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2510" href="/projects/exiv2/repository/exiv2/revisions/2510">Revision 2510</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2510/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Jun 2011 15:03" href="/projects/exiv2/activity?from=2011-06-24">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Bugfix in EPS test suite</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2511" href="/projects/exiv2/repository/exiv2/revisions/2511">Revision 2511</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2511/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Jun 2011 15:03" href="/projects/exiv2/activity?from=2011-06-24">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Added support for DOS EPS files</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2514" href="/projects/exiv2/repository/exiv2/revisions/2514">Revision 2514</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2514/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="27 Jun 2011 06:58" href="/projects/exiv2/activity?from=2011-06-27">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved coding style of EpsImage: prefer byte* over char*, make use of getULong(), etc</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2515" href="/projects/exiv2/repository/exiv2/revisions/2515">Revision 2515</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2515/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="27 Jun 2011 07:03" href="/projects/exiv2/activity?from=2011-06-27">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Improved coding style of EpsImage</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2518" href="/projects/exiv2/repository/exiv2/revisions/2518">Revision 2518</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2518/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="27 Jun 2011 09:39" href="/projects/exiv2/activity?from=2011-06-27">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Bugfix in EPS test suite regarding file extensions for previews</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2519" href="/projects/exiv2/repository/exiv2/revisions/2519">Revision 2519</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2519/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="27 Jun 2011 09:39" href="/projects/exiv2/activity?from=2011-06-27">over 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Added support for native DOS EPS previews</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 2585" href="/projects/exiv2/repository/exiv2/revisions/2585">Revision 2585</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/2585/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Aug 2011 21:13" href="/projects/exiv2/activity?from=2011-08-24">about 10 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Support for Encapsulated PostScript (*.eps) files (Closed)" href="/issues/689">#689</a>: Added support for nested EPS documents</p>
    </div>
    </div>

</div>



<div id="history">
<h3>History</h3>
  <div id="change-1565" class="journal has-notes">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="24 Mar 2010 19:48" href="/projects/exiv2/activity?from=2010-03-24">over 11 years</a> ago
      <span id="journal-1565-private_notes" class=""></span>
    </h4>

    <div id="journal-1565-notes" class="wiki"><p>Volker, Michael,</p>


	<p>IIRC, support for EPS format has been requested before, so yes, there is interest and I'll be more than happy to include such a contribution provided it follows the usual conventions, but you've done that before, no worries there. I'm not aware of any existing work in this area or anybody else working on this. So all you have as a basis within Exiv2 is the code for the existing image formats.</p>


	<p>Andreas</p></div>
    </div>
  </div>
  
  <div id="change-1571" class="journal has-notes">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="02 Apr 2010 22:29" href="/projects/exiv2/activity?from=2010-04-02">over 11 years</a> ago
      <span id="journal-1571-private_notes" class=""></span>
    </h4>

    <div id="journal-1571-notes" class="wiki"><p>Volker, Michael, would it make things easier for you if you had write access to the repository?</p>


	<p>Andreas</p></div>
    </div>
  </div>
  
  <div id="change-1573" class="journal has-details">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="02 Apr 2010 22:45" href="/projects/exiv2/activity?from=2010-04-02">over 11 years</a> ago
      <span id="journal-1573-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Andreas Huggel</i> to <i>Volker Grabsch</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-1583" class="journal has-notes">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="04 Apr 2010 08:43" href="/projects/exiv2/activity?from=2010-04-04">over 11 years</a> ago
      <span id="journal-1583-private_notes" class=""></span>
    </h4>

    <div id="journal-1583-notes" class="wiki"><p>Andreas Huggel wrote:</p>


<blockquote>

	<p>Volker, Michael, would it make things easier for you if you had write access to the repository?</p>


</blockquote>

	<p>Thanks for your trust. Having write access would indeed simplify things for us.</p>


	<p>Note, however, that we can't start working on this right now. We'll come back to you.</p>


	<p>(It seems that some applications such as "Adobe Indesign CS 2" don't preserve EPS metadata, so we'll have to investigate these issues first. It doesn't make sense to write metadata that will be stripped later in the workflow.)</p>


	<p>Greets,<br />Michael and Volker</p></div>
    </div>
  </div>
  
  <div id="change-1654" class="journal has-details">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="25 May 2010 20:13" href="/projects/exiv2/activity?from=2010-05-25">over 11 years</a> ago
      <span id="journal-1654-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Priority</strong> changed from <i>High</i> to <i>Normal</i></li>
       <li><strong>Target version</strong> deleted (<del><i>0.20</i></del>)</li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-1880" class="journal has-notes">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="20 Mar 2011 15:24" href="/projects/exiv2/activity?from=2011-03-20">over 10 years</a> ago
      <span id="journal-1880-private_notes" class=""></span>
    </h4>

    <div id="journal-1880-notes" class="wiki"><p>I'd just like to announce that we finally started to work on this feature.</p>


	<p>There is already a new class EpsImage which is able to read XMP metadata from certain kinds of *.eps images. I'll provide the patch as soon as we have support for writing and did some thorough testing.</p>


	<p>This parser will probably also work for *.ps and *.ai files, because in the end of the day, these are all PostScript. However, we're currently concentrating on *.eps files as these are the most urgent need.</p>


	<p>Also, especially *.ps files raise some questions regarding the design of the Exiv2 API. Exiv2 operates on image level, while *.ps files are documents. That is, they might have document-wide metadata, but also contain images which in turn might have metadata, or consist of other (sub) images. Strictly speaking, this issue also exists for *.eps files, but in EPS we are backed by the fact that the whole "document" is almost certainly meant to form a single image, and will usually consist of at most one single sub image.</p>


	<p>So what do you think about the design issue regarding document/image formats?</p>


	<p>Did this kind of issue already appear in other image formats or parsers?</p></div>
    </div>
  </div>
  
  <div id="change-1881" class="journal has-notes">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="22 Mar 2011 18:12" href="/projects/exiv2/activity?from=2011-03-22">over 10 years</a> ago
      <span id="journal-1881-private_notes" class=""></span>
    </h4>

    <div id="journal-1881-notes" class="wiki"><p>Great! I've sent you and Michael SVN logins by mail so you can check-in your changes directly.</p>


	<p>TIFF images can consist of a chain of IFDs with multiple images, called "multi-page TIFF". Usually these are related, eg. Exif uses this feature for the thumbnail and some RAW formats use it for copies of the same image with different resolutions. But it can also be used, eg., for different pages of a scanned fax, and each of the IFDs in the chain may have its own sub-IFDs.</p>


	<p>Exiv2 struggles with these as the TIFF parser doesn't cater for all of this flexibility and its high-level design is for only one (set of) metadata container(s) per image/document as you said.</p></div>
    </div>
  </div>
  
  <div id="change-1901" class="journal has-notes has-details">
    <div id="note-8">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-8" class="journal-link">#8</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="15 Jun 2011 12:49" href="/projects/exiv2/activity?from=2011-06-15">over 10 years</a> ago
      <span id="journal-1901-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>File</strong> <i>exiv2-limited-eps-support-3.patch</i> added</li>
       <li><strong>Target version</strong> set to <i>0.22</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>80</i></li>
    </ul>
    <div id="journal-1901-notes" class="wiki"><p>Attached is our current state of work. We'd like to commit it, but it would be great to get some feedback before doing so. As of now, the implementation has the following drawbacks:</p>


	<ul>
	<li>no support for "read-only XMP" (it seems that nobody uses this anyway)</li>
		<li>no support for "%%Include..." DSC comments (it seems that nobody uses those anyway)</li>
		<li>no support for deleting XMP metadata</li>
		<li>no support for DOS EPS (will be added later)</li>
		<li>no support for embedded documents (will be added later)</li>
		<li>no support for native previews that are stored as DSC comments (will be added later)</li>
		<li>no test cases (see below)</li>
	</ul>


	<p>Is this state of work good enough to be committed?</p>


	<p>Note that none of these issues will cause a crash. Each issue will be reported as warning or error in case it occurs.</p>


	<p>Regarding the test cases: We have created more than 60 test files with various tools and various options. Since we created all these EPS files on our own, there shouldn't be any copyright issues with those.</p>


	<p>However, we wonder how to integrate those into Exiv2. Should we simply add those to test/data/ ?</p>


	<p>In addition, for good regression tests we probably need "before/after" variants for each file, but that would result in more than 120 files in total. Would that be okay for you?</p>


	<p>Also, should we try to modify the existing test drivers such as "write-test.sh", or should we create our own test driver such as "eps.sh" for those tests?</p>


	<p>Greets,<br />Michael and Volker</p></div>
    </div>
  </div>
  
  <div id="change-1902" class="journal has-notes">
    <div id="note-9">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-9" class="journal-link">#9</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="16 Jun 2011 08:47" href="/projects/exiv2/activity?from=2011-06-16">over 10 years</a> ago
      <span id="journal-1902-private_notes" class=""></span>
    </h4>

    <div id="journal-1902-notes" class="wiki"><blockquote>

	<p>Is this state of work good enough to be committed?</p>


</blockquote>

	<p>Thanks for the patch! Please commit it. As soon as it's in the trunk, it will be exposed to some level of ongoing regression testing by all those who track the trunk, that's always good.</p>


<blockquote>

	<p>Note that none of these issues will cause a crash. Each issue will be reported as warning or error in case it occurs.</p>


</blockquote>

	<p>Good.</p>


<blockquote>

	<p>Regarding the test cases: We have created more than 60 test files with various tools and various options. Since we created all these EPS files on our own, there shouldn't be any copyright issues with those.</p>


	<p>However, we wonder how to integrate those into Exiv2. Should we simply add those to test/data/ ?</p>


</blockquote>

	<p>Or in a subfolder like test/data/eps? It's good to have a lot of test cases, but I have never dealt with so many in one go. Typically, I run these tests before, sometimes during and then again after any development. If something fails it should be as easy as possible to identify the test case and test data involved.</p>


<blockquote>

	<p>In addition, for good regression tests we probably need "before/after" variants for each file, but that would result in more than 120 files in total. Would that be okay for you?</p>


</blockquote>

	<p>Ok, as long as they are reasonably small. Only a few KB each is best.</p>


<blockquote>

	<p>Also, should we try to modify the existing test drivers such as "write-test.sh", or should we create our own test driver such as "eps.sh" for those tests?</p>


</blockquote>

	<p>Please create new test drivers. I think that will be easier to maintain and troubleshoot. Generally, it's easier to troubleshoot problems if a test is done using the exiv2 utility as opposed to some C++ test-driver that runs lots of test cases.</p>


	<p>Andreas</p></div>
    </div>
  </div>
  
  <div id="change-1909" class="journal has-details">
    <div id="note-10">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-10" class="journal-link">#10</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="17 Jun 2011 06:51" href="/projects/exiv2/activity?from=2011-06-17">over 10 years</a> ago
      <span id="journal-1909-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>File</strong> deleted (<del><i>exiv2-limited-eps-support-3.patch</i></del>)</li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-1911" class="journal has-notes">
    <div id="note-11">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-11" class="journal-link">#11</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="18 Jun 2011 09:19" href="/projects/exiv2/activity?from=2011-06-18">over 10 years</a> ago
      <span id="journal-1911-private_notes" class=""></span>
    </h4>

    <div id="journal-1911-notes" class="wiki"><p>Andreas Huggel wrote:</p>


<blockquote>

	<p>Thanks for the patch! Please commit it.</p>


</blockquote>

	<p>Done. (<a class="changeset" title="#689: provide support for EPS files EPS is added to the front of the registry to ensure that ver..." href="/projects/exiv2/repository/exiv2/revisions/2479">r2479</a> and <a class="changeset" title="#689: Fixed regression: Ensure that isEpsType() does&#39;t disturb other file formats, and that none ..." href="/projects/exiv2/repository/exiv2/revisions/2482">r2482</a>)</p>


<blockquote>

	<p>Or in a subfolder like test/data/eps? It's good to have a lot of test cases, but I have never dealt with so many in one go. Typically, I run these tests before, sometimes during and then again after any development. If something fails it should be as easy as possible to identify the test case and test data involved.</p>


</blockquote>

	<p>Okay, so the test cases went go into test/data/eps, the driver is test/eps-test.sh.</p>


<blockquote><blockquote>

	<p>In addition, for good regression tests we probably need "before/after" variants for each file, but that would result in more than 120 files in total. Would that be okay for you?</p>


</blockquote>

	<p>Ok, as long as they are reasonably small. Only a few KB each is best.</p>


</blockquote>

	<p>I tried to make those files as small as possible, but some tools just don't export small EPS files. Those generate around 200 kb of EPS code even when exporting an empty document. I could try to shorten those by hand, but that might distort the tests.</p>


	<p>For now, I committed only a portion of the tests. Those are about 3 MB (with additional 3 MB for expected outputs). Should I add some more test files? (around 4 MB more) What should be the maximum size for the total EPS test suite? (including expected outputs)</p>


<blockquote>

	<p>Please create new test drivers. I think that will be easier to maintain and troubleshoot.</p>


</blockquote>

	<p>Okay, so in <a class="changeset" title="#689: provide support for EPS files EPS is added to the front of the registry to ensure that ver..." href="/projects/exiv2/repository/exiv2/revisions/2479">r2479</a>, I committed a first version of the test driver. More checks will be added soon.</p>


<blockquote>

	<p>Generally, it's easier to troubleshoot problems if a test is done using the exiv2 utility as opposed to some C++ test-driver that runs lots of test cases.</p>


</blockquote>

	<p>I was using the exiv2 utility for testing anyway.</p>


	<p>Greets,<br />Volker</p></div>
    </div>
  </div>
  
  <div id="change-1912" class="journal has-notes">
    <div id="note-12">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-12" class="journal-link">#12</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="19 Jun 2011 19:48" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago
      <span id="journal-1912-private_notes" class=""></span>
    </h4>

    <div id="journal-1912-notes" class="wiki"><p>I just improved the tests as well as the EpsImage implementation. (<a class="changeset" title="#689: Provide support for more EPS variants" href="/projects/exiv2/repository/exiv2/revisions/2484">r2484</a>, <a class="changeset" title="#689: Improved debug output in EpsImage" href="/projects/exiv2/repository/exiv2/revisions/2485">r2485</a>, <a class="changeset" title="#689: Improved coding style and warnings in EpsImage" href="/projects/exiv2/repository/exiv2/revisions/2486">r2486</a>, <a class="changeset" title="#689: Improved EPS tests" href="/projects/exiv2/repository/exiv2/revisions/2487">r2487</a>, <a class="changeset" title="#689: Workaround for handling Exiftool&#39;s XMP embedding into EPS" href="/projects/exiv2/repository/exiv2/revisions/2488">r2488</a>, <a class="changeset" title="#689: Improved performance of EpsImage" href="/projects/exiv2/repository/exiv2/revisions/2489">r2489</a>, and <a class="changeset" title="#689: Improved EPS tests" href="/projects/exiv2/repository/exiv2/revisions/2491">r2491</a>)</p>


	<p>Along the way, I fixed a bug in the exiv2 command line tool. (<a class="changeset" title="Fixed bug in &quot;exiv2 -ix&quot;: When writing metadata failed, the exitcode was 0 instead of 1 This iss..." href="/projects/exiv2/repository/exiv2/revisions/2490">r2490</a>)</p>


	<p>Open issues are still DOS EPS, embedded documents, and native previews as well as XMP previews.</p>


	<p>I'd like to add more test EPS files, but I need to know what you consider the maximum size of test/data/eps/.</p></div>
    </div>
  </div>
  
  <div id="change-1913" class="journal has-notes">
    <div id="note-13">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-13" class="journal-link">#13</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="19 Jun 2011 23:35" href="/projects/exiv2/activity?from=2011-06-19">over 10 years</a> ago
      <span id="journal-1913-private_notes" class=""></span>
    </h4>

    <div id="journal-1913-notes" class="wiki"><p>Great. I suggest you go ahead and check in all test cases. Then we'll see if anybody complains. As the tests are not part of the distributed tarball, AFAICS the only occasion when they may be a problem is during the initial download.</p></div>
    </div>
  </div>
  
  <div id="change-1917" class="journal has-notes">
    <div id="note-14">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-14" class="journal-link">#14</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="20 Jun 2011 15:18" href="/projects/exiv2/activity?from=2011-06-20">over 10 years</a> ago
      <span id="journal-1917-private_notes" class=""></span>
    </h4>

    <div id="journal-1917-notes" class="wiki"><p>Okay, so I improved the eps-test driver and added the remaining test files. (<a class="changeset" title="#689: Improved EPS tests" href="/projects/exiv2/repository/exiv2/revisions/2496">r2496</a>, <a class="changeset" title="#689: Added nested EPS files to the tests" href="/projects/exiv2/repository/exiv2/revisions/2497">r2497</a>)</p>


	<p>I also added two test files that trigger the "read-only XMP" and the "%%Include..." issue, demonstrating the already mentioned special warning that is meant to encourage the user to send the file to us. (<a class="changeset" title="#689: provide an example EPS file that contains read-only XMP metadata" href="/projects/exiv2/repository/exiv2/revisions/2492">r2492</a>, <a class="changeset" title="#689: provide an example EPS file that contains an %%Include DSC comment" href="/projects/exiv2/repository/exiv2/revisions/2493">r2493</a>)</p>


	<p>Finally, I added one more fix for Photoshop EPS, but there are still issues with that. (<a class="changeset" title="#689: Bugfix for Photoshop EPS files" href="/projects/exiv2/repository/exiv2/revisions/2498">r2498</a>)</p></div>
    </div>
  </div>
  
  <div id="change-1919" class="journal has-notes">
    <div id="note-15">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-15" class="journal-link">#15</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="23 Jun 2011 04:24" href="/projects/exiv2/activity?from=2011-06-23">over 10 years</a> ago
      <span id="journal-1919-private_notes" class=""></span>
    </h4>

    <div id="journal-1919-notes" class="wiki"><p>There is an additional big "WTF?!" in the way Photoshop handles its own EPS files, which required some workarounds. (<a class="changeset" title="#689: Workaround for Photoshop EPS files, adjusted test suite" href="/projects/exiv2/repository/exiv2/revisions/2501">r2501</a>)</p>


	<p>I also improved some minor issues. (<a class="changeset" title="#689: Improved eps-test driver" href="/projects/exiv2/repository/exiv2/revisions/2499">r2499</a>, <a class="changeset" title="#689: Improved Exiv2 EPS comments" href="/projects/exiv2/repository/exiv2/revisions/2500">r2500</a>, <a class="changeset" title="#689: Improved code readability of EpsImage" href="/projects/exiv2/repository/exiv2/revisions/2502">r2502</a>, <a class="changeset" title="#689: Add test EPS file that contains XMP metadata &gt; 64 KB" href="/projects/exiv2/repository/exiv2/revisions/2503">r2503</a>)</p>


	<p>Finally, I added support for JPEG previews that are stored in the XMP metadata, which required a Base64 decoder. (<a class="changeset" title="#689: Improved block indentation" href="/projects/exiv2/repository/exiv2/revisions/2504">r2504</a>, <a class="changeset" title="#689: Provide support for JPEG previews stored in the XMP metadata" href="/projects/exiv2/repository/exiv2/revisions/2505">r2505</a>)</p>


	<p>Open issues are: Native previews (i.e. those not stored in XMP), embedded documents, and DOS EPS.</p>


	<p>To make licensing issues clear: I wrote that Base64 decoder on my own (<a class="changeset" title="#689: Provide support for JPEG previews stored in the XMP metadata" href="/projects/exiv2/repository/exiv2/revisions/2505">r2505</a>), inspired by existing free implementations that were all too complicated in my opinion. I implemented a simple algorithm that behaves well in all corner cases, so no extra code for strange "special cases" regarding padding etc. was needed. I took extra care to make the implementation safe against integer overflows, and of course against buffer overflows.</p>


	<p>The only drawback is that it requires "int" to be at least 32-bit, so this code won't work on old 16-bit platforms. Is that an issue for Exiv2?</p>


	<p>(Maybe I'll also release that decoder separately under BSD license or Public Domain ...)</p></div>
    </div>
  </div>
  
  <div id="change-1923" class="journal has-notes">
    <div id="note-16">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-16" class="journal-link">#16</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Jun 2011 15:11" href="/projects/exiv2/activity?from=2011-06-24">over 10 years</a> ago
      <span id="journal-1923-private_notes" class=""></span>
    </h4>

    <div id="journal-1923-notes" class="wiki"><p>After some minor improvements (<a class="changeset" title="#689: Support XMP previews that use the old xapGImg: namespace prefix" href="/projects/exiv2/repository/exiv2/revisions/2507">r2507</a>, <a class="changeset" title="#689: Add EPS preview tests" href="/projects/exiv2/repository/exiv2/revisions/2508">r2508</a>, <a class="changeset" title="#689: Make private implementation pf EpsImage really private" href="/projects/exiv2/repository/exiv2/revisions/2509">r2509</a>, <a class="changeset" title="#689: Bugfix in EPS test suite" href="/projects/exiv2/repository/exiv2/revisions/2510">r2510</a>) I finally managed to add support for DOS EPS files. (<a class="changeset" title="#689: Added support for DOS EPS files" href="/projects/exiv2/repository/exiv2/revisions/2511">r2511</a>)</p>


	<p>However, the contained TIFF or WMF preview is not yet exposed to the preview manager. Other open issues are: Native (DSC) previews, and nested documents.</p></div>
    </div>
  </div>
  
  <div id="change-1951" class="journal has-notes has-details">
    <div id="note-17">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-17" class="journal-link">#17</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="25 Jul 2011 08:53" href="/projects/exiv2/activity?from=2011-07-25">over 10 years</a> ago
      <span id="journal-1951-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>80</i> to <i>90</i></li>
    </ul>
    <div id="journal-1951-notes" class="wiki"><p>Hello Andreas,</p>


	<p>We added lots of other improvements to the EpsImage implementation, up to <a class="changeset" title="Improved variable naming in EpsImage" href="/projects/exiv2/repository/exiv2/revisions/2566">r2566</a>.</p>


	<a name="Summary"></a>
<h2 >Summary<a href="#Summary" class="wiki-anchor">&para;</a></h2>


	<p>The DOS EPS previews (TIFF, WMF) are exposed to the PreviewManager (<a class="changeset" title="#689: Added support for native DOS EPS previews" href="/projects/exiv2/repository/exiv2/revisions/2519">r2519</a>). We also decode Photoshop EPS previews, which are hex encoded IRBs as EPS comments (<a class="changeset" title="Added native preview filter &quot;hex-irb&quot; that is needed for Photoshop EPS previews" href="/projects/exiv2/repository/exiv2/revisions/2559">r2559</a>, <a class="changeset" title="Added support for native Photoshop EPS previews, adjusted test suite" href="/projects/exiv2/repository/exiv2/revisions/2560">r2560</a>). For that purpose, we make use of the <code>Photostop</code> struct as you <a href="http://dev.exiv2.org/boards/3/topics/913" class="external">suggested in the Forum</a>, extending it by a new method <code>locatePreviewIrb</code> (<a class="changeset" title="Added helper function Photoshop::locatePreviewIrb() which is needed for native previews of Photos..." href="/projects/exiv2/repository/exiv2/revisions/2558">r2558</a>). We added support for <code>%%Include</code> DSC comments (<a class="changeset" title="Implemented handling of %%Include DSC comments in EpsImage, adjusted and added test cases" href="/projects/exiv2/repository/exiv2/revisions/2549">r2549</a>), inspired by a real-world example that we found recently. We also added support for deleting XMP metadata from EPS files (<a class="changeset" title="Added support for deleting XMP metadata from EPS files (exiv2 -dx), adjusted test suite" href="/projects/exiv2/repository/exiv2/revisions/2547">r2547</a>).</p>


	<a name="Remaining-issues"></a>
<h2 >Remaining issues<a href="#Remaining-issues" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li>no support for nested EPS documents <em>(test EPS files are already present)</em></li>
		<li>no support for DSC previews and Illustrator previews <em>(starting with <code>%%BeginPreview</code> and <code>%AI7_Thumbnail</code>, both are very similar)</em></li>
		<li>no support for EPS files containing "read-only XMP" <em>(it is unclear how to handle those cleanly, and it seems that nobody uses those anyway)</em></li>
	</ul></div>
    </div>
  </div>
  
  <div id="change-1967" class="journal has-notes">
    <div id="note-18">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-18" class="journal-link">#18</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="17 Aug 2011 14:56" href="/projects/exiv2/activity?from=2011-08-17">over 10 years</a> ago
      <span id="journal-1967-private_notes" class=""></span>
    </h4>

    <div id="journal-1967-notes" class="wiki"><p>We just added support for Illustrator previews (%AI7_Thumbnail) in <a class="changeset" title="Added support for Illustrator previews (%AI7_Thumbnail) in EPS files, decoded to *.pnm" href="/projects/exiv2/repository/exiv2/revisions/2577">r2577</a>.</p>


	<p>However, we will not add support for DSC previews (%<span>BeginPreview) as those are really flawed. The standard doesn't say anything about colors, so at most gray scale previews are possible via that DSC comment. Also, no Adobe application makes use of that. Only OpenOffice and Inkscape produce it, and those only when you explicitly enable an "EPSI" option. However, the OpenOffice EPSI produces only a 1-Bit black/white preview, so it is almost never useful (see <code>test/data/eps/eps-nested_noxmp_oodraw-lev2-epsi.eps</code>). Inkscape produces a more usable 8-Bit gray scale preview, but in EPSI mode it creates a very outdated kind of EPS that starts with "</span>!PS-Adobe-2.0 EPSF-1.2" (see <code>test/data/eps/eps-flat_inkscape-epsi.eps</code>). To summarize, 1) the standard is flawed, and 2) no application produces an actually usable EPSI file that contains a useful DSC preview.</p>


	<p>Also, we will not add support for "read-only XMP", because this is a purely theoretical option of the standard that isn't used by any real-world application. Even if it was used, it would not be clear how to handle that. However, in the very unlikely case that such an EPS files runs through Exiv2, we will issue a warning message that attempts to encourage the user to provide that EPS file to us. Until that happens, we shouldn't waste any more thought on this esoteric topic.</p>


	<p>So the only remaining issue is:</p>


	<ul>
	<li>no support for nested EPS documents <em>(test EPS files are already present)</em></li>
	</ul></div>
    </div>
  </div>
  
  <div id="change-1979" class="journal has-notes has-details">
    <div id="note-19">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-19" class="journal-link">#19</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="24 Aug 2011 21:16" href="/projects/exiv2/activity?from=2011-08-24">about 10 years</a> ago
      <span id="journal-1979-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>New</i> to <i>Resolved</i></li>
       <li><strong>% Done</strong> changed from <i>90</i> to <i>100</i></li>
    </ul>
    <div id="journal-1979-notes" class="wiki"><p>Superb and thank you very much! We have lots of public holidays here next week, I should have some time to release 0.22, that is overdue anyway. Or do you see any reason why we should hang on longer?</p>


	<p>Andreas</p></div>
    </div>
  </div>
  
  <div id="change-1981" class="journal has-notes">
    <div id="note-20">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-20" class="journal-link">#20</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="25 Aug 2011 03:54" href="/projects/exiv2/activity?from=2011-08-25">about 10 years</a> ago
      <span id="journal-1981-private_notes" class=""></span>
    </h4>

    <div id="journal-1981-notes" class="wiki"><p>A release would be great to get this code out to the people as soon as possible.</p>


	<p>Maybe some compiling issues for MSVC need to be fixed, but apart from that I don't see any problems.</p></div>
    </div>
  </div>
  
  <div id="change-1983" class="journal has-notes">
    <div id="note-21">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-21" class="journal-link">#21</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="29 Aug 2011 04:34" href="/projects/exiv2/activity?from=2011-08-29">about 10 years</a> ago
      <span id="journal-1983-private_notes" class=""></span>
    </h4>

    <div id="journal-1983-notes" class="wiki"><p>Somehow my comment about the last remaining issue vanished. So I'm writing it here again for clarity:</p>


	<p>I finally added support for nested EPS documents. (<a class="changeset" title="#689: Added support for nested EPS documents" href="/projects/exiv2/repository/exiv2/revisions/2585">r2585</a>)</p>


	<p>So this huge task is finished, there are no remaining issues left.</p></div>
    </div>
  </div>
  
  <div id="change-1994" class="journal has-details">
    <div id="note-22">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-22" class="journal-link">#22</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="18 Sep 2011 05:27" href="/projects/exiv2/activity?from=2011-09-18">about 10 years</a> ago
      <span id="journal-1994-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Resolved</i> to <i>Closed</i></li>
    </ul>
    
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/689.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/689.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
