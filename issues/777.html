<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Bug #777: Compile Errors (VS 2010) - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="yLMT7A/ZauoHAVapSREK2lqqysMWuRY5S1Jh6a4tSJUq/rgDfaOm6lJlSaX2xgbpZTieuudat4O2cvFh7RSv+g==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Bug #777: Compile Errors (VS 2010)" href="https://dev.exiv2.org/issues/777.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Bug #777</h2>

<div class="issue tracker-1 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>Compile Errors (VS 2010)</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/2456">Daniel Kaneider</a> <a title="25 Jun 2011 03:00" href="/projects/exiv2/activity?from=2011-06-25">over 10 years</a> ago.
        Updated <a title="02 Jul 2011 00:22" href="/projects/exiv2/activity?from=2011-07-02">over 10 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/119">Robin Mills</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">miscellaneous</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="18 Sep 2011" href="/versions/47">0.22</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">25 Jun 2011</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value"></div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Hi,</p>


	<p>some time ago, I successfully compiled exiv2 on VS 2010 x64 using ./msvc64/exiv2.sln. It was RV 2476 and I didn't need any modifications.</p>


	<p>RV 2477 introduced a compiling error in iptc.cpp saying: <br /><pre>
'back_inserter' : is not a member of 'std'
</pre></p>


	<p>According to <a class="external" href="http://stackoverflow.com/questions/2959234/vs2008-vs2010-leads-to-cryptic-stl-error">http://stackoverflow.com/questions/2959234/vs2008-vs2010-leads-to-cryptic-stl-error</a> a <br /><pre>
#include &lt;iterator&gt;
</pre>solves the problem, which I can confirm.</p>


	<p>Nevertheless with the actual version RV 2511, the following link error appears in exiv2lib<br /><pre>
4&gt;Link:
4&gt;     Creating library C:\Data\Developx64\exiv2-trunk\msvc64\exiv2lib\x64\ReleaseDLL\\exiv2.lib and object C:\Data\Developx64\exiv2-trunk\msvc64\exiv2lib\x64\ReleaseDLL\\exiv2.exp
4&gt;image.obj : error LNK2001: unresolved external symbol "bool __cdecl Exiv2::isEpsType(class Exiv2::BasicIo &#38;,bool)" (?isEpsType@Exiv2@@YA_NAEAVBasicIo@1@_N@Z)
4&gt;image.obj : error LNK2001: unresolved external symbol "class std::auto_ptr&lt;class Exiv2::Image&gt; __cdecl Exiv2::newEpsInstance(class std::auto_ptr&lt;class Exiv2::BasicIo&gt;,bool)" (?newEpsInstance@Exiv2@@YA?AV?$auto_ptr@VImage@Exiv2@@@std@@V?$auto_ptr@VBasicIo@Exiv2@@@3@_N@Z)
4&gt;x64\ReleaseDLL\exiv2.dll : fatal error LNK1120: 2 unresolved externals
4&gt;
4&gt;Build FAILED.
</pre><br />I would appreciate if someone could fix these problems in svn</p>


	<p>Thanks,<br />Daniel</p>
  </div>
</div>







</div>




<div id="history">
<h3>History</h3>
  <div id="change-1924" class="journal has-notes">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/133">Robin Mills</a> <a title="26 Jun 2011 23:52" href="/projects/exiv2/activity?from=2011-06-26">over 10 years</a> ago
      <span id="journal-1924-private_notes" class=""></span>
    </h4>

    <div id="journal-1924-notes" class="wiki"><p>Daniel</p>


	<p>Thanks for reporting this and for providing a solution to the "#include &lt;iterator&gt;" issue.  I've reproduced this and agree with your fix.  I've rebuilt on Mac and Linux and that seems to be fine.</p>


	<p>The unsatisfied externals are a little more tricky and result from a great new feature introduced last week by Volker.  He did ask me to review his submission and I'll get that done in the next few days.  Please remember that the trunk is a development branch and will be be broken from time to time.  The msvc and msvc64 environments are more fragile because the 'core' development takes place on Mac and Linux.  We'll fix it of course.</p>


	<p>So thanks for finding and letting us know about this.  I'll submit a fix to both those issues later this week.</p>


	<p>Robin</p></div>
    </div>
  </div>
  
  <div id="change-1925" class="journal has-notes">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/206">Volker Grabsch</a> <a title="27 Jun 2011 04:06" href="/projects/exiv2/activity?from=2011-06-27">over 10 years</a> ago
      <span id="journal-1925-private_notes" class=""></span>
    </h4>

    <div id="journal-1925-notes" class="wiki"><p>Robin Mills wrote:</p>


<blockquote>

	<p>The unsatisfied externals are a little more tricky and result from a great new feature introduced last week by Volker.</p>


</blockquote>

	<p>The main cause of the linker error are missing entried for the new source files src/epsimage.cpp and src/epsimage.hpp. I added those only to src/Makefile, but I think they have to be added to the MSVC build scripts as well:</p>


	<ul>
	<li>msvc/exiv2lib/exiv2lib.vcproj</li>
		<li>msvc64/exiv2lib/exiv2lib.vcproj</li>
		<li>... more files? ...</li>
	</ul>


	<p>It would be great if someone else could do that, as I'm not an expert with those file formats. I don't even know whether those files are generated automatically or maintained by hand.</p></div>
    </div>
  </div>
  
  <div id="change-1926" class="journal has-notes">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/2456">Daniel Kaneider</a> <a title="27 Jun 2011 09:54" href="/projects/exiv2/activity?from=2011-06-27">over 10 years</a> ago
      <span id="journal-1926-private_notes" class=""></span>
    </h4>

    <div id="journal-1926-notes" class="wiki"><p>Thanks, You were right. Adding version.* and epsimage.* to the msvc project files solved the problem! (tested on RV 2519)</p></div>
    </div>
  </div>
  
  <div id="change-1927" class="journal has-notes">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Jun 2011 21:29" href="/projects/exiv2/activity?from=2011-06-27">over 10 years</a> ago
      <span id="journal-1927-private_notes" class=""></span>
    </h4>

    <div id="journal-1927-notes" class="wiki"><p>SVN: 2524 deals with this.<br />There are outstanding 64bit compilation issues which I will submit separately for team review.</p>


	<p>Robin</p></div>
    </div>
  </div>
  
  <div id="change-1929" class="journal has-notes">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/2456">Daniel Kaneider</a> <a title="01 Jul 2011 13:29" href="/projects/exiv2/activity?from=2011-07-01">over 10 years</a> ago
      <span id="journal-1929-private_notes" class=""></span>
    </h4>

    <div id="journal-1929-notes" class="wiki"><p>RV 2538 seems to be just fine with x64.&nbsp;&nbsp;&nbsp;&nbsp;Thanks!</p></div>
    </div>
  </div>
  
  <div id="change-1930" class="journal has-notes has-details">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="01 Jul 2011 21:11" href="/projects/exiv2/activity?from=2011-07-01">over 10 years</a> ago
      <span id="journal-1930-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Category</strong> set to <i>miscellaneous</i></li>
       <li><strong>Status</strong> changed from <i>New</i> to <i>Resolved</i></li>
       <li><strong>Assignee</strong> set to <i>Robin Mills</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
    </ul>
    <div id="journal-1930-notes" class="wiki"><p>Thanks for the feedback Daniel</p></div>
    </div>
  </div>
  
  <div id="change-1933" class="journal has-notes has-details">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="02 Jul 2011 00:22" href="/projects/exiv2/activity?from=2011-07-02">over 10 years</a> ago
      <span id="journal-1933-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Resolved</i> to <i>Closed</i></li>
       <li><strong>Priority</strong> changed from <i>Urgent</i> to <i>Normal</i></li>
    </ul>
    <div id="journal-1933-notes" class="wiki"><p>Daniel</p>


	<p>I think we're done on this.  However if you think otherwise, you know we will listen and respond.  Thank you for bringing this to our attention.</p></div>
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/777.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/777.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
