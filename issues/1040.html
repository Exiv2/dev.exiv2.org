<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Feature #1040: MWG-KW schema - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="tSrBtIcXpG5Q75ssGFl5IoT+n6J9vJLbTz1O/vkXNbFXZ2pb9W1obgWLhCCnjnURu2zL24xfM2GyHd52ui7S3g==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
    <link rel="alternate" type="application/atom+xml" title="Exiv2 - Feature #1040: MWG-KW schema" href="https://dev.exiv2.org/issues/1040.atom" />
<script src="/javascripts/context_menu.js?1550767427"></script><link rel="stylesheet" media="screen" href="/stylesheets/context_menu.css?1550767427" /></head>
<body class="project-exiv2 has-main-menu controller-issues action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="issues" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="issues" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=issues" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=issues">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues selected" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/exiv2/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/exiv2/issues/report">Summary</a></li>

</ul>









        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Feature #1040</h2>

<div class="issue tracker-2 status-5 priority-4 priority-default closed details">

  <div class="gravatar-with-child">
    
    
  </div>

<div class="subject">
<div><h3>MWG-KW schema</h3></div>
</div>
        <p class="author">
        Added by <a class="user active" href="/users/4035">Alan Pater</a> <a title="12 Mar 2015 20:40" href="/projects/exiv2/activity?from=2015-03-12">over 6 years</a> ago.
        Updated <a title="21 Jun 2015 16:39" href="/projects/exiv2/activity?from=2015-06-21">over 6 years</a> ago.
        </p>

<div class="attributes">
<div class="splitcontent"><div class="splitcontentleft"><div class="status attribute"><div class="label">Status:</div><div class="value">Closed</div></div><div class="priority attribute"><div class="label">Priority:</div><div class="value">Normal</div></div><div class="assigned-to attribute"><div class="label">Assignee:</div><div class="value"><a class="user active" href="/users/4035">Alan Pater</a></div></div><div class="category attribute"><div class="label">Category:</div><div class="value">metadata</div></div><div class="fixed-version attribute"><div class="label">Target version:</div><div class="value"><a title="17 May 2015" href="/versions/51">0.25</a></div></div></div><div class="splitcontentleft"><div class="start-date attribute"><div class="label">Start date:</div><div class="value">12 Mar 2015</div></div><div class="due-date attribute"><div class="label">Due date:</div><div class="value"></div></div><div class="progress attribute"><div class="label">% Done:</div><div class="value"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent">100%</p></div></div><div class="estimated-hours attribute"><div class="label">Estimated time:</div><div class="value"></div></div></div></div>


</div>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>This patch adds support for Metadata Working Group (Hierarchical) Keywords. I previously added support for Lightroom Hierarchical Tags, a custom XMP schema in wide use by Adobe. MWG-KW is the schema developed and published in MWG guidlines.</p>


	<p>Exiftool has included support for this schema for some time. With this patch, exiv2 can create and modify these hierarchical keywords as well.</p>


	<p>I have tested against exiftool and not seen any errors.</p>
  </div>
</div>
  <hr />
  <p><strong>Files</strong></p>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/727">mwg-kw.patch</a>    <span class="size">(4.01 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/727/mwg-kw.patch">mwg-kw.patch</a>  </td>
  <td></td>
  <td>
      <span class="author">Alan Pater, 12 Mar 2015 20:40</span>
  </td>
  <td>
  </td>
</tr>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/728">mwg-kw.test.jpg</a>    <span class="size">(26.3 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/728/mwg-kw.test.jpg">mwg-kw.test.jpg</a>  </td>
  <td>mwg-kw  Test image</td>
  <td>
      <span class="author">Alan Pater, 12 Mar 2015 20:49</span>
  </td>
  <td>
  </td>
</tr>
</table>
</div>







<hr />
<div id="relations">
<div class="contextual">
</div>

<p><strong>Related issues</strong></p>

<form data-cm-url="/issues/context_menu" action="/issues/1040" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="+5Dh451ztH2FoO5rN0rBGfCVdLWG1he1YvLDPgSpNlgZ3UoM7wl4fdDE8WeInc0qzwcgzHc1tg+f0lO2R5DRNw==" />
  <table class="list issues odd-even"><tr id="relation-120" class="issue hascontextmenu issue tracker-1 status-5 priority-4 priority-default closed"><td class="checkbox"><input type="checkbox" name="ids[]" value="784" /></td><td class="subject" style="width: 50%">Related to Exiv2 - <a class="issue tracker-1 status-5 priority-4 priority-default closed" href="/issues/784">Bug #784</a>: Writing Xmp.lr.hierarchicalSubject writes wrong datatype</td><td class="status">Closed</td><td class="start_date">02 Aug 2011</td><td class="due_date"></td><td class="done_ratio"><table class="progress progress-100"><tr><td style="width: 100%;" class="closed" title="100%"></td></tr></table><p class="percent"></p></td><td class="buttons"><a title="Actions" class="icon-only icon-actions js-contextmenu" href="#">Actions</a></td></tr></table>
</form>
<form class="new_relation" id="new-relation-form" style="display: none;" action="/issues/1040/relations" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />


<p><select onchange="setPredecessorFieldsVisibility();" name="relation[relation_type]" id="relation_relation_type"><option selected="selected" value="relates">Related to</option>
<option value="duplicates">Is duplicate of</option>
<option value="duplicated">Has duplicate</option>
<option value="blocks">Blocks</option>
<option value="blocked">Blocked by</option>
<option value="precedes">Precedes</option>
<option value="follows">Follows</option>
<option value="copied_to">Copied to</option>
<option value="copied_from">Copied from</option></select>
Issue #<input size="10" type="text" name="relation[issue_to_id]" id="relation_issue_to_id" />
<span id="predecessor_fields" style="display:none;">
Delay: <input size="3" type="text" name="relation[delay]" id="relation_delay" /> days
</span>
<input type="submit" name="commit" value="Add" data-disable-with="Add" />
<a href="#" onclick="$(&quot;#new-relation-form&quot;).hide();; return false;">Cancel</a>
</p>

<script>
//<![CDATA[
observeAutocompleteField('relation_issue_to_id', '/issues/auto_complete?issue_id=1040&project_id=exiv2&scope=all')
//]]>
</script>

<script>
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>
</div>

</div>

<div id="issue-changesets">
<h3>Associated revisions</h3>
    <div class="changeset">
    <p><a title="Revision 3634" href="/projects/exiv2/repository/exiv2/revisions/3634">Revision 3634</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3634/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Mar 2015 22:09" href="/projects/exiv2/activity?from=2015-03-24">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: MWG-KW schema (Closed)" href="/issues/1040">#1040</a>.  Thank You Alan for reporting this and providing the patch.  Thank You Thomas for validating this change.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3642" href="/projects/exiv2/repository/exiv2/revisions/3642">Revision 3642</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3642/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Mar 2015 20:34" href="/projects/exiv2/activity?from=2015-03-25">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: MWG-KW schema (Closed)" href="/issues/1040">#1040</a>.  Added test regression detector.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3643" href="/projects/exiv2/repository/exiv2/revisions/3643">Revision 3643</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3643/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Mar 2015 20:54" href="/projects/exiv2/activity?from=2015-03-25">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Writing Xmp.lr.hierarchicalSubject writes wrong datatype (Closed)" href="/issues/784">#784</a> and <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: MWG-KW schema (Closed)" href="/issues/1040">#1040</a>.  Test regression detector.</p>
    </div>
    </div>
    <div class="changeset">
    <p><a title="Revision 3657" href="/projects/exiv2/repository/exiv2/revisions/3657">Revision 3657</a>
        (<a href="/projects/exiv2/repository/exiv2/revisions/3657/diff">diff</a>)
        <br />
        <span class="author">Added by <a class="user active" href="/users/4035">Alan Pater</a> <a title="03 Apr 2015 16:03" href="/projects/exiv2/activity?from=2015-04-03">over 6 years</a> ago</span></p>
    <div class="wiki changeset-comments">
        <p><a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: MWG-KW schema (Closed)" href="/issues/1040">#1040</a> doc template for mwg-kw schema</p>
    </div>
    </div>

</div>



<div id="history">
<h3>History</h3>
  <div id="change-3209" class="journal has-details">
    <div id="note-1">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-1" class="journal-link">#1</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4035">Alan Pater</a> <a title="12 Mar 2015 20:49" href="/projects/exiv2/activity?from=2015-03-12">over 6 years</a> ago
      <span id="journal-3209-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>File</strong> <a href="/attachments/728">mwg-kw.test.jpg</a> <a class="icon-only icon-download" title="Download" href="/attachments/download/728/mwg-kw.test.jpg">mwg-kw.test.jpg</a> added</li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-3210" class="journal has-notes has-details">
    <div id="note-2">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-2" class="journal-link">#2</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="13 Mar 2015 22:41" href="/projects/exiv2/activity?from=2015-03-13">over 6 years</a> ago
      <span id="journal-3210-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>New</i> to <i>Assigned</i></li>
       <li><strong>Target version</strong> set to <i>0.25</i></li>
    </ul>
    <div id="journal-3210-notes" class="wiki"><p>Thanks very much for providing this, Alan.  I'll have a look at this and submit it over the weekend.</p></div>
    </div>
  </div>
  
  <div id="change-3277" class="journal has-notes">
    <div id="note-3">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-3" class="journal-link">#3</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/360">Thomas Beutlich</a> <a title="24 Mar 2015 21:18" href="/projects/exiv2/activity?from=2015-03-24">over 6 years</a> ago
      <span id="journal-3277-private_notes" class=""></span>
    </h4>

    <div id="journal-3277-notes" class="wiki"><p>Patch is working. This is the output of the XMP dump of the provided test file:<pre>Xmp.mwg-kw.Keywords                                 XmpText      0 type="Struct" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy                XmpText      0 type="Bag" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[1]             XmpText      0 type="Struct" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[1]/mwg-kw:Keyword XmpText      3 cat
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[1]/mwg-kw:Children XmpText      0 type="Bag" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[1]/mwg-kw:Children[1] XmpText      0 type="Struct" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[1]/mwg-kw:Children[1]/mwg-kw:Keyword XmpText      7 Siamese
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[2]             XmpText      0 type="Struct" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[2]/mwg-kw:Keyword XmpText      7 Felidae
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[2]/mwg-kw:Children XmpText      0 type="Bag" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[2]/mwg-kw:Children[1] XmpText      0 type="Struct" 
Xmp.mwg-kw.Keywords/mwg-kw:Hierarchy[2]/mwg-kw:Children[1]/mwg-kw:Keyword XmpText      6 Jaguar</pre><br />It messes up the layout but I guess this is general problem with long identifiers of hierarchical data.</p></div>
    </div>
  </div>
  
  <div id="change-3279" class="journal has-notes">
    <div id="note-4">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-4" class="journal-link">#4</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Mar 2015 22:14" href="/projects/exiv2/activity?from=2015-03-24">over 6 years</a> ago
      <span id="journal-3279-private_notes" class=""></span>
    </h4>

    <div id="journal-3279-notes" class="wiki"><p>Patch submitted.  <a class="changeset" title="Fixed output error in functions.source/hardLinkFiles() reporting &quot;ln: bug812-B.jpg: File exists&quot; ..." href="/projects/exiv2/repository/exiv2/revisions/3633">r3633</a>.  Thanks to Alan for reporting and providing the patch.  Thanks to Thomas for validating the fix.</p>


	<p>Thanks for looking at this Thomas, it has been on my TODO list for more than a week.  (<a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Exiv2 nulls file on CIFS share when modifying Exif.Photo.UserComment (Closed)" href="/issues/1042">#1042</a>/#1043 have been time-consuming).  I think we should about add the test file to the test harness.</p>


	<p>Alan: is there any reason (example copyright) to prevent us from copying your test file (mwg-kw.test.jpg) into our test suite?  It will probably be renamed exiv2-bug1040.jpg to fit the name pattern of the test files.</p></div>
    </div>
  </div>
  
  <div id="change-3281" class="journal has-notes">
    <div id="note-5">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-5" class="journal-link">#5</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4035">Alan Pater</a> <a title="24 Mar 2015 22:23" href="/projects/exiv2/activity?from=2015-03-24">over 6 years</a> ago
      <span id="journal-3281-private_notes" class=""></span>
    </h4>

    <div id="journal-3281-notes" class="wiki"><p>Very cool! Thank you Thomas and Robin!</p>


	<p>Yes, go ahead and include the test image into the test suite. It can be considered to be in the public domain. Next time I'll be sure to include a Creative Commons statement to that effect.</p></div>
    </div>
  </div>
  
  <div id="change-3283" class="journal has-notes has-details">
    <div id="note-6">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-6" class="journal-link">#6</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Mar 2015 22:34" href="/projects/exiv2/activity?from=2015-03-24">over 6 years</a> ago
      <span id="journal-3283-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Alan Pater</i> to <i>Robin Mills</i></li>
    </ul>
    <div id="journal-3283-notes" class="wiki"><p>Thanks Alan.  I'm not a legal guy and easily confused by all the different license types.  And I'm not sure how to record the license.  Perhaps it should be put as a Exif.Photo.UserComment in the jpg.</p>


	<p>I've changed the Assignee to myself to add Alan's file to the test suite and to update the test suite code appropriately.  When tomorrow's build with the test changes is successful on our build/test server, I'll mark this as "Resolved".</p></div>
    </div>
  </div>
  
  <div id="change-3302" class="journal has-notes">
    <div id="note-7">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-7" class="journal-link">#7</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Mar 2015 20:55" href="/projects/exiv2/activity?from=2015-03-25">over 6 years</a> ago
      <span id="journal-3302-private_notes" class=""></span>
    </h4>

    <div id="journal-3302-notes" class="wiki"><p>Submitted: <a class="changeset" title="#1040.  Added test regression detector." href="/projects/exiv2/repository/exiv2/revisions/3642">r3642</a> and <a class="changeset" title="Fixes to msvc2003" href="/projects/exiv2/repository/exiv2/revisions/3543">r3543</a></p>


	<p>Alan:<br />I've added a test to make ensure the output of the command $ exiv2 -px mwg-kw.test.jpg is always the same as Thomas reports in Item3 above.</p>


	<p>I'm a little confused by the discussion about the spelling of hierarchy.  I've also added a parallel test on the file you provided for <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Writing Xmp.lr.hierarchicalSubject writes wrong datatype (Closed)" href="/issues/784">#784</a><pre>$ exiv2 -px exiv2.lr.jpg # renamed to exiv2-bug784.jpg
Xmp.dc.format                                XmpText    10  image/jpeg
Xmp.dc.rights                                LangAlt     1  lang="x-default" Public Domain. Do whatever you like with this image
Xmp.dc.subject                               XmpBag      6  1st, 2nd, next1, next2, root, root0
Xmp.xmpMM.DocumentID                         XmpText    32  004D48F936062EF5085A81BF96D4C494
Xmp.xmpMM.OriginalDocumentID                 XmpText    32  004D48F936062EF5085A81BF96D4C494
Xmp.xmpMM.InstanceID                         XmpText    44  xmp.iid:f74f0d02-e921-134e-8107-1dda17aad853
Xmp.xmpMM.History                            XmpText     0  type="Seq" 
Xmp.xmpMM.History[1]                         XmpText     0  type="Struct" 
Xmp.xmpMM.History[1]/stEvt:action            XmpText     5  saved
Xmp.xmpMM.History[1]/stEvt:instanceID        XmpText    44  xmp.iid:f74f0d02-e921-134e-8107-1dda17aad853
Xmp.xmpMM.History[1]/stEvt:when              XmpText    25  2015-03-24T20:35:55-05:00
Xmp.xmpMM.History[1]/stEvt:softwareAgent     XmpText    39  Adobe Photoshop Lightroom 4.4 (Windows)
Xmp.xmpMM.History[1]/stEvt:changed           XmpText     9  /metadata
Xmp.xmp.MetadataDate                         XmpText    25  2015-03-24T20:35:55-05:00
Xmp.crs.RawFileName                          XmpText    12  exiv2.lr.jpg
Xmp.lr.hierarchicalSubject                   XmpBag      2  root0|next1|next2, root|1st|2nd
894 rmills@rmillsmbp:~/gnu/exiv2/trunk/test $ </pre>I hope these are the correct tests and we can mark both issues <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: MWG-KW schema (Closed)" href="/issues/1040">#1040</a> and <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Writing Xmp.lr.hierarchicalSubject writes wrong datatype (Closed)" href="/issues/784">#784</a> as resolved.</p></div>
    </div>
  </div>
  
  <div id="change-3304" class="journal has-notes has-details">
    <div id="note-8">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-8" class="journal-link">#8</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Mar 2015 20:58" href="/projects/exiv2/activity?from=2015-03-25">over 6 years</a> ago
      <span id="journal-3304-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Assignee</strong> changed from <i>Robin Mills</i> to <i>Alan Pater</i></li>
    </ul>
    <div id="journal-3304-notes" class="wiki"><p>Alan:</p>


	<p>I hope I've got this right.  If you're happy, please change the status to "Resolved" and we're done.  If further action is required, please assign it to me (or Thomas) and explain what needs attention.</p></div>
    </div>
  </div>
  
  <div id="change-3313" class="journal has-notes has-details">
    <div id="note-9">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-9" class="journal-link">#9</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4035">Alan Pater</a> <a title="26 Mar 2015 13:28" href="/projects/exiv2/activity?from=2015-03-26">over 6 years</a> ago
      <span id="journal-3313-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Assigned</i> to <i>Resolved</i></li>
    </ul>
    <div id="journal-3313-notes" class="wiki"><p>Looks good to me! I confirmed interoperability with exiftool.</p></div>
    </div>
  </div>
  
  <div id="change-3636" class="journal has-details">
    <div id="note-10">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-10" class="journal-link">#10</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/4035">Alan Pater</a> <a title="08 May 2015 16:23" href="/projects/exiv2/activity?from=2015-05-08">over 6 years</a> ago
      <span id="journal-3636-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>% Done</strong> changed from <i>50</i> to <i>100</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-3823" class="journal has-details">
    <div id="note-11">
    <div class="contextual">
      <span class="journal-actions"></span>
      <a href="#note-11" class="journal-link">#11</a>
    </div>
    <h4>
      
      Updated by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="21 Jun 2015 16:39" href="/projects/exiv2/activity?from=2015-06-21">over 6 years</a> ago
      <span id="journal-3823-private_notes" class=""></span>
    </h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>Resolved</i> to <i>Closed</i></li>
    </ul>
    
    </div>
  </div>
  


</div>

<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:  <span><a class="atom" rel="nofollow" href="/issues/1040.atom">Atom</a></span>
  <span><a class="pdf" rel="nofollow" href="/issues/1040.pdf">PDF</a></span>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
