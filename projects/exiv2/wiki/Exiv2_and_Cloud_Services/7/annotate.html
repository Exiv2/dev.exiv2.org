<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Version 7 - History - Exiv2 and Cloud Services - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="WYFJPLSFRSyZiWIjIWQq6vS9M+8WpwgH64BhSC60+ri7zOLTxv+JLMztfS+esybZyy9nludEqb0WoPHAbY0d1w==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
<link rel="stylesheet" media="screen" href="/stylesheets/scm.css?1550767427" />
</head>
<body class="project-exiv2 has-main-menu controller-wiki action-annotate avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="wiki_pages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="wiki_pages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=wiki" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=wiki">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki selected" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <div class="contextual">
<a class="icon icon-edit" href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/edit">Edit</a>
<a class="icon icon-history" href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/history">History</a>
</div>



<h2><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services">Exiv2 and Cloud Services</a> &#187; <a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/history">History</a> &#187; Version 7</h2>

<p>
  <em><a class="user active" href="/users/53">Andreas Huggel</a>, 04 Oct 2014 02:59 </em><br />
  
</p>


<table class="filecontent annotate">
<tbody>
<tr class="bloc-0">
    <th class="line-num">1</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/1">1</a></td>
    <td class="author">Tuan Nhu</td>
    <td class="line-code"><pre>h1. Exiv2 and Cloud Services</pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">2</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/2">2</a></td>
    <td class="author">Tuan Nhu</td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">3</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>h2. 1. Introduction</pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">4</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">5</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>This article is to share my investigations about some of cloud services and suggest the way to integrate them into Exiv2. The investigated cloud services are Google Drive and Dropbox, which are the most popular services. As enterprises integrate their existing IT infrastructures and IT resources with the sharable cloud paradigm, it is imperative for cloud enablers to provide a uniform API that these enterprises can use to tailor the cloud to their business processes. Hence, the way we integrate Google Drive and Dropbox into Exiv2 should be applicable to other cloud services.</pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">6</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">7</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>h2. 2. Architecture</pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">8</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">9</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Most of cloud services provide Representational State Transfer (RESTful) API to allow users to perform the operations (view, edit, delete, share, …) on their resources. </pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">10</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The API is mostly based on the HTTP/HTTPS protocol and GET, POST, PUT, and DELETE requests may be all used. The API presupposes no particular structure in the Uniform Resource Identifier (URI) space. The starting point is a URI, supplied by the cloud service provider, that identifies the cloud itself. The cloud&#39;s representation contains URIs for the other resources in the cloud. Operations on the cloud resources are performed by making an HTTP request against the URI of the resource.</pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">11</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Before accessing the API, the applications are required to ask users to authenticate as well as authorize the permission to access the user data. Most of the cloud services use OAuth 2.0 to do that.</pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">12</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-1">
    <th class="line-num">13</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The following is the way we should integrate the cloud services to Exiv2.</pre></td>
</tr>
<tr class="bloc-2">
    <th class="line-num">14</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/3">3</a></td>
    <td class="author">Tuan Nhu</td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-3">
    <th class="line-num">15</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/7">7</a></td>
    <td class="author">Andreas Huggel</td>
    <td class="line-code"><pre>p=. !ClassDiagram.jpg!</pre></td>
</tr>
<tr class="bloc-4">
    <th class="line-num">16</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/5">5</a></td>
    <td class="author">Tuan Nhu</td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-4">
    <th class="line-num">17</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>p=. Fig.1. The domain diagram of CloudIo</pre></td>
</tr>
<tr class="bloc-4">
    <th class="line-num">18</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-4">
    <th class="line-num">19</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The CloudIo should contains 2 components: _Exiv2::Oauth_ and _Exiv2::CurlIo_. </pre></td>
</tr>
<tr class="bloc-4">
    <th class="line-num">20</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>* The Exiv2:Oauth is to request and receive credentials to access the API. The credentials in this case are often the tokens. The tokens are attached to the request headers that are sent to RESTFUL API to get the data.</pre></td>
</tr>
<tr class="bloc-4">
    <th class="line-num">21</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>* The Exiv2::CurlIo is to retrieve the data. It should be similar as we access a particular image URL because the API is mostly based on the HTTP/HTTPS protocol (We should easily get byte-ranges and PUT byte-ranges)</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">22</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/6">6</a></td>
    <td class="author">Tuan Nhu</td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-3">
    <th class="line-num">23</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/7">7</a></td>
    <td class="author">Andreas Huggel</td>
    <td class="line-code"><pre>p=. !requestflow.jpg!</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">24</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Exiv2_and_Cloud_Services/6">6</a></td>
    <td class="author">Tuan Nhu</td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">25</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>p=. Fig.2. the flow of CloudIo</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">26</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">27</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Note: the above diagram indicates briefly the flow of CloudIo. It should be much more complicated in details. The step 1 &amp; 2 should contain more sub-steps before the token is returned (e.g. the step when user provides username, password).</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">28</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">29</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>h2. 3. Google Drive</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">30</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">31</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The documentation of Google Drive (https://developers.google.com/drive/) is very clear and detail. I don’t intend to repeat it at here. I just want to highlight some key points.</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">32</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>* Google Drive uses Oauth 2.0, more details at https://developers.google.com/drive/about-auth</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">33</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>* The API reference is at https://developers.google.com/drive/v2/reference/. It&#39;s all done with fairly normal HTTP GETs, POSTs, PUTs.</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">34</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>* It’s very easy to test Google Drive API because they provide APIs Explorer below each page (e.g https://developers.google.com/drive/v2/reference/files/list).</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">35</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>* For each file on Google Drive, it has a unique Id. To download the file, we first need to request to</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">36</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;code&gt; GET https://www.googleapis.com/drive/v2/files/fileId &lt;/code&gt;</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">37</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The response contains basic info, some metadata of the file, the URL to download the file.</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">38</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>* We can upload and update the file via PUT and POST method (Maximum file size: 10GB)</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">39</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">40</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>h2. 4. Dropbox API</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">41</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">42</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The RESTFUL API of dropbox is at https://www.dropbox.com/developers/core/docs It’s very clear and detail. It’s very similar as Google Drive and it&#39;s all done with fairly normal HTTP GETs, POSTs, PUTs.</pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">43</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-5">
    <th class="line-num">44</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Dropbox also uses Oauth 2.0</pre></td>
</tr>
</tbody>
</table>


        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
