<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Revision 2 - History - How do I run the test suite for Exiv2 - How do I run the test suite for Exiv2 - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="lCaIy3Kfr8vypDKxDsTv3VNOO+YGMU5tvwcuOiJXwQF2ayMkAOVjy6fALb2xE+PubNxvn/fS79dCJ76yYW4mbg==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
  <meta name="robots" content="noindex,follow,noarchive" />
</head>
<body class="project-exiv2 has-main-menu controller-wiki action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="wiki_pages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="wiki_pages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=wiki" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=wiki">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki selected" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          
<h3>Wiki</h3>
<ul>
  <li><a href="/projects/exiv2/wiki">Start page</a></li>
  <li><a href="/projects/exiv2/wiki/index">Index by title</a></li>
  <li><a href="/projects/exiv2/wiki/date_index">Index by date</a></li>
</ul>


        
    </div>

    <div id="content">
        
        <div class="contextual">


  <span class="drdn"><span class="drdn-trigger"><span class="icon-only icon-actions" title="Actions">Actions</span></span><div class="drdn-content"><div class="drdn-items">
    <a class="icon icon-history" href="/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2/history">History</a>

      

</div></div></span></div>



  <h2><a href="/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2">How do I run the test suite for Exiv2</a> &#187; <a href="/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2/history">History</a> &#187; Revision 2</h2>

    <p>
      <a href="/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2/1">« Previous</a> |
    Revision 2/6
      (<a href="/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2/2/diff">diff</a>)
      | <a href="/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2/3">Next »</a>
    <br />
    <em><a class="user active" href="/users/119">Robin Mills</a>, 19 Jan 2013 08:57 </em><br />
    
    </p>
    <hr />

<div class="wiki wiki-page">
  <a name="How-do-I-run-the-test-suite-for-Exiv2"></a>
<h1 >How do I run the test suite for Exiv2<a href="#How-do-I-run-the-test-suite-for-Exiv2" class="wiki-anchor">&para;</a></h1>


	<p>You can run the test suite on MacOSX, Linux and Windows.  To run on Windows, you will need to install Cygwin because the test suite is written as Bash scripts.  You can run the test suite on Cygwin on exiv2 built with MSVC, Cygwin or MinGW.</p>


	<p>For *nix builds (Mac/Cygwin/Linux), in the topmost directory:<br /><pre>
$ cd &lt;exiv2dir&gt;
$ make tests          # This tests most exiv2 capability
.....
$ make teste          # This tests EPS functionality (downloads and caches 20mb of test data)
....
$ make testv          # This tests Video functionality (downloads and caches 50mb of test data)
...
</pre>For MSVC and MSVC64 builds, please define the environment string EXIV2_BINDIR to be the name of the directory in which exiv2.exe (and other applications) are built:<br /><pre>$  make tests EXIV2_BINDIR=$PWD/msvc64/bin/Win32/ReleaseDLL</pre>Take care, Cygwin is case sensitive about path/filenames.</p>


	<p>On Mac/Linux, the suite runs in about 1 minute. On Cygwin, it's about 5 minutes.</p>


	<p>You can run the tests individually from the &lt;exiv2dir&gt;/test directory:<pre>
1013 rmills@rmills-linux:~/gnu/exiv2/test.build/test $ ls *.sh
addmoddel.sh      crw-test.sh    exiv2-test.sh   iptctest.sh
preview-test.sh   tiff-test.sh   write2-test.sh  bugfixes-test.sh
eps-test.sh       imagetest.sh   modify-test.sh  stringto-test.sh
verifyMSVC.sh     write-test.sh  conversions.sh  exifdata-test.sh
iotest.sh         path-test.sh   testMSVC.sh     video-test.sh
xmpparser-test.sh

1014 rmills@rmills-linux:~/gnu/exiv2/test.build/test $ ./bugfixes-test.sh
426 440 443 444 445 447 452 460 479 480 495 498 501 528 540 554 662 666 683 711 726 751 769 799 800 831 (836 skipped) 841 876 
all testcases passed.</pre><br />If all is good, it will produce a short output mostly saying 'all testcases passed.'.</p>


	<p>If you encounter issues - large amounts of inexplicable output - you should run test/*.sh individually to identify which test (or tests) are failing, and read the code of the failing script.  Mosts tests use reference files in &lt;exiv2dir&gt;/test/data to create files in &lt;exiv2dir&gt;/test/tmp/ and files are output files are differences between the reference and the generated output.</p>


	<p>Here are the results today (2013-01-18).  Of course the output of the test suite will change as exiv2 evolves. <br /><pre>
1007 rmills@rmills-linux:~/gnu/exiv2/test.build $ make tests
cd test &#38;&#38; make test
make[1]: Entering directory `/home/rmills/gnu/exiv2/test.build/test'
Running addmoddel.sh ...
all testcases passed.
Running bugfixes-test.sh ...
426 440 443 444 445 447 452 460 479 480 495 498 501 528 540 554 662 666 683 711 726 751 769 799 800 831 (836 skipped) 841 876 
all testcases passed.
Running exifdata-test.sh ...
all testcases passed.
Running exiv2-test.sh ...
all testcases passed.
Running imagetest.sh ...

Erase all tests..................
Copy all tests.........
Copy iptc tests.........
---------------------------------------------------------
All test cases passed
Running iotest.sh ...

Io tests...
---------------------------------------------------------
All test cases passed
Running iptctest.sh ...

Read tests..................
Remove tests..................
Add/Mod tests..................
Extended tests..................
---------------------------------------------------------
All test cases passed
Running modify-test.sh ...
all testcases passed.
Running path-test.sh ...
Running preview-test.sh ...
............................................................................................
All testcases passed.
Running stringto-test.sh ...
all testcases passed.
Running tiff-test.sh ...
tiff-test.sh: exifprobe not found. Skipping TIFF tests.
Running write-test.sh ...
all testcases passed.
Running write2-test.sh ...
all testcases passed.
Running xmpparser-test.sh ...
all testcases passed.
Running conversions.sh ...
all testcases passed.
make[1]: Leaving directory `/home/rmills/gnu/exiv2/test.build/test'
1008 rmills@rmills-linux:~/gnu/exiv2/test.build $ make teste
cd test &#38;&#38; make teste
make[1]: Entering directory `/home/rmills/gnu/exiv2/test.build/test'
Running eps-test.sh ...
.............................................................................................................
All testcases passed.
make[1]: Leaving directory `/home/rmills/gnu/exiv2/test.build/test'
1009 rmills@rmills-linux:~/gnu/exiv2/test.build $ make testv
cd test &#38;&#38; make testv
make[1]: Entering directory `/home/rmills/gnu/exiv2/test.build/test'
Running video-test.sh ...
.......
All testcases passed.
make[1]: Leaving directory `/home/rmills/gnu/exiv2/test.build/test'
1010 rmills@rmills-linux:~/gnu/exiv2/test.build $ 
</pre></p>
</div>


<fieldset class="collapsible collapsed hide-when-print">
  <legend onclick="toggleFieldset(this);">Files (0)</legend>
  <div style="display: none;">

  

</div>
</fieldset>

<p class="wiki-update-info">
  Updated by <a class="user active" href="/users/119">Robin Mills</a> <a title="19 Jan 2013 08:57" href="/projects/exiv2/activity?from=2013-01-19">almost 9 years</a> ago
 · <a href="/projects/exiv2/wiki/How_do_I_run_the_test_suite_for_Exiv2/history">2 revisions</a>
</p>





        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
