<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Version 1 - History - Creating a PR on GitHub - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="8Ff4k0c7JI31pYzE95fywQcYgMSYKjZXh/yVv59gPGwSGlN8NUHojaDBk8hIQP7yOIrUvWnJl+163AU33FnbAw==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
<link rel="stylesheet" media="screen" href="/stylesheets/scm.css?1550767427" />
</head>
<body class="project-exiv2 has-main-menu controller-wiki action-annotate avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="wiki_pages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="wiki_pages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=wiki" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=wiki">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki selected" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <div class="contextual">
<a class="icon icon-edit" href="/projects/exiv2/wiki/Creating_a_PR_on_GitHub/edit">Edit</a>
<a class="icon icon-history" href="/projects/exiv2/wiki/Creating_a_PR_on_GitHub/history">History</a>
</div>

<p class="breadcrumb"><a href="/projects/exiv2/wiki/FAQ">FAQ</a> » <a href="/projects/exiv2/wiki/Start_Page">Start Page</a> » </p>

<h2><a href="/projects/exiv2/wiki/Creating_a_PR_on_GitHub">Creating a PR on GitHub</a> &#187; <a href="/projects/exiv2/wiki/Creating_a_PR_on_GitHub/history">History</a> &#187; Version 1</h2>

<p>
  <em><a class="user active" href="/users/119">Robin Mills</a>, 29 Jan 2018 09:25 </em><br />
  
</p>


<table class="filecontent annotate">
<tbody>
<tr class="bloc-0">
    <th class="line-num">1</th>
    <td class="revision"><a href="/projects/exiv2/wiki/Creating_a_PR_on_GitHub/1">1</a></td>
    <td class="author">Robin Mills</td>
    <td class="line-code"><pre>h1. Creating a PR on GitHub</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">2</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">3</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The basic process behind a PR is just the following: person A wants to implement feature X, so they clone the repository, create a new branch where they develop feature X. Once the development is finished, they request that their development branch is merged into the master branch. This used to be done (and is also still done) via patches send around on mailings lists. However, GitHub is centered around the idea that you create a development branch for each PR (which is then merged into master) and it works a ton easier if you stick to that.</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">4</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">5</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Git branches are different from branches that you know from subversion. Afaik branches in svn are more or less copies of the entire tree. In git branches are nothing more than &quot;pointers&quot; to a commit (the idea behind that is that you can have thousands of branches alongside each other). The git book shows this quite detailed with some pictures: https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell#_create_new_branch</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">6</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">7</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>With that out of the way, back to the PR. The idea is that you create a new branch that will start at the HEAD of the branch that you want to merge into (that is usually master). Assuming your repository is setup so that the remote origin points to github.com/Exiv2/exiv2, you can achieve it like this:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">8</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">9</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;pre&gt;git fetch</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">10</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>git branch my_meaningful_branch_name origin/master&lt;/pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">11</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>With the first command you update all remote branches, with the second you create a new branch starting at origin/master (that is the current state of exiv2/master). Now you can switch to the new branch and start working:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">12</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">13</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;pre&gt;git checkout my_meaningful_branch_name</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">14</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre># do some work now</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">15</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>git commit</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">16</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre># more work</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">17</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>git commit&lt;/pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">18</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">19</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Now you have 2 additional commits in your local branch my_meaningful_branch_name, i.e. this branch exists only on your machine. You can create a new branch on Github via:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">20</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">21</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;pre&gt;git push -u origin name_of_my_branch_on_origin&lt;/pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">22</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">23</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>There are a few things to note here:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">24</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">25</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>name_of_my_branch_on_origin is the name of my_meaningful_branch_name on the remote origin (that would be github). Those two don&#39;t have to be the same, but it is a good idea</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">26</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>the -u flag sets name_of_my_branch_on_origin as the upstream branch, i.e. next time you commit something and push it, you won&#39;t have to specify to which branch to push (most times you want it that way)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">27</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Now the commits are on github and you can create the PR via the web UI.</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">28</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">29</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Concerning the &quot;branch out of date&quot; message and the additional commits from #213, this is probably caused by you only working on the master branch of your fork and submitting PRs from it. That is possible, but it makes things unnecessarily complicated (on my private fork of exiv2 I don&#39;t use the master branch at all, I create new branches from origin/master).</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">30</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">31</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Consider the following initial commit situation:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">32</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">33</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;pre&gt;a -&gt; b -&gt; c (master)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">34</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>(a, b, c are commits)&lt;/pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">35</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">36</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>You create a new branch starting at c, and create the commit d while someone pushes commit e to master. Now the situation looks like this:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">37</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">38</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">39</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>           /-&gt; d (your branch)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">40</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>a -&gt; b -&gt; c -&gt; e  (master)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">41</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;/pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">42</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>This is now the &quot;branch out of date&quot; situation. The issue is, that now you might not be able to cleanly merge your branch on top of master. That&#39;s what github is trying to tell you.</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">43</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">44</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>The leftover commits from #213 are caused by something similar. You were working in your master branch and added some commits:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">45</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">46</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">47</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>      /-&gt; c -&gt; d -&gt; e (your master branch)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">48</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>a -&gt; b (master)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">49</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;/pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">50</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>I then squashed all commits c, d &amp; e from your master branch, creating commit f and pushed it to master (that sounds complicated, but I just clicked the button on github). The situation now looks like this:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">51</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">52</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>      /-&gt; c -&gt; d -&gt; e (your master branch)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">53</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>a -&gt; b -&gt; f (master)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">54</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Then you want to make another PR and start working on your master branch again adding a commit g:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">55</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">56</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">57</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>      /-&gt; c -&gt; d -&gt; e -&gt; g (your master branch)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">58</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>a -&gt; b -&gt; f (master)</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">59</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>&lt;/pre&gt;</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">60</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Now github takes a look when your master branch branched of from master. That happened before you started working on the first PR (#213) and so it happily puts all commits since that point into the PR. The branch is also out of date, because it does not contain commit f (which is actually a combination of c, d and e, thus you could easily merge them).</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">61</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">62</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>How can you avoid these issues:</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">63</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">64</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Every time you start a PR, fetch everything &amp; create a new branch starting at origin/master</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">65</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>Push the branches to exiv2/ and not to clanmills/. Conceptually there is no difference, but the other devs can write branches on exiv2/ but not on clanmills/. So we could help you in case something breaks.</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">66</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">67</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>If the branch should become &quot;out of date&quot; due to pushes to master, please run a git pull --rebase origin master in your PR branch. While this runs a scary rebase, it keeps the commit history linear in contrast to frequent merges (run git log --oneline --graph on your own master branch and you&#39;ll see what I mean). You have to do that only once before finally merging a PR (or ask someone else to do it, if the commits are on exiv2/).</pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">68</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>
<tr class="bloc-0">
    <th class="line-num">69</th>
    <td class="revision"></td>
    <td class="author"></td>
    <td class="line-code"><pre>If you&#39;ll have some time, I would recommend reading the first 3 chapters of the git book.</pre></td>
</tr>
</tbody>
</table>


        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
