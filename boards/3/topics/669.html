<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>CLI: export option flaw -- can&#39;t export from files on read-only volumes (CDs, etc) - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="w7Rdv8dEl9YbCGQhRivYSDy+Kwh4v/Rjc4nM9Nn/TX4h+fZQtT5b1k5sey35/NR7Ayx/cYlcVdmOqVx8msaqEQ==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>CLI: export option flaw -- can&#39;t export from files on read-only volumes (CDs, etc)</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/339">Steve Wright</a> <a title="27 Sep 2010 09:16" href="/projects/exiv2/activity?from=2010-09-27">about 11 years</a> ago</span></p>
<div class="wiki">
<p>The -l option does not work (or I just can't figure out the syntax).</p>


	<p>Here are lines I've tried and their returns.<br /><pre>
exiv2 -ea gae56-5602-397-004.jpg -l /c/blu/newest/
Exiv2 exception in extract action for file gae56-5602-397-004.jpg:
./gae56-5602-397-004.exv: Failed to open file (w+b): Permission denied (errno = 13)
-l: Failed to open the file

exiv2 -ea -l /c/blu/newest/ gae56-5602-397-004.jpg
exiv2: Overwrite `/c/blu/newest//gae56-5602-397-004.exv'? y
Exiv2 exception in extract action for file gae56-5602-397-004.jpg:
/c/blu/newest//gae56-5602-397-004.exv: The file contains data of an unknown image type

exiv2  -l /c/blu/newest/ -ea gae56-5602-397-004.jpg
exiv2: Overwrite `/c/blu/newest//gae56-5602-397-004.exv'? y
Exiv2 exception in extract action for file gae56-5602-397-004.jpg:
/c/blu/newest//gae56-5602-397-004.exv: The file contains data of an unknown image type

exiv2 extract -l /c/blu/newest/ gae56-5602-397-004.jpg
-l: Failed to open the file
/c/blu/newest/: Failed to open the file
Exiv2 exception in extract action for file gae56-5602-397-004.jpg:
./gae56-5602-397-004.exv: Failed to open file (w+b): Permission denied (errno = 13)

</pre><br />And that's from everything in the manual that installed with my v.0.20.</p>


	<p>I'd call it a bug. And locked and read-only disks are only one possible scenario where one may run into these errors. Think folders (on local disks or servers) where the user has no write permission.</p>


	<p>Steve W</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (3)</h3>
  <div class="message reply" id="message-670">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/669?r=670#message-670">RE: CLI: export option flaw -- can&#39;t export from files on read-only volumes (CDs, etc)</a>
    -
    Added by <a class="user active" href="/users/339">Steve Wright</a> <a title="27 Sep 2010 09:22" href="/projects/exiv2/activity?from=2010-09-27">about 11 years</a> ago
  </h4>
  <div class="wiki"><p>And may I add extracting using the -l option to point to another folder on read-write volumes appears buggy as well.<br />Two command syntax tries and their returns:<br /><pre>
mintty-cygwin&gt;&gt;exiv2 extract -l /c/blu/newest/ gae56-5602-397-004.jpg
-l: Failed to open the file
/c/blu/newest/: Failed to open the file
[/desktop]
mintty-cygwin&gt;&gt;exiv2 -ea gae56-5602-397-004.jpg -l /c/blu/newest/
exiv2: Overwrite `./gae56-5602-397-004.exv'? y
-l: Failed to open the file
/c/blu/newest/: Failed to open the file
</pre></p>


	<p>One may not always be able to, or it may not always be convenient to, export data to the same directory or location that a file with the metatdata one would like to use in another file happens to be located. Copying or downloading from one to the other also adds an unnecessary, and ofren inconvenient or unavailable, extra step to the process.</p>


	<p>Take what you like and leave the rest.</p>


	<p>Steve W.</p></div>
  
  </div>
  <div class="message reply" id="message-672">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/669?r=672#message-672">RE: CLI: export option flaw -- can&#39;t export from files on read-only volumes (CDs, etc)</a>
    -
    Added by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="27 Sep 2010 23:43" href="/projects/exiv2/activity?from=2010-09-27">about 11 years</a> ago
  </h4>
  <div class="wiki"><p>These two commands from above are ok</p>


<pre>
$ exiv2 -ea -l /c/blu/newest/ gae56-5602-397-004.jpg
$ exiv2 -l /c/blu/newest/ -ea gae56-5602-397-004.jpg
</pre>

	<p>The image(s) are last on the command line.</p>


	<p>Make sure the resulting /c/blu/newest/gae56-5602-397-004.exv doesn't exist before the program is run. Exiv2 tries to read that file and aborts if it contains something which it can't read. The error "/c/blu/newest//gae56-5602-397-004.exv: The file contains data of an unknown image type" indicates this.</p>


	<p>The error "-l: Failed to open the file" means that the -l option is interpreted as the name of an image file. That happens because it is not at the expected position within the command line:</p>


<pre>
$ exiv2 -h
Usage: exiv2.exe [ options ] [ action ] file ...

Manipulate the Exif metadata of images.
</pre>

	<p>Options are the "-l" and "-e" options with their respective arguments<br />Action, if present, is exactly one, "extract" in this case and optional here, exiv2 derives it from the "-ea" option</p>


	<p>Andreas</p></div>
  
  </div>
  <div class="message reply" id="message-673">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/669?r=673#message-673">RE: CLI: export option flaw -- can&#39;t export from files on read-only volumes (CDs, etc)</a>
    -
    Added by <a class="user active" href="/users/339">Steve Wright</a> <a title="01 Oct 2010 13:07" href="/projects/exiv2/activity?from=2010-10-01">about 11 years</a> ago
  </h4>
  <div class="wiki"><p>Thank you, Andreas. It works.</p>


	<p>Must have been my frame of mind -- here I was thinking the first thing (or second) I tried in terms of syntax was going to work, regardless of what followed which, without stopping to think that in the past when such was true, the basic syntax of "exiv2 [OPTION] [FILE]" had always been my rule of thumb.</p>


	<p>Steve W.</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-3/3)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
