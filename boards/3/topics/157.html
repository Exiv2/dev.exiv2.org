<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>problems: using the EXIV2 APIs in Visual c++ 2008 - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="dCSF3R5KeY7s6StmUoe7DSbS0F7Izv9FvZrkxxgSiRuWaS4ybDC1jrmNNGrtULc+GUCEJzktXv9AunRPWytudA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>problems: using the EXIV2 APIs in Visual c++ 2008</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/146">Anonymous Poster</a> <a title="31 May 2009 08:14" href="/projects/exiv2/activity?from=2009-05-31">over 12 years</a> ago</span></p>
<div class="wiki">
<p>Hi</p>


	<p>I tried to compile and build an example(read exif -- exifprint.cpp) on the EXIV2 web site using VC++.<br />Eventually I got some linking error - "unresolved external symbol".<br />Tried to set linker to exiv2.lib but the problem wasn't solved.</p>


	<p>Can anyone help me on this? thanks.</p>


	<p>LM</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (6)</h3>
  <div class="message reply" id="message-158">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/157?r=158#message-158">RE: problems: using the EXIV2 APIs in Visual c++ 2008</a>
    -
    Added by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="31 May 2009 09:12" href="/projects/exiv2/activity?from=2009-05-31">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Hi,</p>


	<p>Did you do that with the project file in the msvc/exifprint/ directory?<br />If not, try that, else please provide more specific information about what you did and what happened.</p>


	<p>Andreas</p></div>
  
  </div>
  <div class="message reply" id="message-159">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/157?r=159#message-159">RE: problems: using the EXIV2 APIs in Visual c++ 2008</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="31 May 2009 11:18" href="/projects/exiv2/activity?from=2009-05-31">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Hi L</p>


	<p>Did you build expat and zlib first?</p>


	<p>I've just pulled down a clean copy of the code and tried to build exifprint Debug (without building the expat and zlib first) and this is what happened:</p>


	<p>1>------ Build started: Project: xmpsdk, Configuration: Debug Win32 ------<br />1>Compiling...<br />1>ExpatAdapter.cpp</p>


	<p>....... lots of stuff deleted ........</p>


	<p>2>Build log was saved at "file://c:\gnu.2008\unstable\msvc\exiv2lib\Debug\BuildLog.htm" <br />2>exiv2lib - 0 error(s), 1 warning(s)<br />3>------ Build started: Project: exifprint, Configuration: Debug Win32 ------<br />3>Compiling...<br />3>exifprint.cpp<br />3>Linking...<br />3>LINK : fatal error LNK1181: cannot open input file '..\..\..\expat-2.0.1\win32\bin\debug\libexpatMT.lib'<br />3>Creating browse information file...<br />3>Microsoft Browse Information Maintenance Utility Version 9.00.30729<br />3>Copyright (C) Microsoft Corporation. All rights reserved.<br />3>Build log was saved at "file://c:\gnu.2008\unstable\msvc\exifprint\Debug\BuildLog.htm" <br />3>exifprint - 1 error(s), 0 warning(s)
========== Build: 2 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========</p>


	<p>The file msvc/README-MSVC.txt discusses the build procedure.  You'll have to open/convert and build expat and zlib before building any of the exiv2 projects.</p>


	<p>However if you have built zlib and expat and you have a different linking error - please provide details and I'll be pleased to investigate.</p>


	<p>Robin<br />(MSVC contributor to exiv2)</p></div>
  
  </div>
  <div class="message reply" id="message-160">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/157?r=160#message-160">RE: problems: using the EXIV2 APIs in Visual c++ 2008</a>
    -
    Added by <a class="user active" href="/users/146">Anonymous Poster</a> <a title="31 May 2009 12:47" href="/projects/exiv2/activity?from=2009-05-31">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Thank you, Andreas and Robin.</p>


	<p>I took a look at the project file in the msvc/exifprint/ directory, and confirmed that every lib files linked have been created.<br />Besides warning messages, only one error occured: {Project : error PRJ0019: A tool returned an error code from "copy target to bin"}. However, the exe file did appear in the Debug directory; so far this look like a good result. I did not try the Release version yet.</p>


	<p>by the way, you might be interested in the warning messages:</p>


	<p>zlibd.lib(uncompr.obj) : warning LNK4075: ignoring '/EDITANDCONTINUE' due to '/INCREMENTAL:NO' specification<br />1>zlibd.lib(zutil.obj) : warning LNK4217: locally defined symbol _malloc imported in function _zcalloc<br />1>zlibd.lib(zutil.obj) : warning LNK4217: locally defined symbol _free imported in function _zcfree<br />1>libexpatMT.lib(xmlparse.obj) : warning LNK4204: 'c:\exiv2\exiv2-0.18.1\msvc\exifprint\Debug\vc90.pdb' is missing debugging information for referencing module; linking object as if no debug info<br />1>libexpatMT.lib(xmlrole.obj) : warning LNK4204: 'c:\exiv2\exiv2-0.18.1\msvc\exifprint\Debug\vc90.pdb' is missing debugging information for referencing module; linking object as if no debug info<br />1>libexpatMT.lib(xmltok.obj) : warning LNK4204: 'c:\exiv2\exiv2-0.18.1\msvc\exifprint\Debug\vc90.pdb' is missing debugging information for referencing module; linking object as if no debug info</p></div>
  
  </div>
  <div class="message reply" id="message-161">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/157?r=161#message-161">RE: problems: using the EXIV2 APIs in Visual c++ 2008</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="31 May 2009 14:35" href="/projects/exiv2/activity?from=2009-05-31">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks for bringing this to my attention and of course I'd like to get to bottom of these matters.  Is it possible to VNC to your machine and we could do the build together (and talk on Skype or Phone at the same time).  I'm willing to enable you to VNC to my machine - although it will be more useful to build on your machine of course.</p>


	<p>---- excuses and details ON -----<br />I don't get the 4204 warnings and I'm wondering if you built a vanilla expat in c:\exiv2\expat-2.0.1 ?</p>


	<p>I'm surprised by your "PRJ0019" error.  The build creates its output in exiv2\msvc\{project}\{target}\{project}.exe - in this case exiv2\msvc\exifprint\Debug\exifprint.exe.  Then there's a postbuild step to copy it to exiv2\msvc\bin\{target}\{project}.exe  (exiv2\msvc\bin\Debug\exifprint.exe).  That's the copy that's giving the 019 error.</p>


	<p>The directory exiv2\msvc\bin\{target} is created by the exiv2lib build.  If that build that was not complete, then the exiv2\bin\Debug directory would be missing and you'd get the PR10019 error.  So all fingers are pointing at the expat build upsetting the peace.</p>


	<p>LNK4075 is harmless.</p>


	<p>I can't remember what's at the bottom of 4217.  I looked at that last year and decided it was OK - maybe I show reinvestigate that.</p>


	<p>Anyway, my bug-radar is thinking "something odd about the expat build".  The radar's often wrong of course!</p>


	<p>---- excuses and details OFF -----</p>


	<p>Anyway - let me know about the offer to VNC and talk.  My email address is in README-MSVC.txt</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-163">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/157?r=163#message-163">RE: problems: using the EXIV2 APIs in Visual c++ 2008</a>
    -
    Added by <a class="user active" href="/users/146">Anonymous Poster</a> <a title="01 Jun 2009 04:54" href="/projects/exiv2/activity?from=2009-06-01">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks Robin.<br />Your bug-radar help me a lot. I tried to download expat again.I noticed that 2 versions of expat are available - tar.gz and win32 exe. Last time I chose the exe version, so this time I tried the other. And finally the project was built successfully with 4217 warnings only.<br />There seems tiny difference between 2 versions. The tar is more like the one used in README-MSVC.txt; if using the other one, you will have to fix some path problems.</p>


	<p>LM</p></div>
  
  </div>
  <div class="message reply" id="message-164">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/157?r=164#message-164">RE: problems: using the EXIV2 APIs in Visual c++ 2008</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 Jun 2009 07:56" href="/projects/exiv2/activity?from=2009-06-01">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Hi L</p>


	<p>I'm pleased to hear you have this built.  I'll look at the .exe and .tar.gz business - I'd have expected them to be the same.  Anyway, I'll take a look at that and take evasive action (hopefully only updating the build notes).</p>


	<p>Robin</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-6/6)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
