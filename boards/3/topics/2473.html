<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="FtclKWxU71OwaUC4LM2Gw//WqUzJmxuNPdsgNyE5Mm/0mo7GHi4jU+UNX7STGorwwET9NTh4ujfA+7C/YgDVAA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/4650">marcus san</a> <a title="21 Mar 2016 14:40" href="/projects/exiv2/activity?from=2016-03-21">over 5 years</a> ago</span></p>
<div class="wiki">
<p>Hi,</p>


	<p>New here so not sure how to handle this. I found my Sigma 35mm F1.4 DG HSM ART lens is not recognized by exiv2. In exiv2 and thus Darktable it is recognized as > Canon EF 17-35mm f/2.8L<br />Any suggestion on how to sort this out ? Running exiv2 version 0.25 on Linux.</p>


	<p>Thanks in advance.</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (41)</h3>
  <div class="message reply" id="message-2474">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2474#message-2474">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="21 Mar 2016 22:02" href="/projects/exiv2/activity?from=2016-03-21">over 5 years</a> ago
  </h4>
  <div class="wiki"><p><a class="external" href="http://dev.exiv2.org/issues/1160#note-1">http://dev.exiv2.org/issues/1160#note-1</a></p></div>
  
  </div>
  <div class="message reply" id="message-2475">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2475#message-2475">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4190">Jim Easterbrook</a> <a title="22 Mar 2016 07:47" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I have a similar problem with my Sigma 70-300 mm lens and EOS 100D camera. Sigma have reused the ID code from a Canon 70-300 mm lens. I assume Canon doesn't reserve a group of codes for non-Canon lenses so what else can they do? (A problem this introduces is that the camera applied the wrong vignetting and chromatic aberration correction until I removed the 70-300 mm lens from its database using Canon's software.)</p>


	<p>Life gets even more interesting when you use lens mount adaptors with a focus confirm "chip". My EOS to Olympus adapter claims to be a 50 mm f/1.8 Canon lens while my M42 adapter claims to be a 1-65535 mm zoom! I now make a point of setting the correct Exif.Photo.LensMake/LensModel/LensSerialNumber/LensSpecification, Exif.Photo.FNumber and Exif.Photo.FocalLength metadata immediately after importing photos to the computer.</p></div>
  
  </div>
  <div class="message reply" id="message-2476">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2476#message-2476">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 08:04" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I recently had a conversation with somebody on this Forum about their Sony Camera and Lenses.  A firmware update fixed the Sony business.</p>


	<p>I'm going to try using a web service in v0.26 to take advantage of Phil's Lens Recognition in exiftool.  We'll see how that goes.  However, I honestly believe that lens recognition is not the business of Exiv2.  We provide robust/reliable metadata read/write/modify.  If the manufacturer has -1 as the LensID, that's what we should report.  That we can guess/infer the lens from other metadata is not the business of Exiv2.</p>


	<p>Of course, you are welcome to disagree.  However, I'm dealing with many matters for Exiv2.  Regrettably Niels, <em><strong>our wonderful MakerNote Engineer,</strong></em> has gone back to college and I've taken on lens recognition.  Having dealt with several lenses, I have been surprised at the effort involved.  And the lens recognition can break as new lenses and cameras arrive on the market.  This is a time-sink for me and a distraction from the purpose and focus of Exiv2.</p>


	<p>Gentlemen:  I encourage you to discuss this with your Camera/Lens manufacturers whom you have paid for their products.  Please let me know Canon's and Sigma's response to your enquires.</p></div>
  
  </div>
  <div class="message reply" id="message-2477">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2477#message-2477">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4190">Jim Easterbrook</a> <a title="22 Mar 2016 08:11" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Robin, I fear you may have misunderstood me. I absolutely agree with you that it's not the business of Exiv2 to identify lenses. My point about the reused codes was meant to support that view.</p></div>
  
  </div>
  <div class="message reply" id="message-2478">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2478#message-2478">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 08:39" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Well, it sounds as though we are in agreement and that's wonderful.  Thank You for your support.</p>


	<p>I don't know how the Camera/Lens (Canon/Sigma) interface works.  For sure the lens has a digital interface to the camera because the metadata contains aperture, focus and other data.  It's not impossible for the Lens to reveal the manufacturer and model to the camera.  So, there could be a way, however it depends on the interface specifications.</p>


	<p>I have an confession to make: I know very little about metadata.  I'm a retired Adobe Engineer living in England and keep my C++ skills alive by maintaining Exiv2 (which I didn't write).   Exactly how metadata is used by other software is a mystery to me.  And for that matter, the Exiv2 user base is equally opaque.</p>


	<p>Maybe, one day, the Exif Standard Committee will invite Team Exiv2 to participate in their deliberations.  Two matters would top my list:  Lens/Accessory Recognition and TimeZone.</p>


	<p>I thank you for your support and I thank you for using Exiv2.</p>


	<p><img src="http://exiv2.org/Exiv2Logo.png" alt="" /></p></div>
  
  </div>
  <div class="message reply" id="message-2479">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2479#message-2479">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4190">Jim Easterbrook</a> <a title="22 Mar 2016 08:50" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I suspect lens/camera interfaces are very proprietary, and camera makers will do all they can to give their own lenses an advantage over rival brands.</p>


	<p>PS I'm a retired BBC R&#38;D engineer keeping my Python skills alive with small projects such as a simple metadata editor (<a class="external" href="https://github.com/jim-easterbrook/Photini">https://github.com/jim-easterbrook/Photini</a>). My C++ skills are minimal.</p></div>
  
  </div>
  <div class="message reply" id="message-2480">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2480#message-2480">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 09:04" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Regrettably commercial interests usually defeat common sense.  The MakerNote tag carries lots of information.  Most manufacturers provide scant documentation about their MakerNote tag.  In truth, customers could rebel (pun intended) to this behaviour by the Manufacturers by not buying their products if they don't interoperate in a satisfactory manner.</p>


	<p>Python is my favourite scripting language.  I gave a lightning presentation (5 minutes) about Exiv2 at PyCon2010 in Atlanta:  <a class="external" href="http://clanmills.com/2010/PyCon/RobinPyCon2010.mov">http://clanmills.com/2010/PyCon/RobinPyCon2010.mov</a></p></div>
  
  </div>
  <div class="message reply" id="message-2481">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2481#message-2481">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 09:38" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>So is the lens > Sigma 35mm F1.4 DG HSM ART in the exiv2 database, is it missing in the database, or is there another problem. Like Sigma/Canon not providing correct identifiers ?</p>


	<p>Thanks</p></div>
  
  </div>
  <div class="message reply" id="message-2482">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2482#message-2482">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 09:48" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Marcus</p>


	<p>Can you provide a test image for your lens and I will look at the metadata.  In general, lens recognition is a metadata mess created by the camera/lens manufacturers.</p></div>
  
  </div>
  <div class="message reply" id="message-2483">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2483#message-2483">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4190">Jim Easterbrook</a> <a title="22 Mar 2016 09:52" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>My suspicion is that the Sigma lens is being wrongly identified by the camera, which then writes the wrong information to the metadata. This is not an uncommon problem, e.g. this discussion: <a class="external" href="http://www.canonrumors.com/forum/index.php?topic=649.15">http://www.canonrumors.com/forum/index.php?topic=649.15</a> Note reply #21 says lens code "169 = Canon EF 17-35mm f/2.8L or Sigma Lens" which suggests Sigma have used code 169 several times.</p></div>
  
  </div>
  <div class="message reply" id="message-2484">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2484#message-2484">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 09:53" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks, I will do some reading and contact Sigma to see what they have to say and will update this thread if I get some good info from them.</p></div>
  
  </div>
  <div class="message reply" id="message-2485">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2485#message-2485">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4190">Jim Easterbrook</a> <a title="22 Mar 2016 09:57" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>To expand a little - code 169 is the lens ID as seen by the camera, the 169.1 to 169.5 tags listed in that table are the heuristically derived tags (in Exiftool, I think) mentioned earlier by Robin. Your particular Sigma lens is not among them.</p></div>
  
  </div>
  <div class="message reply" id="message-2486">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2486#message-2486">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 09:59" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Yes was thinking this also. So my lens has no lens ID , or is it not yet in the exiv2 database ?</p></div>
  
  </div>
  <div class="message reply" id="message-2487">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2487#message-2487">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 10:10" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>when looking at canonmn.cpp</p>


	<p>I see
        { 169, "Canon EF 17-35mm f/2.8L"                                    }, // 0
        { 169, "Sigma 18-200mm f/3.5-6.3 DC OS"                             }, // 1
        { 169, "Sigma 15-30mm f/3.5-4.5 EX DG Aspherical"                   }, // 2
        { 169, "Sigma 18-50mm f/2.8 Macro"                                  }, // 3
        { 169, "Sigma 50mm f/1.4 EX DG HSM"                                 }, // 4
        { 169, "Sigma 85mm f/1.4 EX DG HSM"                                 }, // 5
        { 169, "Sigma 30mm f/1.4 EX DC HSM"                                 }, // 6
        { 169, "Sigma 35mm f/1.4 DG HSM"                                    }, // 7</p>


	<p>the last entry is my lens. So it is in the exiv2 db</p></div>
  
  </div>
  <div class="message reply" id="message-2488">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2488#message-2488">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 10:22" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Marcus</p>


	<p>Exiv2 doesn't really have a 'database' for lens recognition.  It has code.  My understanding (and I'm not a metadata expert) is that the LensID should be unique for every lens.  If we look at 169 for Canon<pre><code class="cplusplus syntaxhl"><span class="err">$</span> <span class="n">grep</span> <span class="mi">169</span> <span class="n">src</span><span class="o">/</span><span class="n">canonmn</span><span class="p">.</span><span class="n">cpp</span> 
        <span class="p">{</span> <span class="p">(</span><span class="kt">long</span> <span class="kt">int</span><span class="p">)</span><span class="mh">0x80000169</span><span class="p">,</span> <span class="s">"EOS-1D Mark III"</span> <span class="p">},</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Canon EF 17-35mm f/2.8L"</span>                                    <span class="p">},</span> <span class="c1">// 0</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 18-200mm f/3.5-6.3 DC OS"</span>                             <span class="p">},</span> <span class="c1">// 1</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 15-30mm f/3.5-4.5 EX DG Aspherical"</span>                   <span class="p">},</span> <span class="c1">// 2</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 18-50mm f/2.8 Macro"</span>                                  <span class="p">},</span> <span class="c1">// 3</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 50mm f/1.4 EX DG HSM"</span>                                 <span class="p">},</span> <span class="c1">// 4</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 85mm f/1.4 EX DG HSM"</span>                                 <span class="p">},</span> <span class="c1">// 5</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 30mm f/1.4 EX DC HSM"</span>                                 <span class="p">},</span> <span class="c1">// 6</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 35mm f/1.4 DG HSM"</span>                                    <span class="p">},</span> <span class="c1">// 7</span>
        <span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="n">printCsLensByFocalLength</span> <span class="p">},</span>
<span class="err">$</span> </code></pre>We have to execute the code in the function printCsLensByFocalLength to differentiate your 169 from all the others.  So we guess <em>by inspecting other metadata</em> that it is your lens.  I'm very unhappy with this approach.  It's my opinion that we should report '169'.  When you approach Canon/Sigma, they may have a different opinion about this matter.</p>


	<p>Another matter is the myriad of lenses.  Is your 'Sigma 35mm F1.4 DG HSM ART' the same as the code's "Sigma 35mm f/1.4 DG HSM"?</p>


	<p>It would be very helpful for you to provide a test image with which I can investigate this further.</p></div>
  
  </div>
  <div class="message reply" id="message-2489">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2489#message-2489">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4190">Jim Easterbrook</a> <a title="22 Mar 2016 10:25" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>When stopped down to f/2.8 or more the other metadata (focal length and aperture) can't help, surely?</p></div>
  
  </div>
  <div class="message reply" id="message-2490">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2490#message-2490">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 10:38" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>The subject is even more complicated than using printCsLensByFocalLength.  For different cameras, other metadata has to be consulted - not only FocalLength.  The function in exiftool to handle this is passed about 13 elements of metadata.  And, I've noticed that recent camera/lens combinations are often not recognised correctly by exiftool.</p>


	<p>However, Phil is a wizard and frequently updates his code to deal with this.  And that's what lead me to think several things:</p>


	<ol>
	<li>I cannot reproduce all of Phil's magic in C++</li>
		<li>I cannot update Exiv2 with the frequency that Phil updates exiftool</li>
		<li>If I call exiftool as a web service, I can take advantage of Phil's code.  I'll update the web service every time Phil updates exiftool.  So I can harness Phil's genius and his update frequency.</li>
	</ol>


	<p>Of course, as I'm not an expert in metadata, I may be wrong in my opinion about this.  The web service idea is discussed in <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Camera accessory overflow file (Closed)" href="/issues/1034">#1034</a> and I hope/expect to implement it in v0.26 <a class="external" href="http://dev.exiv2.org/issues/1034">http://dev.exiv2.org/issues/1034</a></p>


	<p>I thank you all for participating in this conversation as we may achieve new enlightenment!</p></div>
  
  </div>
  <div class="message reply" id="message-2491">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2491#message-2491">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 10:54" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I have a testimage here. Shot with F1.4 with the Sigma 35 mm on my Canon 6D</p>


	<p>when I do ><br /><pre>
$ exiv2 -pt testimage.jpg | grep -ai lens
</pre></p>


	<p>I get:<br /><pre>
Exif.CanonCs.LensType                        Short       1  Canon EF 17-35mm f/2.8L
Exif.CanonCs.Lens                            Short       3  35.0 mm
Exif.Canon.LensModel                         Ascii      74  35mm
Exif.Photo.LensSpecification                 Rational    4  35/1 35/1 0/1 0/1
Exif.Photo.LensModel                         Ascii       5  35mm
Exif.Photo.LensSerialNumber                  Ascii      11  0000000000

</pre></p></div>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/988">testimage.jpg</a>    <span class="size">(200 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/988/testimage.jpg">testimage.jpg</a>  </td>
  <td>testimage shot with F1.4</td>
  <td>
  </td>
  <td>
  </td>
</tr>
</table>
</div>

  </div>
  <div class="message reply" id="message-2492">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2492#message-2492">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 11:06" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Not sure if helps, but this is the lens I have ><br /><a class="external" href="http://www.sigmaphoto.com/lenses/standard-lenses/35mm-f14-dg-hsm-a">http://www.sigmaphoto.com/lenses/standard-lenses/35mm-f14-dg-hsm-a</a></p>


	<p>These are the new ART range lenses. The lenses with EX in it are the older range lenses.</p></div>
  
  </div>
  <div class="message reply" id="message-2493">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2493#message-2493">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 11:06" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Right.  We're on the same page.  Here's what I have on the trunk. <pre>525 rmills@rmillsmbp:~/gnu/exiv2/trunk $ svn info .
Path: .
Working Copy Root Path: /Users/rmills/gnu/exiv2/trunk
URL: svn://dev.exiv2.org/svn/trunk
Relative URL: ^/trunk
Repository Root: svn://dev.exiv2.org/svn
Repository UUID: b7c8b350-86e7-0310-a4b4-de8f6a8f16a3
Revision: 4235
Node Kind: directory
Schedule: normal
Last Changed Author: robinwmills
Last Changed Rev: 4235
Last Changed Date: 2016-03-18 20:31:04 +0000 (Fri, 18 Mar 2016)

526 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiv2 --verbose --version --grep svn 
exiv2 0.25 001900 (64 bit build)
svn=4235
527 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiv2 -pa --grep lens/i http://dev.exiv2.org/attachments/download/988/testimage.jpg
Exif.CanonCs.LensType                        Short       1  Canon EF 17-35mm f/2.8L
Exif.CanonCs.Lens                            Short       3  35.0 mm
Exif.Canon.LensModel                         Ascii      74  35mm
Exif.Photo.LensSpecification                 Rational    4  35/1 35/1 0/1 0/1
Exif.Photo.LensModel                         Ascii       5  35mm
Exif.Photo.LensSerialNumber                  Ascii      11  0000000000
528 rmills@rmillsmbp:~/gnu/exiv2/trunk $ </pre>I'll have a step through the debugger and see if I can do something about this.  Can you confirm, is it correct to identify this as:<pre><code class="cplusplus syntaxhl"><span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 35mm f/1.4 DG HSM"</span>                                    <span class="p">},</span> <span class="c1">// 7</span></code></pre>Or should I add another item:<pre><code class="cplusplus syntaxhl"><span class="p">{</span> <span class="mi">169</span><span class="p">,</span> <span class="s">"Sigma 35mm f/1.4 DG HSM ART"</span>                                 <span class="p">},</span> <span class="c1">// 8</span></code></pre></p></div>
  
  </div>
  <div class="message reply" id="message-2494">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2494#message-2494">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 11:14" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Nice !</p>


	<p>Well I think the correct ID would be at least matching the Sigma 50mm F1.4 DG HSM Art from the same range. I read here this : <a class="external" href="http://dev.exiv2.org/issues/0000969">http://dev.exiv2.org/issues/0000969</a> which is a bit confusing as there is no EX Art lens. It is either EX, or DG HSM Art it seems.</p>


	<p>So it would make sense to have them both with same syntax. The lenses are both from the same range, only difference is 35mm or 50mm<br />I think somehow using the 'A' in the identifier would make sense. On the Sigma site they use > 35mm F1.4 DG HSM | A</p></div>
  
  </div>
  <div class="message reply" id="message-2495">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2495#message-2495">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 11:38" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Well here's what the latest exiftool 10.13 sees:<pre>542 rmills@rmillsmbp:~/gnu/exiv2/trunk $ curl -O http://dev.exiv2.org/attachments/download/988/testimage.jpg
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  200k    0  200k    0     0   779k      0 --:--:-- --:--:-- --:--:--  789k
543 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiftool -ver
10.13
544 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiftool testimage.jpg | grep -i lens
Lens Type                       : Canon EF 17-35mm f/2.8L or Sigma Lens
Lens Info                       : 35mm f/0
Lens Model                      : 35mm
Lens Serial Number              : 0000000000
Lens                            : 35.0 mm
Lens ID                         : Sigma 35mm f/1.4 DG HSM
Lens                            : 35.0 mm (35 mm equivalent: 34.6 mm)
545 rmills@rmillsmbp:~/gnu/exiv2/trunk $ </pre>You'll recall that <em>"Pooh was a bear with an exceedingly small brain"</em>.  Robin's the same, so <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Recognising Sigma 50mm F1.4 DG HSM (Closed)" href="/issues/969">#969</a> leaves me confused.  Theres something that screams "It's marcus lens".  This is useful: <strong><code>Exif.CanonCs.MaxAperture F1.4</code></strong></p>


	<p>However what would distinguish <pre>...HSM " //7</pre>from: <pre>... HSM ART" // 8</pre>Do you know?<pre>546 rmills@rmillsmbp:~/gnu/exiv2/trunk $ exiv2 -pa --grep lens/i --grep aper/i --grep focal/i --grep model/i ^
                                         http://dev.exiv2.org/attachments/download/988/testimage.jpg
Exif.Image.Model                             Ascii      13  Canon EOS 6D
Exif.Photo.ApertureValue                     Rational    1  F1.4
Exif.Photo.FocalLength                       Rational    1  35.0 mm
Exif.CanonCs.LensType                        Short       1  Canon EF 17-35mm f/2.8L
Exif.CanonCs.Lens                            Short       3  35.0 mm
Exif.CanonCs.MaxAperture                     Short       1  F1.4
Exif.CanonCs.MinAperture                     Short       1  F16
Exif.CanonCs.DisplayAperture                 Short       1  0
Exif.Canon.FocalLength                       Short       4  35.0 mm
Exif.CanonSi.TargetAperture                  Short       1  F1.4
Exif.CanonSi.ApertureValue                   Short       1  F1.4
Exif.Canon.ModelID                           Long        1  EOS 6D
Exif.Canon.LensModel                         Ascii      74  35mm
Exif.Photo.FocalPlaneXResolution             Rational    1  3810.58
Exif.Photo.FocalPlaneYResolution             Rational    1  3815.9
Exif.Photo.FocalPlaneResolutionUnit          Short       1  inch
Exif.Photo.LensSpecification                 Rational    4  35/1 35/1 0/1 0/1
Exif.Photo.LensModel                         Ascii       5  35mm
Exif.Photo.LensSerialNumber                  Ascii      11  0000000000
547 rmills@rmillsmbp:~/gnu/exiv2/trunk $ </pre></p></div>
  
  </div>
  <div class="message reply" id="message-2496">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2496#message-2496">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 11:49" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I think there would be no way to distinguish <br /><pre>
...HSM " //7
</pre></p>


	<p>from<br /><pre>
... HSM ART" // 8
</pre></p>


	<p>As it would be the same lens. The only thing is to decide how to define the ID in <br /><pre>
...HSM " //7
</pre></p>


	<p>leave it as it is, or change it to<br /><pre>
... HSM ART" // 7
</pre></p>


	<p>And indeed, regarding this <br /><pre>
Exif.CanonCs.MaxAperture F1.4
</pre></p>


	<p>There is no other lens in the 169 ID list that has fixed 35mm with max aperture F1.4</p>


	<p>And then I would suggest using same syntax, as used for the <br />Sigma 50 mm f1.4 DG HSM Art lens<br /><a class="external" href="http://www.sigmaphoto.com/lenses/standard-lenses/50mm-f14-dg-hsm-a">http://www.sigmaphoto.com/lenses/standard-lenses/50mm-f14-dg-hsm-a</a></p>


	<p>which is NOT the same as<br /><a class="external" href="http://www.sigmaphoto.com/lenses/standard-lenses/50mm-f1-4-ex-dg-hsm">http://www.sigmaphoto.com/lenses/standard-lenses/50mm-f1-4-ex-dg-hsm</a></p></div>
  
  </div>
  <div class="message reply" id="message-2497">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2497#message-2497">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Mar 2016 12:11" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I'm really lost.  You've now started discussing a 50mm lens.  Is it possible to discuss 1-to-1 on Skype 'clanmills', or messenger, or Google+, or FaceTime?</p>


	<p>When we have this resolved, we can report our conclusion here.</p></div>
  
  </div>
  <div class="message reply" id="message-2498">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2473?r=2498#message-2498">RE: Sigma 35mm F1.4 DG HSM ART not recognized on Canon 6D body</a>
    -
    Added by <a class="user active" href="/users/4650">marcus san</a> <a title="22 Mar 2016 12:19" href="/projects/exiv2/activity?from=2016-03-22">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Added you on skype</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"><li class="previous"><span>« Previous</span></li><li class="current"><span>1</span></li><li class="page"><a href="/boards/3/topics/2473?page=2">2</a></li><li class="next page"><a accesskey="n" href="/boards/3/topics/2473?page=2">Next »</a></li></ul><span><span class="items">(1-25/41)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
