<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Exiv2 crashes when writing to some multi-frame tiff files - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="nO3BsZQn8W77jH3fJMXL593YpOciNmw0kbGHv44EEPF+oGpe5l09bq7oYtObEsfU4krwntPVzY5skRc3zT33ng==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>Exiv2 crashes when writing to some multi-frame tiff files</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/4340">Mikayel Egibyan</a> <a title="18 May 2016 06:45" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago</span></p>
<div class="wiki">
<p>Hi,</p>


	<p>I have seen discussions that are 2, 5 years old on this topic, but the error is still present. For 5 frame multi frame tiff, when trying to write the Software tag I get:</p>


	<p><strong>terminate called after throwing an instance of 'Exiv2::BasicError&lt;char&gt;'<br /> what():  Invalid ifdId 103</strong></p>


	<p>Is this still a known issue, or there is a workaround?</p>


	<p>Thanks,<br />Mikayel</p>


	<p>p.s. <code>try{}catch(){}</code> doesn't help</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (9)</h3>
  <div class="message reply" id="message-2574">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2574#message-2574">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 May 2016 07:20" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I'm not aware of this issue.  Perhaps you can attach a test file so that I can reproduce this.</p>


	<p>Last year, I investigated  multi-page tiffs and discovered that the libtiff utilities tiffsplit and tiffcp can be used to split a multi-page tiff into different files which can be handled by exiv2.  The files can be reassembled into a multi-page tiff using tiffcp.  <a class="external" href="http://dev.exiv2.org/issues/1124#note-4">http://dev.exiv2.org/issues/1124#note-4</a></p>


	<p>Exiv2 doesn't currently support multi-page tiff files.  One of the goals for v0.27 is to work on multi-page tiffs.  <a class="external" href="http://dev.exiv2.org/news/3">http://dev.exiv2.org/news/3</a></p></div>
  
  </div>
  <div class="message reply" id="message-2575">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2575#message-2575">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/4340">Mikayel Egibyan</a> <a title="18 May 2016 08:03" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Please find the test file attached.</p>


	<p>Though Exiv2 doesn't support multi-frame tiff, this should not be the case for the crash, since For <= 4 frames Exiv2 is able to write metadata to the file (to the first frame). The attached file has 5 frames.</p>


	<p>Thank you,<br />Mikayel</p></div>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/1004">tst.tiff</a>    <span class="size">(221 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/1004/tst.tiff">tst.tiff</a>  </td>
  <td></td>
  <td>
  </td>
  <td>
  </td>
</tr>
</table>
</div>

  </div>
  <div class="message reply" id="message-2576">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2576#message-2576">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 May 2016 09:22" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>What's the command-line that you are using?  Here's what I have tried:<pre>508 rmills@rmillsmbp:~ $ exiv2 -pa --grep FNumber ~/Downloads/tst.tiff 
Warning: Directory Image3 has an unexpected next pointer; ignored.
510 rmills@rmillsmbp:~ $ exiv2 -M'set Exif.Photo.FNumber F5' ~/Downloads/tst.tiff 
Warning: Directory Image3 has an unexpected next pointer; ignored.
Warning: Directory Image3 has an unexpected next pointer; ignored.
511 rmills@rmillsmbp:~ $ exiv2 -pa --grep FNumber ~/Downloads/tst.tiff 
Exif.Photo.FNumber                           Rational    1  F4.6
512 rmills@rmillsmbp:~ $ 
</pre>If you're trying to write to Exif.ImageN.Something, I really don't believe that will work.  2 weeks ago, there was a very extensive discussion about writing to Exif.SubImageN.Something which is something similar.  <a class="external" href="http://dev.exiv2.org/issues/1182">http://dev.exiv2.org/issues/1182</a></p>


	<p>For v0.26, I have added an option -pR (recursive dump) which operates on TIFF/JPEG/PNG (and some raw formats) to recursively dump the structure of an image file.  When I use that, I can see that the above command:<pre>$ exiv2 -M'set Exif.Photo.FNumber F5' ~/Downloads/tst.tiff</pre>has mutilated the file.  I feel a strong desire to modify <em><strong><code>src/tiffimage.cpp TiffImage::readMetadata() TiffImage::writeMetadata() </code></strong></em> to throw an exception for multi-page tiffs.  As always, you are welcome to persuade me otherwise!</p>


	<p>But first, gimme your command-line buddy, so we can be on the same page!</p></div>
  
  </div>
  <div class="message reply" id="message-2577">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2577#message-2577">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/4340">Mikayel Egibyan</a> <a title="18 May 2016 09:32" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I am not using command line. What I do is following:</p>


	<p>....<br />exifData["Exif.Image.Software"] = "blah";<br />image->writeMetadata();<br />....</p>


	<p>Since for some cases it works, you could possibly add exception. Exceptions are always better than crashes :)</p>


	<p>Mikayel</p></div>
  
  </div>
  <div class="message reply" id="message-2578">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2578#message-2578">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 May 2016 11:18" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>The following command does that:<pre>$ exiv2 --verbose -M'set Exif.Image.Software blah' tst.tiff</pre>I'm not getting a crash on the trunk build.  Which build are you using?  Exiv2 v0.25 on MSVC 64 bit/static?</p>


	<p>The following is mutilating the file:<pre>553 rmills@rmillsmbp:~/gnu/exiv2/ttt $ cp ~/Downloads/tst.tiff . ; tiffinfo tst.tiff | grep TIFF ; \
exiv2 --verbose -M'set Exif.Image.Software Robin' tst.tiff ; exiv2 -pa --grep Software tst.tiff ; \
tiffinfo tst.tiff | grep TIFF
TIFF Directory at offset 0xafd0 (45008)
TIFF Directory at offset 0x160b2 (90290)
TIFF Directory at offset 0x21194 (135572)
TIFF Directory at offset 0x2c276 (180854)
TIFF Directory at offset 0x37358 (226136)
File 1/1: tst.tiff
Warning: Directory Image3 has an unexpected next pointer; ignored.
Set Exif.Image.Software "Robin" (Ascii)
Warning: Directory Image3 has an unexpected next pointer; ignored.
Exif.Image.Software                          Ascii       6  Robin
TIFF Directory at offset 0x8 (8)
TIFF Directory at offset 0x134 (308)
TIFF Directory at offset 0xb216 (45590)
TIFF Directory at offset 0xb330 (45872)
554 rmills@rmillsmbp:~/gnu/exiv2/ttt $ ls -alt ~/Downloads/tst.tiff tst.tiff 
-rw-r--r--@ 1 rmills  staff  181154 18 May 12:10 tst.tiff
-rw-r--r--@ 1 rmills  staff  226418 18 May 11:54 /Users/rmills/Downloads/tst.tiff
555 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre>I think you have to accept that Exiv2 cannot be used on multi-page tiffs.</p>


	<p>I rather busy today on the house project.  I'll take another look at this tonight.</p></div>
  
  </div>
  <div class="message reply" id="message-2579">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2579#message-2579">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/4340">Mikayel Egibyan</a> <a title="18 May 2016 11:45" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I am using static build x64 Exiv 0.25.</p>


	<p>Mikayel</p></div>
  
  </div>
  <div class="message reply" id="message-2580">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2580#message-2580">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 May 2016 15:35" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Here's what I see with "vanilla" v0.25.<pre>C:\cygwin64\home\rmills\gnu\exiv2\0.25\msvc2005\bin\x64\debug&gt;exiv2 --verbose -M"set Exif.Image.Software robin" tst.tiff
File 1/1: tst.tiff
Set Exif.Image.Software "robin" (Ascii)
Exiv2 exception in modify action for file tst.tiff:
Invalid ifdId 103

C:\cygwin64\home\rmills\gnu\exiv2\0.25\msvc2005\bin\x64\debug&gt;</pre>I don't see a crash.  exiv2(.exe) is catching an exception.  I'll step it through the debugger this evening.  Here's the behaviour on the trunk:<pre>
C:\cygwin64\home\rmills\gnu\exiv2\0.25\msvc2005&gt;cd ..\..\trunk\msvc2005\bin\x64\debug

C:\cygwin64\home\rmills\gnu\exiv2\trunk\msvc2005\bin\x64\debug&gt;copy ..\..\..\..\..\0.25\msvc2005\bin\x64\debug\tst.tiff
        1 file(s) copied.

C:\cygwin64\home\rmills\gnu\exiv2\trunk\msvc2005\bin\x64\debug&gt;exiv2 --verbose -M"set Exif.Image.Software robin" tst.tiff
File 1/1: tst.tiff
Warning: Directory Image3 has an unexpected next pointer; ignored.
Set Exif.Image.Software "robin" (Ascii)
Warning: Directory Image3 has an unexpected next pointer; ignored.

C:\cygwin64\home\rmills\gnu\exiv2\trunk\msvc2005\bin\x64\debug&gt;exiv2 -vVg date --grep svn
exiv2 0.25 001900 (64 bit build)
date=May 18 2016
svn=4281

C:\cygwin64\home\rmills\gnu\exiv2\trunk\msvc2005\bin\x64\debug&gt;exiv2 -pa --grep Software tst.tiff
Exif.Image.Software                          Ascii       6  robin

C:\cygwin64\home\rmills\gnu\exiv2\trunk\msvc2005\bin\x64\debug&gt;</pre></p></div>
  
  </div>
  <div class="message reply" id="message-2581">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2581#message-2581">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="18 May 2016 20:25" href="/projects/exiv2/activity?from=2016-05-18">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Mikayel</p>


	<p>I've had a long 12 hour day on the house project.  I'm too tired to start debugging tonight.</p>


	<p>I'm going to have to ask you to isolate this issue.  I don't see any crash.  And I see different behaviour on v0.25 and the trunk.  You're going to have to dig into this and get down to a definition of the issue that we can both easily reproduce.  The best way is with exiv2(.exe).  If that's not possible, modify one of the sample applications (e.g. exifprint.cpp) so that I can drop your code into my environment and reproduce the issue.</p>


	<p>There are a couple of matters you should consider:<br />1 Exiv2 does not support multi-page tiffs<br />2 Signal handers (to catch crashes) are an application responsibility</p>


	<p>I could start debugging tst.tiff to find out exactly what happens on v0.25 and trunk.  However, I ask myself the question, "what am I looking for?".  There's an exception being thrown in v0.25 that seems to be fixed on the trunk.  However we don't support multi-page tiffs.  And I don't see a crash - which is the subject.  So, I don't know how to move forward with this issue.</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-2582">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2572?r=2582#message-2582">RE: Exiv2 crashes when writing metadata to a some multi-fram tiff files</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="19 May 2016 20:37" href="/projects/exiv2/activity?from=2016-05-19">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I'm not so tired tonight and have done more work on this.  The exception being thrown in v0.25 is coming from tags.cpp inside TiffImage::writeMetadata -> TiffImage::encode -> a deep recursion inside TiffVisitor.  I don't know much about that code and don't recall changing anything related to this.  So, I've written a little script to identify the build that fixed the v0.25 exception:<pre>#!/bin/bash

for r in $(seq 3800 10 3890) ; do
    echo ------------- $r begin --------------
    if [ -e $r ]; then rm -rf $r ; fi
    svn export svn://dev.exiv2.org/svn/trunk --revision $r $r | wcv0.25 
    cd $r
        make config 2&gt;/dev/null | wc
        ./configure | wc
        make -j  2&gt;&#38;1           | wc
        sudo make install       | wc
        echo build = $(exiv2 -vV | grep -e svn -e dll) $(ls -alt $(which exiv2))
        T=tst.tiff
        curl --silent -O http://dev.exiv2.org/attachments/download/1004/$T
        exiv2 -v -M"set Exif.Image.Software revision $r" $T
        exiv2 -pa --grep Software $T
        echo ------------- $r end --------------
        echo ''
    cd ..
done

# That's all Folks!
##</pre>The behaviour changes with <a class="changeset" title="#1095: Do not create a TIFF component for unexpected next IFD pointers." href="/projects/exiv2/repository/exiv2/revisions/3883">r3883</a>.  <em><a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Unexpected Exif IFD next pointers should be ignored (Closed)" href="/issues/1095">#1095</a>: Do not create a TIFF component for unexpected next IFD pointers.</em>  Submitted by Andreas 2015-07-31 (after v0.25 shipped).  Here's the evidence: <pre>------------- 3882 begin --------------
    1160    2321   46669
       2      10     116
     197    1156    9381
     191    4573   63819
     105     583    7651
build = dll=1 svn=0 -rwxr-xr-x 1 root admin 208104 19 May 21:09 /usr/local/bin/exiv2
File 1/1: tst.tiff
Set Exif.Image.Software "revision 3882" (Ascii)
Exiv2 exception in modify action for file tst.tiff:
Invalid ifdId 103
------------- 3882 end --------------

------------- 3883 begin --------------
    1160    2321   46669
       2      10     116
     197    1156    9381
     191    4573   63819
     105     583    7651
build = dll=1 svn=0 -rwxr-xr-x 1 root admin 208104 19 May 21:10 /usr/local/bin/exiv2
File 1/1: tst.tiff
Warning: Directory Image3 has an unexpected next pointer; ignored.
Set Exif.Image.Software "revision 3883" (Ascii)
Warning: Directory Image3 has an unexpected next pointer; ignored.
Exif.Image.Software                          Ascii      14  revision 3883
------------- 3883 end --------------</pre><a class="changeset" title="#1095: Do not create a TIFF component for unexpected next IFD pointers." href="/projects/exiv2/repository/exiv2/revisions/3883">r3883</a> is good and fixes <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Unexpected Exif IFD next pointers should be ignored (Closed)" href="/issues/1095">#1095</a>.  I was not involved with either that issue or revision.</p>


	<p>I modified exifprint.cpp to operate on tst.tiff.  I added your code:<pre><code class="cplusplus syntaxhl">    <span class="n">Exiv2</span><span class="o">::</span><span class="n">Image</span><span class="o">::</span><span class="n">AutoPtr</span> <span class="n">image</span> <span class="o">=</span> <span class="n">Exiv2</span><span class="o">::</span><span class="n">ImageFactory</span><span class="o">::</span><span class="n">open</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="n">assert</span><span class="p">(</span><span class="n">image</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">image</span><span class="o">-&gt;</span><span class="n">readMetadata</span><span class="p">();</span>
    <span class="n">Exiv2</span><span class="o">::</span><span class="n">ExifData</span> <span class="o">&amp;</span><span class="n">exifData</span> <span class="o">=</span> <span class="n">image</span><span class="o">-&gt;</span><span class="n">exifData</span><span class="p">();</span>

<span class="n">exifData</span><span class="p">[</span><span class="s">"Exif.Image.Software"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"blah"</span><span class="p">;</span>
<span class="n">image</span><span class="o">-&gt;</span><span class="n">writeMetadata</span><span class="p">();</span>
<span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">exifData</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span></code></pre>I invoke exifprint.exe with tst.tiff on the command line.  The exception handler is working and reporting <em><strong><code>Invalid ifdId 103</code></strong></em> <pre>534 rmills@rmillsmbp:~/gnu/exiv2/3810 $ bin/exifprint tst.tiff 
Caught Exiv2 exception 'Invalid ifdId 103'
535 rmills@rmillsmbp:~/gnu/exiv2/3810 $ </pre>So two puzzles:</p>


	<p>1 Why is your exception handler not effective?<br />2 You are reporting a different exception:  <em>"terminate called after throwing an instance of 'Exiv2::BasicError&lt;char&gt;'what(): Invalid ifdId 103"</em></p>


	<p><strong>Solution:</strong></p>


	<p>Your exception handler is catching the exception, however there something wrong with it and it throws another exception which causes a crash.  Eureka!</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-9/9)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
