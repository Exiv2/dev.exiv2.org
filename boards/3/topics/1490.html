<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>How to compile for iOS - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="/BpGMTscqGcTiHuPpRkFNE5NoBvK8gbCjBk6UZsPdHceV+3eSWZkZ0bsZIMazgkHcd/0YjsRp3hxOarZ2DaTGA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>How to compile for iOS</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="25 Mar 2013 06:19" href="/projects/exiv2/activity?from=2013-03-25">over 8 years</a> ago</span></p>
<div class="wiki">
<p>Hi,</p>


	<p>I am creating an iOS app to display image metadata. The app is in Objective-C</p>


	<p>I want to compile the library for iOS platform but instructions to do so are not present in the wiki.</p>


	<p>I will be grateful if someone can teach me how to compile the library to work on the iOS platform and use in an Objective-C app. What will be the right architecture and flags to use.</p>


	<p>Thanks a lot.</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (13)</h3>
  <div class="message reply" id="message-1492">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1492#message-1492">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Mar 2013 09:55" href="/projects/exiv2/activity?from=2013-03-25">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>There are quite a lot of notes on the Wiki concerning building Exiv2 on the Mac.  <a class="external" href="http://clanmills.com/exiv2/macosx.shtml">http://clanmills.com/exiv2/macosx.shtml</a></p>


	<p>And I recently added notes about use CMake/Xcode on the Mac:<br /><a class="external" href="http://clanmills.com/exiv2/debugging-cmake.shtml">http://clanmills.com/exiv2/debugging-cmake.shtml</a>  and found the following concerning iOS and CMake:<br /><a class="external" href="https://code.google.com/p/ios-cmake/">https://code.google.com/p/ios-cmake/</a></p>


	<p>For sure the library works fine with Obj/C and Cocoa on the Desktop.  In fact, I discovered that Exiv2 was about 100x faster than Apple's Cocoa classes for extracting meta-data.  Additionally, Exiv2 recognizes many more tags as well as makernotes, iptc and xmp metadata.</p>


	<p>I have never developed for iOS, however I believe the process is almost identical to MacOSX.  You probably have to set some environment variables to cross compile for iOS.  In the notes <a class="external" href="http://clanmills.com/exiv2/macosx.shtml">http://clanmills.com/exiv2/macosx.shtml</a>, I've discussed getting the compiler to target particular versions of MacOS-X.  I googled up several blogs in which this is discussed.  For example:</p>


	<p><a class="external" href="http://tinsuke.wordpress.com/2011/02/17/how-to-cross-compiling-libraries-for-ios-armv6armv7i386/">http://tinsuke.wordpress.com/2011/02/17/how-to-cross-compiling-libraries-for-ios-armv6armv7i386/</a>  You'll see the author has documented his experience.</p>


	<p>Perhaps you could "dig into" this subject and report your results back here.  If you're successful, I'll acknowledge your findings by linking from <a class="external" href="http://dev.exiv2.org/projects/exiv2/wiki/How_do_I_build_Exiv2_on_the_XYZ_platform">http://dev.exiv2.org/projects/exiv2/wiki/How_do_I_build_Exiv2_on_the_XYZ_platform</a>.  If you're get stuck, I'll have a look at this next weekend.</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-1493">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1493#message-1493">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="25 Mar 2013 22:24" href="/projects/exiv2/activity?from=2013-03-25">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Robin,</p>


	<p>Thanks for your detailed reply. I will try your answer and will let you know ow it goes.</p>


	<p>Regards.</p></div>
  
  </div>
  <div class="message reply" id="message-1494">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1494#message-1494">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="26 Mar 2013 03:34" href="/projects/exiv2/activity?from=2013-03-26">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Robin,</p>


	<p>Using the links you posted and modifying them a little and hours of trial and error, I was able to cross compile EXIV2 and I obtained the headers and .a file.</p>


	<p>I confirmed using lipo -i that indeed i386(simulator) and arm7 code is present is present in the library. I will detail the process later once I have my application running and I have proof of its complete working.</p>


	<p>Now, I am facing another problem. XCode is unable to find the C++ standard library.</p>


	<p>Here is my setup:</p>


	<p>I have one XCode project which targets iOS SDK 6.0.</p>


	<p>Inside it, there is a folder called exiv2 and it contains a header and lib folder. The exiv2 header and the .a library are in those folders.</p>


	<p>When I compile, I get an error that in version.hpp</p>


	<p>#include &lt;string&gt; : no such file or directory</p>


	<p>Any ideas on how to link the C++ std in such a setup?</p>


	<p>Thanks a lot.</p></div>
  
  </div>
  <div class="message reply" id="message-1495">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1495#message-1495">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="26 Mar 2013 05:30" href="/projects/exiv2/activity?from=2013-03-26">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Hello Robin,</p>


	<p>I think I was able to solve the above &lt;string&gt; not found problem by renaming the main.m to main.mm (this is the file where exifv2 is included. Renaming the main file (and linking with libstdc++  ?) got rid of that error.</p>


	<p>But following the instructions of the following page : <a class="external" href="http://tinsuke.wordpress.com/2011/02/17/how-to-cross-compiling-libraries-for-ios-armv6armv7i386/">http://tinsuke.wordpress.com/2011/02/17/how-to-cross-compiling-libraries-for-ios-armv6armv7i386/</a></p>


	<p>in the Project Configuration section, the author recommends to choose LLVM/GCC 4.2 as the compiler. This is done to remove the following error : Undefined symbols for architecture armv7: (even though lipo shows armv7 is present.</p>


	<p>The problem with using LLVM/GCC 4.2 instead of LLVM 4.1 is that LLVM/GCC 4.2 does not support ARC.</p>


	<p>Is there any way to get rid of "Undefined symbols for architecture armv7" error when compiling exiv2 for iOS SDK 6.0 without resorting to LLVM/GCC 4.2 ?</p>


	<p>Thanks a lot.</p></div>
  
  </div>
  <div class="message reply" id="message-1496">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1496#message-1496">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="26 Mar 2013 05:42" href="/projects/exiv2/activity?from=2013-03-26">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Robin,</p>


	<p>Sorry to say, even after diabling arc, I have come back to square one :</p>


	<p>Undefined symbols for architecture i386:<br />  "Exiv2::ImageFactory::open(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; > const&#38;)", referenced from:<br />      _main in main.o<br />ld: symbol(s) not found for architecture i386<br />clang: error: linker command failed with exit code 1 (use -v to see invocation)</p>


	<p>So, as of now, the "Undefined symbols for architecture i386" problem is not getting solved.</p>


	<p>Please see if you can try and build the library for iOS SDK 6.0 and if you face the same problem.</p>


	<p>I have not tried CMake though,</p>


	<p>Much thanks for your time.</p></div>
  
  </div>
  <div class="message reply" id="message-1497">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1497#message-1497">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="26 Mar 2013 08:33" href="/projects/exiv2/activity?from=2013-03-26">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Manuj</p>


	<p>I can see you have done as I requested and you did <strong>"dig into"</strong> this.  It's hard solving build engineering puzzles.  That's what so great about solving them.  It wouldn't be fun if it were easy.</p>


	<p>At the moment, I'm overloaded with work in the office and with the Google Summer of Code project on Exiv2.  I really can't look at this until the weekend.  However let me suggest tools to explore the issues further.</p>


	<p><strong><em>lipo</em></strong>:  you can use him to extract (and recombine) different architectures from binary files (libraries, dylibs and executables)</p>


	<p><strong><em>nm -g</em></strong>: use this to see the symbol table (imports and exports) from your binaries</p>


	<p><strong><em>otool -L</em></strong>: use that to see what your binaries are trying to load at run-time</p>


	<p><strong><em>install_name_tool</em></strong>: enables you to modify the dynamic linking tables (which you see with otool -L)</p>


	<p>In this case, you probably don't need to know or use install_name_tool, however I'm enumerating essential build engineering weapons.</p>


	<p><ins><i><em></i></em>______________________________</ins></p>


	<p>The reason: <br /><em>#include &lt;string&gt;</em> has to be in a .mm file is because <strong>.mm</strong> is <strong>Obj/C++</strong> and <strong>.m</strong> is <strong>Obj/C</strong>.</p>


	<p>Statement such as:<br /><em>#include &lt;string&gt;</em> and  <br /><em>#include &lt;map&gt;</em></p>


	<p>(with no .h) are C++ to include STL headers.</p>


	<p>The languages <strong>C</strong> and <strong>Obj/C</strong> know nothing about STL (Standard template library).</p>


	<p><ins><i><em></i></em>______________________________</ins></p>


	<p>I have several suggestions about how to use the weapons for a successful attack on this:</p>


	<p>1) Build a small library that does almost nothing, uses C++ and STL.<br />- it's easier to learn what's going on when you're dealing with something small.<br />- you might even get lucky and there's an example on Apple Developer<br />- it's much quicker to build and link something small than a larger library such as Exiv2.</p>


	<p>2) If you can't get something small and easy to work, you may be able to get help on an iOS forum.<br />- If you ask on an iOS forum (or StackOverflow) about Exiv2, it's very unlikely that anybody will help.<br />- If you ask for help with simple 20 line C++ library, somebody will probably help.</p>


	<p>3) Build Exiv2 on the desktop for i386/ix64 (not universal)<br />- you can list the symbol table with nm<br />- your aim is to cross compile a library which offers all the symbols <strong>AND</strong> an application that links, loads and calls the library.</p>


	<p><ins><i><em></i></em>______________________________</ins></p>


	<p>I know this is time consuming and hard - that's why we call it <strong>work</strong>!  I hope that helps.  I expect we'll end up discussing this next weekend!</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-1498">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1498#message-1498">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="28 Mar 2013 04:41" href="/projects/exiv2/activity?from=2013-03-28">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Still no luck...</p>


	<p>1) I checked with xcrun -sdk iphoneos lipo -i and indeed i386 architecture is supported</p>


	<p>Architectures in the fat file: libexiv2_all.a are: armv7s armv7 i386</p>


	<p><a class="external" href="http://stackoverflow.com/questions/12549489/compile-library-for-armv7s-cputype-12-and-cpusubtype-11">http://stackoverflow.com/questions/12549489/compile-library-for-armv7s-cputype-12-and-cpusubtype-11</a></p>


	<p>2) Then I used otool -L and saw that i386 *.o are present in the fat</p>


	<p>3) Next, I downloaded and ran <a class="external" href="http://dl.dropbox.com/u/1745859/Blog/tesseract/ios50_tesseract301_leptonica_168/TesseractSample.zip">http://dl.dropbox.com/u/1745859/Blog/tesseract/ios50_tesseract301_leptonica_168/TesseractSample.zip</a> from <a class="external" href="http://tinsuke.wordpress.com/2011/11/01/how-to-compile-and-use-tesseract-3-01-on-ios-sdk-5/">http://tinsuke.wordpress.com/2011/11/01/how-to-compile-and-use-tesseract-3-01-on-ios-sdk-5/</a> and tried to integrate exif2 in this project, hoping that since its working otherwise, all like / build settings are correct. The only caveat being that the project is for iOS SDK 5 and the library is for iOS SDK 6. But the project as a whole is getting compiled for iOS SDK 6.</p>


	<p>The moment I make any call to exif2 such as Exiv2::Image::AutoPtr imagep = Exiv2::ImageFactory::open("Lorem_Ipsum_Univers.png"); I get the following error</p>


	<p><code>*Undefined symbols for architecture i386:*<br />  "_compress2", referenced from:<br />      Exiv2::Internal::PngChunk::zlibCompress(std::string const&#38;) in libexiv2_all.a(pngchunk.o)<br />  "_crc32", referenced from:<br />      Exiv2::Internal::PngChunk::makeUtf8TxtChunk(std::string const&#38;, std::string const&#38;, bool) in libexiv2_all.a(pngchunk.o)<br />      Exiv2::Internal::PngChunk::makeAsciiTxtChunk(std::string const&#38;, std::string const&#38;, bool) in libexiv2_all.a(pngchunk.o)<br />  "_iconv", referenced from:<br />      (anonymous namespace)::convertStringCharsetIconv(std::string&#38;, char const*, char const*) in libexiv2_all.a(convert.o)<br />  "_iconv_close", referenced from:<br />      (anonymous namespace)::convertStringCharsetIconv(std::string&#38;, char const*, char const*) in libexiv2_all.a(convert.o)<br />  "_iconv_open", referenced from:<br />      (anonymous namespace)::convertStringCharsetIconv(std::string&#38;, char const*, char const*) in libexiv2_all.a(convert.o)<br />  "_uncompress", referenced from:<br />      Exiv2::Internal::PngChunk::zlibUncompress(unsigned char const*, unsigned int, Exiv2::DataBuf&#38;) in libexiv2_all.a(pngchunk.o)<br />ld: symbol(s) not found for architecture i386<br />clang: error: linker command failed with exit code 1 (use -v to see invocation)</code></p>


	<p>Will try out other suggestions you mentioned also.</p>


	<p>It will be a great achievement for exif2 if we can make it run on iOS.</p>


	<p>Regards.</p></div>
  
  </div>
  <div class="message reply" id="message-1499">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1499#message-1499">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="28 Mar 2013 05:53" href="/projects/exiv2/activity?from=2013-03-28">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Robin,</p>


	<p>It worked! I am able to extract image metadata using Exiv2 on iOS! (tried it on simulator, not on device)</p>


	<p>Thank you so much for your valuable time and helpful solution.</p>


	<p>I will document the solution soon this weekend.</p>


	<p>BTW, the above problem was caused due to 2 missing frameworks.</p>


	<p>Regards,<br />Manuj.</p></div>
  
  </div>
  <div class="message reply" id="message-1500">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1500#message-1500">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="28 Mar 2013 21:51" href="/projects/exiv2/activity?from=2013-03-28">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Congratulations.</p>


	<p>When I read your mail "Still no luck" and you mentioned crc32, I instantly thought "he hasn't linked zlib".  And then, I read your next email and thought "Yeah!  He's done it".</p>


	<p>Look at this on MacOS-X (mountain lion):<pre>514 rmills@rmills-imac:~/gnu/exiv2/test.build/xcode/src/Debug $ nm -g libexiv2.dylib | grep _crc
                 U _crc32
515 rmills@rmills-imac:~/gnu/exiv2/test.build/xcode/src/Debug $ otool -L libexiv2.dylib 
libexiv2.dylib:
    /Users/rmills/gnu/exiv2/test.build/xcode/src/Debug/libexiv2.dylib (compatibility version 12.0.0, current version 12.0.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 169.3.0)
    /usr/lib/libexpat.1.dylib (compatibility version 7.0.0, current version 7.2.0)
    /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)
    /usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)
    /usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 56.0.0)
516 rmills@rmills-imac:~/gnu/exiv2/test.build/xcode/src/Debug $ nm -g /usr/lib/libz.1.dylib | grep _crc32
00000000000011e7 T _crc32
0000000000001453 T _crc32_combine
517 rmills@rmills-imac:~/gnu/exiv2/test.build/xcode/src/Debug $ </pre>You can see that libexiv2.dylib has an unsatisfied external _crc32.<br />And you can see he's linked to libz<br />And you can see libz offers _crc32</p>


	<p>Easy is't it?  So much fun when you put the jigsaw together.</p>


<hr />


	<p>The way open-source works is by people making contributions.    So you're not done here until you document this for others.  I'm going to be your test engineer.    I've never built or run code on an iOS device.  I have Xcode, the device emulator and an iPod (with iOS 6.1.3).  So you tell me what to do, and I'll test your explanation.  We can discuss it here on the forum, or privately by email <a class="email" href="mailto:robin@clanmills.com">robin@clanmills.com</a></p>


	<p>Your contribution will of course be recognized for all the world (and your boss) to see.  Good Work deserves Recognition and you've done Good Work.  Well Done.</p></div>
  
  </div>
  <div class="message reply" id="message-1503">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1503#message-1503">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="01 Apr 2013 01:28" href="/projects/exiv2/activity?from=2013-04-01">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Dear Robin,</p>


	<p>It would make no sense not to share this information. Not only that, I am required by job to document the process, which my company and I will be more than happy to share along with a sample source code.</p>


	<p>Currently I am busy with a project deadline. I will do this soon within a day or two and will get back to you.</p>


	<p>Regards,<br />Manuj</p></div>
  
  </div>
  <div class="message reply" id="message-1507">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1507#message-1507">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 Apr 2013 21:44" href="/projects/exiv2/activity?from=2013-04-01">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Manuj</p>


	<p>Right.  Thanks for the update.  To share is the right thing to do.  I look forward to your contribution.</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-1510">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1510#message-1510">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/3786">Manuj LHT</a> <a title="03 Apr 2013 23:19" href="/projects/exiv2/activity?from=2013-04-03">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>This is for the records:</p>


	<p>The library is working wonderfully on the simulator, but on the device I am getting a libstdc++ not found error in release mode and debug too I guess</p>


	<p>I have tried linking the libc++ framework but no good.</p>


	<p>Somehow, it got deleted from my system. Then I check another computer and it had the file. I tried building it from there but faced the same issue. Then trying it from the third machine, it built without a problem from the same code base. Strange. Its working on the device now, but I still need to figure out whats wrong with my machine and the other one.</p></div>
  
  </div>
  <div class="message reply" id="message-1511">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1490?r=1511#message-1511">RE: How to compile for iOS</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="03 Apr 2013 23:50" href="/projects/exiv2/activity?from=2013-04-03">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Manuj</p>


	<p>Linking frameworks/libraries and applications on the Mac is easy when it works "out of the box".  However when it does not, you're in for some detective work with our old friends otool -L, install_name_tool and possibly nm and lipo.  We had a discussion about linking Mac-OSX and I believe it's similar on iOS.  <a class="external" href="http://dev.exiv2.org/boards/3/topics/1278">http://dev.exiv2.org/boards/3/topics/1278</a></p>


	<p>I've just installed iFunBox on my iMac and browsed into "Adobe Reader".  I've dragged it from the iPod Touch to the Desktop and run otool -L on it.  <pre>510 rmills@rmills-imac:~/Desktop $ otool -L "Adobe Reader" 
Adobe Reader (architecture armv7):
    /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)
    /usr/lib/libxml2.2.dylib (compatibility version 10.0.0, current version 10.8.0)
    /System/Library/Frameworks/StoreKit.framework/StoreKit (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/CoreVideo.framework/CoreVideo (compatibility version 1.2.0, current version 1.8.0)
    /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices (compatibility version 1.0.0, current version 40.0.0)
    /System/Library/Frameworks/OpenGLES.framework/OpenGLES (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/Foundation.framework/Foundation (compatibility version 300.0.0, current version 993.0.0)
    /System/Library/Frameworks/UIKit.framework/UIKit (compatibility version 1.0.0, current version 2380.17.0)
    /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics (compatibility version 64.0.0, current version 600.0.0)
    /System/Library/Frameworks/MessageUI.framework/MessageUI (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/QuartzCore.framework/QuartzCore (compatibility version 1.2.0, current version 1.8.0)
    /System/Library/Frameworks/CoreText.framework/CoreText (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/Security.framework/Security (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration (compatibility version 1.0.0, current version 499.5.0)
    /System/Library/Frameworks/MediaPlayer.framework/MediaPlayer (compatibility version 1.0.0, current version 1.0.0)
    /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 65.0.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 173.8.0)
    /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation (compatibility version 150.0.0, current version 793.0.0)
Adobe Reader (architecture armv7s):
    /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)
    /usr/lib/libxml2.2.dylib (compatibility version 10.0.0, current version 10.8.0)
    /System/Library/Frameworks/StoreKit.framework/StoreKit (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/CoreVideo.framework/CoreVideo (compatibility version 1.2.0, current version 1.8.0)
    /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices (compatibility version 1.0.0, current version 40.0.0)
    /System/Library/Frameworks/OpenGLES.framework/OpenGLES (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/Foundation.framework/Foundation (compatibility version 300.0.0, current version 993.0.0)
    /System/Library/Frameworks/UIKit.framework/UIKit (compatibility version 1.0.0, current version 2380.17.0)
    /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics (compatibility version 64.0.0, current version 600.0.0)
    /System/Library/Frameworks/MessageUI.framework/MessageUI (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/QuartzCore.framework/QuartzCore (compatibility version 1.2.0, current version 1.8.0)
    /System/Library/Frameworks/CoreText.framework/CoreText (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/Security.framework/Security (compatibility version 1.0.0, current version 1.0.0)
    /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration (compatibility version 1.0.0, current version 499.5.0)
    /System/Library/Frameworks/MediaPlayer.framework/MediaPlayer (compatibility version 1.0.0, current version 1.0.0)
    /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 65.0.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 173.8.0)
    /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation (compatibility version 150.0.0, current version 793.0.0)
511 rmills@rmills-imac:~/Desktop $ </pre></p>


	<p>You can see that Adobe Reader is built for arm7 and links /usr/lib/libc++.1.dylib.  You'll be able to do the same.  If necessary, you may have to use install_name_tool to link correctly.</p>


	<p>You know that I've never built code for iOS.  It would help a great deal if you could send code and I will get it work for you.  I'll treat your code as confidential if you email to me.  Even better - put the code on a web or ftp server and email me with the URL.  Any information you can share about how to build the code will be greatly appreciated.  My email address is <a class="email" href="mailto:robin@clanmills.com">robin@clanmills.com</a></p>


	<p>Robin</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-13/13)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
