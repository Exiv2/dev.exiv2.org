<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>difference in treatment/support of Jpeg vs PNG? - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fS/A2JuQE+JmQ3FkEfRtV7L5ehA3Mi8onpIECvOpeRefYms36erf4jMnbmiuI2FkjWsuacbRjpJjspSCsJCeeA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>difference in treatment/support of Jpeg vs PNG?</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/3757">M Fioretti</a> <a title="20 Feb 2013 13:12" href="/projects/exiv2/activity?from=2013-02-20">over 8 years</a> ago</span></p>
<div class="wiki">
<p>Greetings,</p>


	<p>I am restructuring my digital photograph management flow. In this context I have to decide whether to stick to Jpg or use PNG for archival. The question for this forum is if there is any difference in how exiv2 handles metadata in Jpg vs png. In other words, can it do with metadata in Jpeg files all it can do with png files, and vice-versa? If I save metadata in a PNG file with, say, digiKam, which uses exiv2, and then a friend asks for a jpg version, will it have exactly the same metadata when I convert it inside digiKam?</p>


	<p>From what I have already read around, the answer would seem "yes", but I'd really appreciate a confirmation from expert exiv2 developers and users.</p>


	<p>TIA,<br />Marco</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (9)</h3>
  <div class="message reply" id="message-1471">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=1471#message-1471">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="22 Feb 2013 22:52" href="/projects/exiv2/activity?from=2013-02-22">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Marco</p>


	<p>Thanks for visiting the forum.  I'm a little disappointed that nobody has answered your question because .... I don't know the answer.  Perhaps the DigiKam or a photographer's forum is a better place to ask.  Some place where photographers discuss work-flow.  I had a Google into this matter and concluded that JPG-metadata is not equal to PNG-metadata.  Of course, you can do some experiments in DigiKam with the format convertors.</p>


	<p>Most desktop and mobile software accept PNG and JPG images in a transparent manner.  Sure, they display and recompress the images, however the preservation and use of metadata is variable.  For example, you maybe be very unpleasantly surprised to discover that something that produces a beautiful web-album from JPG simply doesn't do the same job when given PNG.</p>


	<p>I personally use JPG because the cameras produced that format.  One day, I'm going to start shooting RAW images to get away from JPG artifacts.  So, I'll almost certainly adopt Adobe's DNG format which provides a single container type for the myriad of manufacturer's raw formats.  Adobe provide a free-download of a convertor to create DNG.  I believe Canon's EOS cameras can create JPG and CRW (canon raw) at the same time.</p>


	<p>I'm not saying "Adopt DNG".  I'm saying that when I decide to move away from JPG (for quality reasons), I intend to adopt DNG.  However I will move cautiously.</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-1474">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=1474#message-1474">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/3757">M Fioretti</a> <a title="24 Feb 2013 08:55" href="/projects/exiv2/activity?from=2013-02-24">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Robin, thanks for your reply.</p>


	<p>The digiKam mailing list is exactly where I got the suggestion to ask here.</p>


	<p>This because my question is about <em>exiv2</em> itself, internally, never mind for just a moment what software is using this library: can <em>exiv2</em> do, i.e. read/write to the SAME level (whatever that level is) to PNG and JPG files?</p>


	<p>"JPG-metadata is not equal to PNG-metadata": what does this mean, exactly? Do you have links to pages that you already found, and I could study?</p>


	<p>Wrt to DNG, I am in the same situation as you right now. I have to reorganize, tag, geotag, edit... thousands of JPG pictures that often need editing, and/or paper photographs or negatives to scan, to Jpg or PNG I don't know yet. That's why I am trying to know if, how far as metadata are concerned, there are gotchas and differences in how exiv2 deals with PNG vs JPG. Right now I have no RAW pictures to take care of.</p>


	<p>Thanks.</p></div>
  
  </div>
  <div class="message reply" id="message-1475">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=1475#message-1475">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="24 Feb 2013 12:34" href="/projects/exiv2/activity?from=2013-02-24">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>Marco</p>


	<p>I found something last week about PNG metadata in PNG and I thought "this isn't exif".  I believe there are segments in the PNG which contain arbitrary data.  I've just had a google for "compare png jpg metadata" and came up with:</p>


	<p><a class="external" href="http://en.wikipedia.org/wiki/Exchangeable_image_file_format">http://en.wikipedia.org/wiki/Exchangeable_image_file_format</a></p>


	<p>About exif, it says "It is not supported in JPEG 2000, PNG, or GIF."</p>


	<p>You can look up PNG and XMP on Expedia.  I believe the Adobe XMP initiative was to give a uniform structure to all metadata across all formats.</p>


	<p>Your question has made me think "how does PNG actually store metadata and is there a 1-to-1 mapping for every exif tag?".</p>


	<p>I didn't write exiv2 and have never needed to debug that part of the code.  That's why I said "I don't know the answer".  One day, I'll investigate and update this thread with more information.</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-1587">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=1587#message-1587">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/3916">arron lee</a> <a title="06 Aug 2013 02:21" href="/projects/exiv2/activity?from=2013-08-06">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>JPEG is an image compression standard and coding system. It was created by the Joint Photographic Experts Group committee in 2000 with the intention of superseding their original discrete cosine transform-based JPEG standard (created in 1992) with a newly designed, wavelet-based method. Progressive transmission by pixel and resolution accuracy, commonly referred to as progressive decoding and signal-to-noise ratio (SNR) scalability: (JPEG 2000: <a class="external" href="http://www.yiigo.com/support/kb/formats/jpeg/">http://www.yiigo.com/support/kb/formats/jpeg/</a>) provides efficient code-stream organizations which are progressive by pixel accuracy and by image resolution (or by image size). This way, after a smaller part of the whole file has been received, the viewer can see a lower quality version of the final picture. The quality then improves progressively through downloading more data bits from the source. The 1992 JPEG standard also has a progressive transmission feature but it's rarely used.The aim of JPEG 2000 is not only improving compression performance over JPEG but also adding (or improving) features such as scalability and editability. In fact, JPEG 2000's improvement in compression performance relative to the original JPEG standard is actually rather modest and should not ordinarily be the primary consideration for evaluating the design. Very low and very high compression rates are supported in JPEG 2000. <br />PNG (Portable Network Graphics: <a class="external" href="http://www.yiigo.com/support/kb/formats/png/">http://www.yiigo.com/support/kb/formats/png/</a>) is raster graphics file format that supports lossless data compression. PNG was created to replace Graphics Interchange Format (GIF) and Tagged Image File Format (TIFF) and add some functionality that GIF does not have.<br />Unlike other image file format, PNG supports 256 colors palette-based images with a relatively small file size; RGB, RGBA and Grayscale image with or without alpha channel; 1-48 bit True-color image and 1-16 bit grayscale image; gamma adjustment; storing image name, writer, version, time, annotation and more; and lossless data compression method known as DEFLATE.<br />There are many differences between them. But we can get the formats whatever we want using a fine 3rd party image converter tool. You can google what youwant. I hope you success. Good luck.</p></div>
  
  </div>
  <div class="message reply" id="message-1588">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=1588#message-1588">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/3761">Tuan Nhu</a> <a title="06 Aug 2013 06:20" href="/projects/exiv2/activity?from=2013-08-06">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>The metadata in JPG and PNG are stored in the different ways, so exiv2 handles them differently.<br />There is a short wiki about the metadata in JPG at <a class="external" href="http://dev.exiv2.org/projects/exiv2/wiki/The_Metadata_in_JPEG_files">http://dev.exiv2.org/projects/exiv2/wiki/The_Metadata_in_JPEG_files</a><br />For PNG, you can read it at <a class="external" href="http://www.libpng.org/pub/png/spec/1.2/png-1.2.pdf">http://www.libpng.org/pub/png/spec/1.2/png-1.2.pdf</a><br />In general, when we convert from JPG to PNG, the metadata may be lost or may not recognize properly by different decoders. It is because some metadata is supported by JPG, but not PNG. For example, Exif info is supported by JPG, but PNG does not embed EXIF info. However, PNG can still store metadata (in Chunks) which include some EXIF data (e.g. physical dimension, timestamp), and also permits arbitrary textual data as key=value pairs. So, we could in principle store any EXIF information in our own custom format. This is just a trick and not a standard way. Hence, our Exif info in PNG may not be recognized in some decoders.</p></div>
  
  </div>
  <div class="message reply" id="message-1589">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=1589#message-1589">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/76">Gilles Caulier</a> <a title="06 Aug 2013 06:32" href="/projects/exiv2/activity?from=2013-08-06">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>I would to add a comment here about PNG, as i written PNG metadata handling in Exiv2.</p>


	<p>In fact all metadata from JPEG are preserved in PNG. The way to do it is simple and used in ImageMagick : whole Exif, IPTC, and XMP data are stored in a dedicated PNG compressed text chunk and save as ASCII.</p>


	<p>Typically if you use imagemagick command line tool to convert a JPEG file to PNG and go back :</p>


	<p>convert foo.jpg foo.png<br />convert foo.png foo2.jpg</p>


	<p>... foo.jpg and foo2.jpg have the same Exif, Iptc, and Xmp metadata. NOTHING is lost.</p>


	<p>Note: <br />- for XMP, a standardized way exist through Adobe specification. This way is used to store XMP in PNG (it use a dedicated chuck, not a compressed text chuck)<br />- JPEG2000 and PGF use a similar way to store Exif, Iptc, and XMP.</p>


	<p>In all case, nothing is lost, but this can be invisible in some image management software.</p>


	<p>Gilles Caulier</p>


	<p>Gilles Caulier</p></div>
  
  </div>
  <div class="message reply" id="message-1727">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=1727#message-1727">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/4110">Susanna Moore</a> <a title="09 Mar 2014 21:28" href="/projects/exiv2/activity?from=2014-03-09">over 7 years</a> ago
  </h4>
  <div class="wiki"><p>The actual exif metadata as such may be carried within different host formats, e.g. TIFF, JFIF (JPEG) or PNG. Actually, PNG does not embed EXIF info. It allows, however, to store metadata ("Chunks") which include some EXIF data (physical dimension and timestamp), and also permits arbitrary textual data as key=value pairs. So, you could in principle store any EXIF information... but in your own custom format. When converting from JPEG(<a class="external" href="http://www.rasteredge.com/formats/jpeg/">http://www.rasteredge.com/formats/jpeg/</a>) to PNG(<a class="external" href="http://www.rasteredge.com/formats/png/">http://www.rasteredge.com/formats/png/</a>), the information will be lost.</p></div>
  
  </div>
  <div class="message reply" id="message-2828">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=2828#message-2828">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/5220">diskover diskover</a> <a title="01 Apr 2017 12:44" href="/projects/exiv2/activity?from=2017-04-01">over 4 years</a> ago
  </h4>
  <div class="wiki"><p>I shoot only RAW as I prefer what I get from post process. I could add JPEG but it is always a bit dull because I have my settings set to prioritize RAW shooting with my histogram as accurate as possible for RAW. The histogram shows based on your JPEG ( <a class="external" href="https://www.cleverfiles.com/howto/what-is-jpg.html">https://www.cleverfiles.com/howto/what-is-jpg.html</a> ) settings so I set me JPEG settings to optimize my histogram for RAW (Based on suggestions from Rico's book). I have seen it recommended to shoot both and did for a while, but I just found it is better to optimize my settings for one or the other.</p></div>
  
  </div>
  <div class="message reply" id="message-2853">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/1470?r=2853#message-2853">RE: difference in treatment/support of Jpeg vs PNG?</a>
    -
    Added by <a class="user active" href="/users/6159">dell merca</a> <a title="16 Jul 2017 05:08" href="/projects/exiv2/activity?from=2017-07-16">over 4 years</a> ago
  </h4>
  <div class="wiki"><p>PNG is a good choice for storing line drawings, text, and iconic graphics at a small file size. By converting a PNG file to JPEG you can save a lot of space, most of the time between 50-70%, which might be ideal if you are dealing with dozens or hundreds of images. However, if the focus is on image quality , PNG is certainly the best format.</p>


	<p>JPEG's ability to reduce file size up to 15% without losing quality makes it useful for web pages especially for colorful photos. Unfortunately, JPGs don't support transparency . JPG files have an unlimited color palette, but they blend pixels together to reduce the size of the image. While PNG is more suitable for the web, JPEG is still the preferred format when it comes to photos and digital art.</p>


	<p>More on....[[PNG Vs JPG  <a class="external" href="http://net-informations.com/q/mis/jpgng.html">http://net-informations.com/q/mis/jpgng.html</a>   ] ]</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-9/9)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
