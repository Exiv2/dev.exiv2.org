<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Modification of IPTC metadata changes creation date and time of the picture - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="xQBcTF8ssYBeXKpmV/Ms2xobu0IRtDOFY1twKUeSfHknTfejLVZ9gAs4tWroJCDoJYnvO+BXkj+ee+ChBKubFg==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>Modification of IPTC metadata changes creation date and time of the picture</h2>

<div class="message">
<p><span class="author">Added by Anonymous <a title="14 Feb 2009 09:19" href="/projects/exiv2/activity?from=2009-02-14">almost 13 years</a> ago</span></p>
<div class="wiki">
<p>Hi folks,</p>


	<p>I'm using the exiv2 command line utility with Windows XP. Everything works good :-)</p>


	<p>But when I've setted the IPTC metadata (e.g. exiv2 -M"set Iptc.Application2.City String Munich" munich.jpg) the creation time and date of the picture (which is displayed in the Windows Explorer) is set to the current time, e.g. 2009-02-14 18:16 instead of 2006-06-01 10:38, when the picture was taken.</p>


	<p>Is there any possibility or workaround to avoid that?</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (4)</h3>
  <div class="message reply" id="message-72">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/71?r=72#message-72">RE: Modification of IPTC metadata changes creation date and time of the picture</a>
    -
    Added by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="14 Feb 2009 22:32" href="/projects/exiv2/activity?from=2009-02-14">almost 13 years</a> ago
  </h4>
  <div class="wiki"><p>Yes, if I understand correctly*, check out the manual and look for the -k option.</p>


	<ul>
	<li>I assume you just want to leave the file timestamp as it is. There is also an option to set the file timestamp according to the image creation timestamp in the Exif metadata (-T). But that would require a second exiv2 command, you can't use -T and -M at the same time.</li>
	</ul>


	<p>-ahu.</p></div>
  
  </div>
  <div class="message reply" id="message-1262">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/71?r=1262#message-1262">RE: Modification of IPTC metadata changes creation date and time of the picture</a>
    -
    Added by <a class="user active" href="/users/339">Steve Wright</a> <a title="12 Sep 2012 04:51" href="/projects/exiv2/activity?from=2012-09-12">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>One thing you should know about Windows and create dates of files and folders.</p>


	<p>Bill Gates' definition of a "create date" can be summarized as "whenever a file or directory was moved to its current location or, if created there, that date and time."</p>


	<p>Another thing you should know is that, as well as I can remember, this is how Windows Explorer has worked since Windows 98 II. IMO, Microsoft would have done all of us a favor by eliminating "create date" altogether, rather than applying this absurd and illogical (again, just my opinion) definition to their operating system.</p>


	<p>Exiv2, being at its roots a tool for Unix and Linux, doesn't acknowledge "create dates" because they don't exist in the aforenamed operating systems. Therefore, you cannot change a "create date" by way of Exiv2.</p>


	<p>There are GUI tools for most recent versions of Windows to change the "create date" on a file or folder, singly or in batches. Someone even wrote a Windows version of "touch" (NB: this works best in Win32, and Cygwin BASH will not run it) that has changing the "create date" of items as one of its functions.</p>


	<p>I could say more, but as this is a 2+ year old thread I'll leave you with this much to "chew on."</p>


	<p>BZT</p></div>
  
  </div>
  <div class="message reply" id="message-1263">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/71?r=1263#message-1263">RE: Modification of IPTC metadata changes creation date and time of the picture</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="12 Sep 2012 20:53" href="/projects/exiv2/activity?from=2012-09-12">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>Steve</p>


	<p>I believe there are three timestamps associated with a file in Windows (dir/? and see the documentation about /t option)<br /><pre>
  /T          Controls which time field displayed or used for sorting
  timefield   C  Creation
              A  Last Access
              W  Last Written
</pre><br />Unix has the same concept (see man stat and the output below)</p>


	<p>The exiv2 -T option sets A and W using the meta data in Exif.Photo.DateTimeOriginal and leaves C unchanged (exiv2 did not create the file and therefore shouldn't modify C).</p>


<pre>
C:\temp&gt;for %t in (a,c,w) do dir/t%t x.jpg | findstr x
C:\temp&gt;dir/ta x.jpg   | findstr x
2012-09-08  20:56         2,038,317 x.jpg
C:\temp&gt;dir/tc x.jpg   | findstr x
2012-09-12  19:57         2,038,317 x.jpg
C:\temp&gt;dir/tw x.jpg   | findstr x
2012-09-08  18:56         2,038,317 x.jpg

C:\temp&gt;exiv2 -pa -g Date x.jpg
Exif.Image.DateTime                          Ascii      20  2012:09:08 15:25:46
Exif.Photo.DateTimeOriginal                  Ascii      20  2012:09:08 18:56:39
Exif.Photo.DateTimeDigitized                 Ascii      20  2012:09:08 18:56:39
Xmp.xmp.ModifyDate                           XmpText    25  2012-09-08T23:25:46-07:00

C:\temp&gt;exiv2 -M"set Exif.Photo.DateTimeOriginal   2012:09:10 11:12:13" x.jpg

C:\temp&gt;exiv2 -T x.jpg

C:\temp&gt;for %t in (a,c,w) do dir/t%t x.jpg | findstr x
C:\temp&gt;dir/ta x.jpg   | findstr x
2012-09-10  11:12         2,038,317 x.jpg
C:\temp&gt;dir/tc x.jpg   | findstr x
2012-09-12  19:57         2,038,317 x.jpg
C:\temp&gt;dir/tw x.jpg   | findstr x
2012-09-10  11:12         2,038,317 x.jpg
</pre>

	<p>A little "gotcha" is that UNIX and DOS file systems store their timestamps in UTC. The current exif spec (2.2) does not support timezones, so exiv2 will sets the timestamps assuming that the photograph's timezone is the same as the local computer.</p>


	<p>By way of further confusing you, I've listed the attributes using stat on cygwin.</p>


<pre>
563 rmills@rmills-laptop:/c/temp $ stat x.jpg
  File: `x.jpg'
  Size: 2038317         Blocks: 1992       IO Block: 65536  regular file
Device: 325f7090h/845115536d    Inode: 412642315857843353  Links: 1
Access: (0700/-rwx------)  Uid: (  544/Administrators)   Gid: (  513/    None)
Access: 2012-09-10 11:12:13.000000000 -0700
Modify: 2012-09-10 11:12:13.000000000 -0700
Change: 2012-09-12 20:25:31.345675300 -0700
 Birth: 2012-09-12 19:57:29.886501400 -0700
564 rmills@rmills-laptop:/c/temp $
</pre>

	<p>You'll see that he calls C=Birth (when I copied the file to c:\temp\x.jpg).  He knows the difference between Change and Modify.  Change is when I ran exiv2 -T.  Modify is the value set by exiv2 in both the A and W attributes of the file.</p>


	<p>I think you are correct in believing the "C" time is effectively when the file appeared in its parent directory.  You could even argue that this is not a file property and really extended meta-data of the directory concerning the file.  Mind you for that matter, a filename isn't a file property either - it's something in the directory.  No file knows its own name! (sounds like a line from a country'n'western song).</p></div>
  
  </div>
  <div class="message reply" id="message-1265">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/71?r=1265#message-1265">RE: Modification of IPTC metadata changes creation date and time of the picture</a>
    -
    Added by <a class="user active" href="/users/339">Steve Wright</a> <a title="15 Sep 2012 08:12" href="/projects/exiv2/activity?from=2012-09-15">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>Robin,</p>


	<p>Thank you for the reply. This is a quick and not too well-considered answer just to keep the thread going, now it's been revived.</p>


	<p>I've checked that "Birth" line in Cygwin stat, against synonymous stat commands in BASH shells in other Linuxes (Ubuntu, Fedora, Gentoo to be specific). It seems that Cygwin is the only one that has it, even on the man page. Apparently it's not a "standard" part of stat any more than the -p option (in BSD and Mac OS X) is part of rm (but you probably already knew that).</p>


	<p>This is no doubt why I phrased the absence of a "create date" in the operating systems on which Exiv2 as definitively as I did.</p>


	<p>Personally I do enough with "touch." with its various options, that the -T option completely escaped my notice. I have had trouble enough, talking of "T", to remember to include it in the XMP "Date" labels I make for my own files when application X or Y get those wrong.</p>


	<p>When I have a little more time, I'll go back and read your post in greater depth. If I have any more thoughts, I'll certainly share them here. <strong>S</strong></p>


	<p>SJW</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-4/4)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
