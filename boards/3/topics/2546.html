<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>dng metadata tag - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="DjqQerF8HsQ4mTgWty8tqyt0JWAmzBC8Gi4U9mavTs/sdzuVwwbSxG39JxoI+CGYFOZxGdcvsQbnDoR+JZapoA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>dng metadata tag</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="25 Apr 2016 20:27" href="/projects/exiv2/activity?from=2016-04-25">over 5 years</a> ago</span></p>
<div class="wiki">
<p>Hi!<br />Just recently started testing exiv2 out and learnt how to work with set/add/delete command. This speeds up things considerably when using "set" on in some cases thousands of files.I compare this to perl based exiftool and I do my work on mac os X. My workflow atm is to grab metadata information from a dng file by using the <strong>exiv2 -pt</strong> command. However not all tags are showing. Inside the dng file there is a <strong>Frame Rate</strong> and <strong>Timecode</strong> tag which I also like to be able to grab from the file and then copy recursively to around a thousand of dng files. I don,t know why they are not showing? Could it be because those two tags was inserted in the dng file with exiftool? Or is the tag not included in the specs somehow? For now I,ve been using a series of tags and adding them like this. $matx_01, $matx_02 and $wib being my variables grabbed through terminal command line. Would be nice to be able to add Frame Rate and Timecode data as well. Included a file for checking.<br /><pre>
exiv2 -M"set Exif.Image.ColorMatrix1 SRational $matx_01" -M"set Exif.Image.ColorMatrix2 SRational $matx_02" 
-M"set Exif.Image.AsShotNeutral Rational $wib" -M"set Exif.Image.UniqueCameraModel Ascii Canon EOS 5D Mark III" 
</pre></p>
</div>
<div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/992">M28-1507_1_2016-04-25_0001_C0000_000001.dng</a>    <span class="size">(1.48 MB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/992/M28-1507_1_2016-04-25_0001_C0000_000001.dng">M28-1507_1_2016-04-25_0001_C0000_000001.dng</a>  </td>
  <td>dng file</td>
  <td>
  </td>
  <td>
  </td>
</tr>
</table>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (23)</h3>
  <div class="message reply" id="message-2547">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2547#message-2547">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4035">Alan Pater</a> <a title="25 Apr 2016 20:57" href="/projects/exiv2/activity?from=2016-04-25">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>The FrameRate and TimeCodes tags are not yet included in exiv2.</p>


	<p>According to exiftool, your sample file includes TimeCodes Tag 0xc763 and FrameRate Tag 0xc764.</p>


	<p>Please open an New Issue here requesting that these tags <del>and any others that you notice missing</del> be added.</p></div>
  
  </div>
  <div class="message reply" id="message-2548">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2548#message-2548">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4035">Alan Pater</a> <a title="25 Apr 2016 21:15" href="/projects/exiv2/activity?from=2016-04-25">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>As a note, these tags appear to be included in the CinemaDNG spec.</p>


	<p><a class="external" href="http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/cinemadng/pdfs/CinemaDNG_Format_Specification_v1_1.pdf">http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/cinemadng/pdfs/CinemaDNG_Format_Specification_v1_1.pdf</a></p></div>
  
  </div>
  <div class="message reply" id="message-2549">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2549#message-2549">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="25 Apr 2016 21:17" href="/projects/exiv2/activity?from=2016-04-25">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks Alan. Just created an issue report.</p></div>
  
  </div>
  <div class="message reply" id="message-2550">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2550#message-2550">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="25 Apr 2016 21:25" href="/projects/exiv2/activity?from=2016-04-25">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Yes, you,re right, cdng. Could there be a conflict with regular dng files? From my testing files open fine in programs like acr and Davinci Resolve.</p></div>
  
  </div>
  <div class="message reply" id="message-2551">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2551#message-2551">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="25 Apr 2016 22:18" href="/projects/exiv2/activity?from=2016-04-25">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks for reporting this <a class="issue tracker-2 status-5 priority-4 priority-default closed" title="Feature: Add tags defined by Adobe in the Cinema DNG Specification  (Closed)" href="/issues/1180">#1180</a>  Thanks to Alan for his analysis.  Fix submitted <a class="changeset" title="#1180  Thank You to D Anderson for reporting this.  Thank You to Alan for his analysis." href="/projects/exiv2/repository/exiv2/revisions/4288">r4288</a>.</p></div>
  
  </div>
  <div class="message reply" id="message-2552">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2552#message-2552">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="26 Apr 2016 05:11" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Great! Thanks.</p></div>
  
  </div>
  <div class="message reply" id="message-2553">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2553#message-2553">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="26 Apr 2016 08:06" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Now I,m trying to build a static version of Robin Mills changes by running some different commands<br />Trying to follow some different steps<br /><a class="external" href="http://dev.exiv2.org/projects/exiv2/wiki/How_do_I_build_Exiv2_on_the_XYZ_platform">http://dev.exiv2.org/projects/exiv2/wiki/How_do_I_build_Exiv2_on_the_XYZ_platform</a></p>


	<p>Last attempt was this command<br /><pre>
make config
cd exiv2-0.25
make clean ; make config ; ./configure --enable-static --disable-shared ; make
</pre></p>


	<p>I always end up with this. Something with my clang version on mac OS X El Capitan. It it ain,t too much trouble maybe I could get a static version uploaded or a hint to where the solution to my problem would be?<br />Thanks.</p>


<pre>
ld: can't write output file: ../bin/exiv2 for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[1]: *** [exiv2] Error 1
make: *** [all] Error 2
</pre></div>
  
  </div>
  <div class="message reply" id="message-2554">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2554#message-2554">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="26 Apr 2016 08:56" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I've reproduced this.  I'm rather surprised and will have to investigate this evening.  I can't remember the last time I built static on the Mac.  The build server builds dynamic libraries, so you can't collect it from there.</p>


	<p>I think this might be caused by the linker attempting to link a static/i386 version of a dependant library.  For the dynamic library, we link:<pre>502 rmills@rmillsmbp:~ $ otool -L $(which exiv2)
/usr/local/bin/exiv2:
    /usr/local/lib/libexiv2.14.dylib (compatibility version 15.0.0, current version 15.0.0)
    /usr/local/lib/libintl.8.dylib (compatibility version 10.0.0, current version 10.2.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)
    /usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)
    /usr/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.8)
    /usr/local/lib/libexpat.1.dylib (compatibility version 8.0.0, current version 8.0.0)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
503 rmills@rmillsmbp:~ $ </pre>I've rebuild and installed static versions of expat and zlib.<pre>861 rmills@rmillsmbp:/usr $ find . -name "*.a" 2&gt;/dev/null | grep -e libz -e expat 
./local/lib/libexpat.a
./local/lib/libz.a
862 rmills@rmillsmbp:/usr $ find . -name "*.a" 2&gt;/dev/null | grep -e libz -e expat | xargs lipo -info
input file ./local/lib/libexpat.a is not a fat file
input file ./local/lib/libz.a is not a fat file
Non-fat file: ./local/lib/libexpat.a is architecture: x86_64
Non-fat file: ./local/lib/libz.a is architecture: x86_64
863 rmills@rmillsmbp:/usr $ </pre>I've rebuilt exiv2 without nls support to avoid depending on libiconv and libintl.  And still, it doesn't link.<pre>./configure --enable-static --disable-shared --disable-nls --without-libiconv</pre>I don't have any more time at the moment (it's 09:56 in England).  I'll investigate this evening.  Perhaps there's a linker switch you can specify (with LDFLAGS=) to give you more information.</p></div>
  
  </div>
  <div class="message reply" id="message-2555">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2555#message-2555">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="26 Apr 2016 09:02" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I got it to work after some investigation. The solution was already to be found here. Great documentation and script solutions.<br /><a class="external" href="http://clanmills.com/exiv2/clang.shtml">http://clanmills.com/exiv2/clang.shtml</a></p>


	<p>Solution creating a universal binary. So it seems anyway. Hopefully It doesn,t start searching for some dylib down the road :).<br /><pre>
cd exiv2-0.25
make clean ; make config
./configure --disable-shared --enable-static CC=clang CXX=clang++
make
</pre></p></div>
  
  </div>
  <div class="message reply" id="message-2556">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2556#message-2556">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="26 Apr 2016 09:24" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Ah, I never read my own documentation!  Glad that's fixed.   In v0.27, I'd add building static libraries to the build server's repertoire.</p></div>
  
  </div>
  <div class="message reply" id="message-2557">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2557#message-2557">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="26 Apr 2016 10:30" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>That is great! Thanks again.</p></div>
  
  </div>
  <div class="message reply" id="message-2558">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2558#message-2558">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="26 Apr 2016 19:55" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>This is all rather odd.  Your command-line failed for me <em>AND</em> now I can build with <em><strong><code>$ sudo make distclean ; make config ; ./configure --enable-static --disable-shared ; make -j </code></strong></em>  The good news is that it builds <em><strong>AND</strong></em> passes the test suite.</p>


	<p>You don't need to worry about searching for dependent dynamic libraries!  I attach my script <em><strong>depends</strong></em>  which will find the dynamic library binding stack.  You're good, there's nothing suspicious in the brew.</p>


	<p>The command <em><strong><code>$ otool -L executable</code></strong></em> shows the dependencies of an executable.  I've build bin/exiv2 (static) and bin/.libs/exiv2 (dynamic).  <pre>887 rmills@rmillsmbp:~/gnu/exiv2/ttt $ ls -alt bin/exiv2 bin/.libs/exiv2
-rwxr-xr-x+ 1 rmills  staff  2757204 26 Apr 20:19 bin/exiv2
-rwxr-xr-x+ 1 rmills  staff   218356 26 Apr 20:17 bin/.libs/exiv2
888 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre>Here's the output of tool -L on them:<pre>888 rmills@rmillsmbp:~/gnu/exiv2/ttt $ otool -L bin/exiv2
bin/exiv2:
    /usr/local/lib/libintl.8.dylib (compatibility version 10.0.0, current version 10.2.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)
    /usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)
    /usr/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.8)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
889 rmills@rmillsmbp:~/gnu/exiv2/ttt $ otool -L bin/.libs/exiv2
bin/.libs/exiv2:
    /usr/local/lib/libexiv2.14.dylib (compatibility version 15.0.0, current version 15.0.0)
    /usr/local/lib/libintl.8.dylib (compatibility version 10.0.0, current version 10.2.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)
    /usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)
    /usr/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.8)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
890 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre>As you can see, the principal difference is that bin/.libs/exiv2 requires libexiv2.14.dylib.  When you run <em><strong>depends</strong></em>, it runs otool -L on every dependency recursively.  It uses tsort to resolve the bind stack.  Voila:<pre>890 rmills@rmillsmbp:~/gnu/exiv2/ttt $ ~/bin/macosx/depends bin/.libs/exiv2
/usr/lib/system/libsystem_kernel.dylib
/usr/lib/system/libdyld.dylib
/usr/lib/system/libxpc.dylib
/usr/lib/system/libsystem_pthread.dylib
/usr/lib/system/libsystem_c.dylib
/usr/lib/system/libsystem_platform.dylib
/usr/lib/system/libsystem_blocks.dylib
/usr/lib/system/libsystem_malloc.dylib
/usr/lib/system/libsystem_asl.dylib
/usr/lib/system/libsystem_sandbox.dylib
/usr/lib/system/libcompiler_rt.dylib
/usr/lib/libSystem.B.dylib
/usr/lib/libDiagnosticMessagesClient.dylib
/usr/lib/libc++.1.dylib
/usr/lib/libauto.dylib
/usr/lib/libobjc.A.dylib
/usr/lib/system/libunwind.dylib
/usr/lib/system/libdispatch.dylib
/usr/lib/system/libmacho.dylib
/usr/lib/system/libkeymgr.dylib
/usr/lib/system/libsystem_info.dylib
/usr/lib/system/libsystem_notify.dylib
/usr/lib/system/libsystem_trace.dylib
/usr/lib/system/liblaunch.dylib
/usr/lib/system/libcommonCrypto.dylib
/usr/lib/system/libcorecrypto.dylib
/usr/lib/system/libsystem_network.dylib
/usr/lib/system/libsystem_configuration.dylib
/usr/lib/system/libsystem_coretls.dylib
/usr/lib/system/libsystem_networkextension.dylib
/usr/lib/system/libsystem_m.dylib
/usr/lib/system/libsystem_dnssd.dylib
/usr/lib/system/libsystem_secinit.dylib
/usr/lib/libc++abi.dylib
/usr/lib/system/libquarantine.dylib
/usr/lib/system/libsystem_coreservices.dylib
/usr/lib/system/libremovefile.dylib
/usr/lib/system/libcache.dylib
/usr/lib/system/libunc.dylib
/usr/lib/system/libcopyfile.dylib
/usr/lib/libz.1.dylib
/usr/lib/libicucore.A.dylib
/usr/lib/libiconv.2.dylib
/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
/usr/local/lib/libintl.8.dylib
/usr/local/lib/libz.1.dylib
/usr/local/lib/libexpat.1.dylib
/usr/local/lib/libexiv2.14.dylib
/Users/rmills/gnu/exiv2/ttt/bin/.libs/exiv2
891 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre>As you can see, it's only at the top of the stack (libintl.8.dylib and later) that you enter the domain of non-system libraries.  Notice the stack includes /usr/lib/libz.1.dylib (required by system libraries) and /usr/local/libz.1.dylib required by libexiv2.14.dylib.  If <em><strong>depends</strong></em> works well for you and you find it useful, then be assured that I wrote this one morning when I was bored.  If it crashes miserably and doesn't work, then I've no idea who wrote it!</p>


	<p>At the moment, our buildserver's daily build is MSVC:2005/8/10/12/13/15 dynamic 32/64 and Cygwin/Linux/MinGW/MacOS-X: dynamic/64.  For v0.27, I'll probably expand that to include some static builds (and perhaps some 32bit Unix builds).</p></div>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/993">depends.py</a>    <span class="size">(2.73 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/993/depends.py">depends.py</a>  </td>
  <td></td>
  <td>
  </td>
  <td>
  </td>
</tr>
</table>
</div>

  </div>
  <div class="message reply" id="message-2559">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2559#message-2559">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="26 Apr 2016 22:30" href="/projects/exiv2/activity?from=2016-04-26">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Very nice stuff.</p>


	<p>Youre command <strong>$ sudo make distclean ; make config ; ./configure --enable-static --disable-shared ; make -j</strong> works great here. Produces the same universal build as with the clang command I used. <strong>./configure --disable-shared --enable-static CC=clang CXX=clang++</strong><br />Didn,t know about the <strong>$ otool -L executable</strong>. That,s a nice little command.<br />Just tried it and got these babies in terminal<br /><pre>
/usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)
/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)
/usr/lib/libexpat.1.dylib (compatibility version 7.0.0, current version 8.0.0)
/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)
/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
</pre></p>


	<p>Exiv2 is still considered static although showing dylib dependencies? Just tried another mac and exiv2 seems to work fine and those dependenices were on that machine. Maybe Xcode includes them?</p>


	<p>Curious about the <strong>bin/.libs/exiv2</strong>(dynamic). Why bother with dynamic builds? Faster? This is a noob question. Static seems simplier to work with.</p>


	<p>THe purpose of your depends script is to tsort the dependencies in various library folders? For checking stuff or does it affect exiv2 functions?</p></div>
  
  </div>
  <div class="message reply" id="message-2560">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2560#message-2560">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="27 Apr 2016 07:39" href="/projects/exiv2/activity?from=2016-04-27">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>When you link dynamic libraries, your executable is much smaller as it doesn't include the library.  The library is a shared file.  So if you're linking a small application and a single library, static is simple and easy to use.  However for larger applications which use many libraries, static is better avoided. <pre>887 rmills@rmillsmbp:~/gnu/exiv2/ttt $ ls -alt bin/exiv2 bin/.libs/exiv2
-rwxr-xr-x+ 1 rmills  staff  2757204 26 Apr 20:19 bin/exiv2
-rwxr-xr-x+ 1 rmills  staff   218356 26 Apr 20:17 bin/.libs/exiv2
888 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre>In this case you have linked exiv2 into your application, however the exiv2 code links expat, libz, libintl and libiconv dynamically.</p>


	<p>Run <em><strong>depends</strong></em> on Safari. <pre>933 rmills@rmillsmbp:~/gnu/exiv2/ttt $ depends /Applications/Safari.app/Contents/MacOS/Safari | wc
     274     274   19157
934 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre><em><strong>274</strong></em> dynamic libraries.  I think Apple like dynamic libraries!</p>


	<p><em><strong>depends</strong></em> has nothing to do with exiv2.  It's a general purpose script that I find useful.  Another useful tip when debugging dynamic library loading issues is to set the environment string DYLD_PRINT_LIBRARIES when running an executable.  See man (1) dyld.  This causes the loader to list libraries as they are loaded:<pre>934 rmills@rmillsmbp:~/gnu/exiv2/ttt $ DYLD_PRINT_LIBRARIES=1 exiv2 ~/Downloads/*.dng
dyld: loaded: /usr/local/bin/exiv2
dyld: loaded: /usr/local/lib/libexiv2.14.dylib
dyld: loaded: /usr/local/lib/libintl.8.dylib
dyld: loaded: /usr/lib/libSystem.B.dylib
dyld: loaded: /usr/lib/libiconv.2.dylib
dyld: loaded: /usr/local/lib/libz.1.dylib
dyld: loaded: /usr/lib/libc++.1.dylib
dyld: loaded: /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
........
dyld: loaded: /usr/lib/libz.1.dylib
File name       : /Users/rmills/Downloads/M28-1507_1_2016-04-25_0001_C0000_000001.dng
...
935 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre>Anyway, we've wandered off topic into the subject of the dynamic loader on MacOS-X.</p>


	<p>I added 3 other CDNG Tags to exiv2 last night.  Regrettably, I can't find a file to test those tags.  Ssshhhhs.  The samples on <a class="external" href="http://www.cinema-dng.com">http://www.cinema-dng.com</a> are hosted by Vimeo and I don't know how to download a streaming link into a file!  Anyway, I have added the code for the 3 tags, and if you know how to test them I'd appreciate your help.</p>


	<p>It would appear that CDNG is being actively developed and there may be many more tags to be added.  If this is so, we need another issue (target = 1.0) to investigate and deal with them.</p></div>
  
  </div>
  <div class="message reply" id="message-2561">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2561#message-2561">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="27 Apr 2016 09:23" href="/projects/exiv2/activity?from=2016-04-27">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks for claryfying a thing or two. Dynamic=runtime with some overhead but smaller. Static=Compile time etc, was something I found from watching a youtube vid yesterday :).<br />Just checked some cdng samples from here <br /><a class="external" href="http://nofilmschool.com/2012/08/blackmagic-john-brawley-release-raw-cinema-camera-files-for-download">http://nofilmschool.com/2012/08/blackmagic-john-brawley-release-raw-cinema-camera-files-for-download</a><br />but couldn,t find the additional tags. Probably not implemented. Wasn,t in metadata when checking with exiftool either. I,ll see if I can find some other samples to verify the tags actually working.<br />One problem is inconsistency of how cdng and dng specs are used. Different NLE will behave different depending on what they choose to respect in the dng/cdng specs.</p>


	<p>note. I might have found a "set" bug regarding the default metadata tag. Or did you choose to make this tag non writable?<br />issue here <br /><a class="external" href="http://dev.exiv2.org/issues/1180">http://dev.exiv2.org/issues/1180</a></p></div>
  
  </div>
  <div class="message reply" id="message-2562">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2562#message-2562">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="27 Apr 2016 15:46" href="/projects/exiv2/activity?from=2016-04-27">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>So got the clang complaining again and here was the solution again. For anybody building static builds.</p>


	<p>For this to work<br /><pre>
cd exiv2-0.25
make clean ; make config
./configure --disable-shared --enable-static CC=clang CXX=clang++
make
</pre></p>


	<p>Had to add sudo on make. deleted make config as well.<br /><pre>
cd exiv2-0.25
make clean ; 
./configure --disable-shared --enable-static CC=clang CXX=clang++
sudo make
</pre></p></div>
  
  </div>
  <div class="message reply" id="message-2563">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2563#message-2563">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="01 May 2016 20:43" href="/projects/exiv2/activity?from=2016-05-01">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Daniel</p>


	<p>I think you should put the sudo on <em><strong><pre><code>$ sudo make distclean </code></pre></strong></em> as this will really clean up the system  Then regenerate the ./configure script with: <em><strong><pre><code>$ make config </code></pre></strong></em> And then configure and build with: <em><strong><pre><code>./configure --disable-shared --enable-static CC=clang CXX=clang++; make -j ; sudo make install ; make -j samples</code></pre></strong></em></p>


	<p>There is something not right about the build when you move between versions of the library.  I suspect we might be reading the include files from /usr/local/include/exiv2 and not &lt;exiv2dir&gt;/include/exiv2.  I've noticed that when I have to build v0.23 or v0.24, things are often not OK when I go back to building the trunk.  I'll have a sniff into this one day soon.</p>


	<p>I hope you're having a nice long weekend.  Weather's beautiful in England.</p></div>
  
  </div>
  <div class="message reply" id="message-2564">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2564#message-2564">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="02 May 2016 07:55" href="/projects/exiv2/activity?from=2016-05-02">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I've realised what is causing this!  The autotools build exiv2 into &lt;exiv2dir&gt;/bin/exiv2.  However when building shared, libtool builds the binary into &lt;exiv2dir&gt;/bin/.libs/exiv2 and generates a bash script &lt;exiv2dir&gt;/bin/exiv2 which has some magic with which it knows how to execute bin/.libs/exiv2 without installing it into /usr/local/bin/exiv2 (and uses the library bin/.libs/libexiv2.14.dylib instead of /usr/local/lib/libexiv2.14.dylib).</p>


	<p>When you perform a static build, it tries to do an incremental link.  When the linker discovers the bash script in bin/exiv2 it correctly says "Not an x86_64 executable".  Regrettably, he doesn't report which file, or say "what's this bash script doing here?".    I think this is a bug in autotools.  For sure, autotools and MacOS-X are not happy bed-fellows.  There are also issues with the .lo and .la files.  These are more autotools/libtool magic which are getting into conflict with static/shared builds.  Grrrrr.  What a mess.</p>


	<p>The bash script is horrible mistake on MacOS-X.  It might work on Linux <em>(although I suspect it has identical issues)</em>.  The correct solution on MacOS-X is to to build @rpath into the executable's install_name table.  This is exactly what the CMake build does:<pre>1041 rmills@rmillsmbp:~/gnu/exiv2/ttt/build $ otool -L bin/exiv2
bin/exiv2:
    @rpath/libexiv2.14.dylib (compatibility version 14.0.0, current version 14.0.0)
    /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)
1042 rmills@rmillsmbp:~/gnu/exiv2/ttt/build $ </pre>And the bash script is totally broken on all platforms from the debugger.  Debugging: <strong>shared:</strong>   <em><code>bin/.libs/exiv2</code></em> <strong>static:</strong>  <em><code>bin/exiv2</code></em></p>


	<p>I'm not too sure why your work-around with <em><strong><code>CC=clang CXX=clang++</code></strong></em> works for you.  Maybe autotools has hidden magic to clean up &lt;exiv2dir&gt;/bin when you mention the clang monster by name.  <em>"Oh, mighty dragon of the Apple build, please weave your magic spells"</em>.</p>


	<p>I tried updating Makefile and config/Makefile.in to cleanup bin/.libs and .lo and .la files.  That totally broke the build, so I haven't submitted that.  We'll be discussing this again.</p></div>
  
  </div>
  <div class="message reply" id="message-2565">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2565#message-2565">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="02 May 2016 20:30" href="/projects/exiv2/activity?from=2016-05-02">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>hehe, that,s a lot of philosophy around the static building :). I actually have no idea what makes this work on my mac but it does. Or, at least the functions I need for now. I tested the binary on a friends computer as well so it seems ok. Only caveat is not being able to write "subimage" default scale tag but I used the 2014 build as a workaround for now. Are you sure There isn,t a simple stop for writing subimage tags? I know exiftool doesn,t allow all tags to be written.<br />Sweden is a showing the best of weather right now. Just got back from photographing a short eared owl which came rather close. Going back tomorrow.</p></div>
  
  </div>
  <div class="message reply" id="message-2566">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2566#message-2566">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="02 May 2016 21:22" href="/projects/exiv2/activity?from=2016-05-02">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>I thought you were in Sweden.  I've been to your beautiful country many times.  I worked for a Finnish company for 7 years.  My wife and I are planning a trip on my friend's boat to Åland at the end of July.  Enjoy your photography and being back at work.  Summer's almost here.</p>


	<p>I'm not a metadata engineer and didn't write Exiv2.  However I've learnt a lot about the structure of image files by adding the option -pS in v0.25 and -pR (on the trunk) and will be in v0.26.  This recursively dumps tiff and other image structures.  I've just found and fixed a bug in -pR using your file:  M28-1507_1_2016-04-27_0001_C0000_000002.dng.  <a class="changeset" title="#1108 Discovered another embedded tiff tag SubIFDs" href="/projects/exiv2/repository/exiv2/revisions/4295">r4295</a>.  I've attach the output of -pR using <a class="changeset" title="#1108 Discovered another embedded tiff tag SubIFDs" href="/projects/exiv2/repository/exiv2/revisions/4295">r4295</a>.  So now I know the source of the data in Exif.SubImage1.xxx.</p>


	<p>I've opened a new issue <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: Exiv2 is unable to update any Exif.SubImageN.xxx tag such as Exif.SubImage1.DefaultScale in a DNG (Closed)" href="/issues/1182">#1182</a>. <em><strong>"Exiv2 is unable to update any Exif.SubImageN.xxx tag such as Exif.SubImage1.DefaultScale in a DNG"</strong></em>.  If it's easy, I will fix it.  I may have to defer it as I have a lot to finish for v0.26 code complete in June.</p>


	<p><strong>About the static build</strong></p>


	<p>Can you try some little tests for me with the build (preferably on a clean machine)</p>


	<ol>
	<li>Build shared (the default)</li>
		<li>make clean</li>
		<li>build static (don't use your CC=clang magic)</li>
	</ol>


	<p>Builds or moans about x86_64?<br />Delete bin/exiv2 and build again. Builds, moans or what?</p>


	<p>Robin</p>


	<p><strong>Dumping your DNG with -pR using <a class="changeset" title="#1108 Discovered another embedded tiff tag SubIFDs" href="/projects/exiv2/repository/exiv2/revisions/4295">r4295</a></strong></p>


	<p>There's a recursive TIFF in your file at offset 842.</p>


<pre>STRUCTURE OF TIFF FILE (II): /Users/rmills/Downloads/M28-1507_1_2016-04-27_0001_C0000_000002.dng
 address |    tag                           |      type |    count |    offset | value
      10 | 0x00fe NewSubfileType            |      LONG |        1 |         1 | 1
      22 | 0x0100 ImageWidth                |      LONG |        1 |       128 | 128
      34 | 0x0101 ImageLength               |      LONG |        1 |        96 | 96
      46 | 0x0102 BitsPerSample             |     SHORT |        3 |       470 | 8 8 8
      58 | 0x0103 Compression               |     SHORT |        1 |         1 | 1
      70 | 0x0106 PhotometricInterpretation |     SHORT |        1 |         2 | 2
      82 | 0x010e ImageDescription          |     ASCII |        1 |         0 | 
      94 | 0x010f Make                      |     ASCII |        6 |       476 | Canon
     106 | 0x0110 Model                     |     ASCII |        8 |       482 | Canikon
     118 | 0x0111 StripOffsets              |      LONG |        1 |      1422 | 1422
     130 | 0x0112 Orientation               |     SHORT |        1 |         1 | 1
     142 | 0x0115 SamplesPerPixel           |     SHORT |        1 |         3 | 3
     154 | 0x0116 RowsPerStrip              |     SHORT |        1 |        96 | 96
     166 | 0x0117 StripByteCounts           |      LONG |        1 |     36864 | 36864
     178 | 0x011c PlanarConfiguration       |     SHORT |        1 |         1 | 1
     190 | 0x0131 Software                  |     ASCII |       14 |       490 | Magic Lantern
     202 | 0x0132 DateTime                  |     ASCII |       20 |       504 | ...................
     214 | 0x013b Artist                    |     ASCII |        1 |         0 | 
     226 | 0x014a SubIFDs                   |      LONG |        1 |       842 | 842
  STRUCTURE OF TIFF FILE (II): /Users/rmills/Downloads/M28-1507_1_2016-04-27_0001_C0000_000002.dng
   address |    tag                           |      type |    count |    offset | value
       844 | 0x00fe NewSubfileType            |      LONG |        1 |         0 | 0
       856 | 0x0100 ImageWidth                |      LONG |        1 |      1600 | 1600
       868 | 0x0101 ImageLength               |      LONG |        1 |       540 | 540
       880 | 0x0102 BitsPerSample             |     SHORT |        1 |        14 | 14
       892 | 0x0103 Compression               |     SHORT |        1 |         1 | 1
       904 | 0x0106 PhotometricInterpretation |     SHORT |        1 |     32803 | 32803
       916 | 0x0111 StripOffsets              |      LONG |        1 |     38286 | 38286
       928 | 0x0115 SamplesPerPixel           |     SHORT |        1 |         1 | 1
       940 | 0x0116 RowsPerStrip              |     SHORT |        1 |       540 | 540
       952 | 0x0117 StripByteCounts           |      LONG |        1 |   1515520 | 1515520
       964 | 0x011a XResolution               |  RATIONAL |        1 |      1100 | 1100/0
       976 | 0x011b YResolution               |  RATIONAL |        1 |      1108 | 1108/0
       988 | 0x011c PlanarConfiguration       |     SHORT |        1 |         1 | 1
      1000 | 0x0128 ResolutionUnit            |     SHORT |        1 |         2 | 2
      1012 | 0x828d CFARepeatPatternDim       |     SHORT |        2 |    131074 | 2 2
      1024 | 0x828e CFAPattern                |      BYTE |        4 |  33620224 | ....
      1036 | 0xc61a BlackLevel                |      LONG |        1 |      2047 | 2047
      1048 | 0xc61d WhiteLevel                |      LONG |        1 |     15000 | 15000
      1060 | 0xc61f DefaultCropOrigin         |      LONG |        2 |      1116 | 0 0
      1072 | 0xc620 DefaultCropSize           |      LONG |        2 |      1124 | 1600 540
      1084 | 0xc68d ActiveArea                |      LONG |        4 |      1132 | 0 0 540 1600
  END /Users/rmills/Downloads/M28-1507_1_2016-04-27_0001_C0000_000002.dng
     238 | 0x8298 Copyright                 |     ASCII |        1 |         0 | 
     250 | 0x8769 ExifTag                   |      LONG |        1 |      1148 | 1148
  STRUCTURE OF TIFF FILE (II): /Users/rmills/Downloads/M28-1507_1_2016-04-27_0001_C0000_000002.dng
   address |    tag                           |      type |    count |    offset | value
      1150 | 0x829a ExposureTime              |  RATIONAL |        1 |      1346 | 1346/0
      1162 | 0x829d FNumber                   |  RATIONAL |        1 |      1354 | 1354/0
      1174 | 0x8822 ExposureProgram           |     SHORT |        1 |         0 | 0
      1186 | 0x8827 ISOSpeedRatings           |     SHORT |        1 |         0 | 0
      1198 | 0x9000 ExifVersion               | UNDEFINED |        4 | 825373232 | 0221
      1210 | 0x9003 DateTimeOriginal          |     ASCII |       20 |      1362 | ...................
      1222 | 0x9201 ShutterSpeedValue         | SRATIONAL |        1 |      1382 | 1382/0
      1234 | 0x9202 ApertureValue             |  RATIONAL |        1 |      1390 | 1390/0
      1246 | 0x9204 ExposureBiasValue         | SRATIONAL |        1 |      1398 | 1398/0
      1258 | 0x9205 MaxApertureValue          |  RATIONAL |        1 |      1406 | 1406/0
      1270 | 0x9207 MeteringMode              |     SHORT |        1 |         0 | 0
      1282 | 0x9209 Flash                     |     SHORT |        1 |         0 | 0
      1294 | 0x920a FocalLength               |  RATIONAL |        1 |      1414 | 1414/0
      1306 | 0x9290 SubSecTime                |     ASCII |        4 |         0 | ...
      1318 | 0x9291 SubSecTimeOriginal        |     ASCII |        4 |         0 | ...
      1330 | 0xa405 FocalLengthIn35mmFilm     |     SHORT |        1 |         0 | 0
  END /Users/rmills/Downloads/M28-1507_1_2016-04-27_0001_C0000_000002.dng
     262 | 0x9216 TIFFEPStandardID          |      BYTE |        4 |         1 | ...
     274 | 0xc612 DNGVersion                |      BYTE |        4 |       257 | ...
     286 | 0xc613 DNGBackwardVersion        |      BYTE |        4 |       257 | ...
     298 | 0xc614 UniqueCameraModel         |     ASCII |       22 |       524 | Canon EOS 5D Mark III
     310 | 0xc61e DefaultScale              |  RATIONAL |        2 |       546 | 10/0 9/0
     322 | 0xc61e DefaultScale              |  RATIONAL |        2 |       562 | 5/0 4/0
     334 | 0xc61e DefaultScale              |  RATIONAL |        2 |       578 | 1/0 2/0
     346 | 0xc61e DefaultScale              |  RATIONAL |        2 |       594 | 1/0 1/0
     358 | 0xc621 ColorMatrix1              | SRATIONAL |        9 |       610 | 3617/0 5000/0 64123/65535 10000/0 65533/65535 ...
     370 | 0xc622 ColorMatrix2              | SRATIONAL |        9 |       682 | 3361/0 5000/0 65409/65535 2000/0 64573/65535 ...
     382 | 0xc627 AnalogBalance             |  RATIONAL |        3 |       754 | 1/0 1/0 1/0
     394 | 0xc628 AsShotNeutral             |  RATIONAL |        3 |       778 | 7681/0 13200/0 1/0
     406 | 0xc62a BaselineExposure          | SRATIONAL |        1 |       802 | 802/0
     418 | 0xc62b BaselineNoise             |  RATIONAL |        1 |       810 | 810/0
     430 | 0xc62c BaselineSharpness         |  RATIONAL |        1 |       818 | 818/0
     442 | 0xc62e LinearResponseLimit       |  RATIONAL |        1 |       826 | 826/0
     454 | 0xc764 FrameRate                 | SRATIONAL |        1 |       834 | 834/0
END /Users/rmills/Downloads/M28-1507_1_2016-04-27_0001_C0000_000002.dng</pre><pre>1091 rmills@rmillsmbp:~/gnu/exiv2/ttt $ exiv2 -pa --grep Subimage/i ~/Downloads/M28-1507_1_2016-04-27_0001_C0000_000002.dng  
Exif.SubImage1.NewSubfileType                Long        1  Primary image
Exif.SubImage1.ImageWidth                    Long        1  1600
Exif.SubImage1.ImageLength                   Long        1  540
Exif.SubImage1.BitsPerSample                 Short       1  14
Exif.SubImage1.Compression                   Short       1  Uncompressed
Exif.SubImage1.PhotometricInterpretation     Short       1  Color Filter Array
Exif.SubImage1.StripOffsets                  Long        1  38286
Exif.SubImage1.SamplesPerPixel               Short       1  1
Exif.SubImage1.RowsPerStrip                  Short       1  540
Exif.SubImage1.StripByteCounts               Long        1  1515520
Exif.SubImage1.XResolution                   Rational    1  180
Exif.SubImage1.YResolution                   Rational    1  180
Exif.SubImage1.PlanarConfiguration           Short       1  1
Exif.SubImage1.ResolutionUnit                Short       1  inch
Exif.SubImage1.CFARepeatPatternDim           Short       2  2 2
Exif.SubImage1.CFAPattern                    Byte        4  0 1 1 2
Exif.SubImage1.BlackLevel                    Long        1  2047
Exif.SubImage1.WhiteLevel                    Long        1  15000
Exif.SubImage1.DefaultCropOrigin             Long        2  0 0
Exif.SubImage1.DefaultCropSize               Long        2  1600 540
Exif.SubImage1.ActiveArea                    Long        4  0 0 540 1600
1092 rmills@rmillsmbp:~/gnu/exiv2/ttt $ </pre></div>
  
  </div>
  <div class="message reply" id="message-2567">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2567#message-2567">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="03 May 2016 07:27" href="/projects/exiv2/activity?from=2016-05-03">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Well now everything seems to work as it,s supposed to. All kinds of goodies in the bin folder and no complaining. I attached the terminal output(attached .txt files) from compiling as you described. Downloaded a fresh <strong>exiv2-0.25</strong> build and started out like this.</p>


<pre>
cd exiv2-0.25
sudo make distclean 
make config 
./configure --disable-shared --enable-static ; make -j ; sudo make install ; make -j samples
</pre>

	<p>I then ran the same command again after erasing all files from bin folder and it recreated all files without complaining.<br />Please check the attached .txt files for further troubleshooting.</p>


	<p>See you guys in Åland then ;). I actually never been to Åland. Been to Öland and Gotland but never Åland.</p></div>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/998">Terminal output.txt</a>    <span class="size">(61.8 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/998/Terminal%20output.txt">Terminal output.txt</a>  </td>
  <td>First run on a clean download</td>
  <td>
  </td>
  <td>
  </td>
</tr>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/999">Terminal output_make_clean.txt</a>    <span class="size">(66.6 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/999/Terminal%20output_make_clean.txt">Terminal output_make_clean.txt</a>  </td>
  <td>Second run</td>
  <td>
  </td>
  <td>
  </td>
</tr>
</table>
</div>

  </div>
  <div class="message reply" id="message-2568">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2568#message-2568">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="03 May 2016 10:08" href="/projects/exiv2/activity?from=2016-05-03">over 5 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks for doing this.  Looks like a happy result.  There is code in Makefile (and config/Makefile.in) to remove bin.  Something wrong.  I'll investigate.</p>


	<p>I looked at the code for SubImage1.  Andreas made major changes concerning sub images last year.  Maybe it worked before those changes.  I'll investigate.  Gotta get on with house building today.</p>


	<p>Our Finnish friend Veli-Veikko keeps his boat in Parainen and we've sailed in the Archipelago about 6 times with him.  We only went twice while we lived in Silicon Valley for 14 years.  We're planning to go boating/boozing with him week beginning July 30.  You can get the ferry from Kapellskar (or Stockholm) to Mariehamn.  It's beautiful in Åland.  <a class="external" href="http://clanmills.com/2002/Finland/">http://clanmills.com/2002/Finland/</a></p></div>
  
  </div>
  <div class="message reply" id="message-2569">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2546?r=2569#message-2569">RE: dng metadata tag</a>
    -
    Added by <a class="user active" href="/users/4659">D Anderson</a> <a title="03 May 2016 13:14" href="/projects/exiv2/activity?from=2016-05-03">over 5 years</a> ago
  </h4>
  <div class="wiki"><blockquote>

	<p>There is code in Makefile (and config/Makefile.in) to remove bin. Something wrong. I'll investigate.</p>


</blockquote>

	<p>You,re right. Don,t know why I emptied bin folder manually. Everything seems in order. Bin is erased as well. Sorry</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-23/23)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
