<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Deleting the makernotes with exiv2.exe - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="MQpoS7kTPjVHzqrwGpJtfngHDOTj6oGB/B/xHjcm44bTR8Oky2nyNRKqtfylRWFNR5VYnRIJIDsBP2GWdB8E6Q==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>Deleting the makernotes with exiv2.exe</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/146">Anonymous Poster</a> <a title="18 Mar 2009 09:11" href="/projects/exiv2/activity?from=2009-03-18">over 12 years</a> ago</span></p>
<div class="wiki">
<p>Hi,<br />I am using exiv2.exe v0.18 both in Windows Vista and XP.<br />I have been using JPG pictures taken with 2 different camera models:<br />Canon PowerShot G6<br />Olympus u1030SW</p>


	<p>I have been trying to delete the Exif.Photo.MakerNote.</p>


	<p><code>dosprompt> exiv2 -M"del Exif.Photo.MakerNote" mypicture.jpg</code></p>


	<p>If the picture is taken with Canon, I get errors on some pictures, not all:<br />Error: Directory Canon: Next pointer is out of bounds; ignored.<br />Error: Directory Canon: Next pointer is out of bounds; ignored.</p>


	<p>If taken with Olympus, the warnings are like:<br />Warning: Directory OlympusCs, entry 0x0101: Strip 0 is outside of the data area; ignored.<br />Warning: Directory OlympusCs, entry 0x0101: Strip 0 is outside of the data area; ignored.</p>


	<p>In both cases the result is same: the Exif.Photo.MakerNote is not deleted, when<br />checking with:<br /><code>dosprompt> exiv2.exe -pt mypicture.jpg</code></p>


	<p><strong>However if I do the following 2 steps to the picture:</strong><br /><code>dosprompt> exiv2.exe -M"del Exif.Image.Make" mypicture.jpg</code><br />  <em>Here are get the same errors and warnings as mentioned above for both pictures.</em><br />  <em>Result is that the Exif.Image.Make is deleted from the picture.</em></p>


	<p><code>dosprompt> exiv2.exe -M"del Exif.Photo.MakerNote" mypicture.jpg</code><br />  <em>No errors or warnings here and as as result the makernote has been deleted from the pictures.</em></p>


	<p>Am I trying to delete the makernotes in the wrong way or is this a bug ?</p>


	<p>Best regards</p>


	<p>*Jussi Virtanen</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (4)</h3>
  <div class="message reply" id="message-116">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/115?r=116#message-116">RE: Deleting the makernotes with exiv2.exe</a>
    -
    Added by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="19 Mar 2009 02:28" href="/projects/exiv2/activity?from=2009-03-19">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Jussi,</p>


<blockquote>

	<p>I have been trying to delete the Exif.Photo.MakerNote.</p>


	<p><code>dosprompt> exiv2 -M"del Exif.Photo.MakerNote" mypicture.jpg</code></p>


</blockquote>

	<p>Yes, this one needs to be removed, but that's not sufficient. Exiv2 will reconstruct the makernote from the decoded makernote tags (Exif.Canon*.* or Exif.Olympus*.*) if there are any. <br />You need to remove all of these as well.</p>


<blockquote>

	<p>If the picture is taken with Canon, I get errors on some pictures, not all:<br />Error: Directory Canon: Next pointer is out of bounds; ignored.<br />Error: Directory Canon: Next pointer is out of bounds; ignored.</p>


	<p>If taken with Olympus, the warnings are like:<br />Warning: Directory OlympusCs, entry 0x0101: Strip 0 is outside of the data area; ignored.<br />Warning: Directory OlympusCs, entry 0x0101: Strip 0 is outside of the data area; ignored.</p>


</blockquote>

	<p>You can ignore these errors and warnings. They just mean that the makernote structures are not 100% valid TIFF structures.</p>


<blockquote>

	<p><strong>However if I do the following 2 steps to the picture:</strong><br /><code>dosprompt> exiv2.exe -M"del Exif.Image.Make" mypicture.jpg</code><br /><em>Here are get the same errors and warnings as mentioned above for both pictures.</em><br /><em>Result is that the Exif.Image.Make is deleted from the picture.</em></p>


</blockquote>

	<p>Exiv2 uses the Exif.Image.Make tag to determine the makernote type. If there is no such tag, it is not able to decode the makernote. In other words, if you run exiv2 -pt after this, you'll notice that there are no decoded Makernote tags anymore. That's why now it is sufficient to delete the Exif.Photo.MakerNote tag.</p>


	<p>-ahu.</p></div>
  
  </div>
  <div class="message reply" id="message-117">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/115?r=117#message-117">RE: Deleting the makernotes with exiv2.exe</a>
    -
    Added by <a class="user active" href="/users/146">Anonymous Poster</a> <a title="19 Mar 2009 07:01" href="/projects/exiv2/activity?from=2009-03-19">over 12 years</a> ago
  </h4>
  <div class="wiki"><p>Hi,<br />Thanks for the quick reply.</p>


	<p>In the original mail my original intent was not really clear.<br />What I want to achieve is deleting all the tags that are decoded as part of the Makernote.<br />(so exactly the result of the deletion command after the Exif.Image.Make is deleted)</p>


	<p>I got the impression reading information about makernotes that Exif.Photo.MakerNote is basicly a "chunk of data", <br />which is decoded depending on the value of Exif.Image.Make. By deleting the Exif.Photo.MakerNote I would infact <br />delete the whole data chunk and thus all the manufacturer specific tags inside it.</p>


	<p>I would not like to start listing each and every tag that are olympus or canon specific in <br />the deletion command. Already tried to use wildcards in the deletion but the exiv2 didnt support them.<br />Is there any other user friendly way (except deleting first the Exif.Image.Make) ?</p>


	<p>Best Regards,<br />*Jussi Virtanen</p></div>
  
  </div>
  <div class="message reply" id="message-118">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/115?r=118#message-118">RE: Deleting the makernotes with exiv2.exe</a>
    -
    Added by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="19 Mar 2009 08:13" href="/projects/exiv2/activity?from=2009-03-19">over 12 years</a> ago
  </h4>
  <div class="wiki"><blockquote>

	<p>I would not like to start listing each and every tag that are olympus or canon specific in <br />the deletion command. Already tried to use wildcards in the deletion but the exiv2 didnt support them.<br />Is there any other user friendly way (except deleting first the Exif.Image.Make) ?</p>


</blockquote>

	<p>No, there isn't, you've found the quickest way.</p>


	<p>-ahu.</p></div>
  
  </div>
  <div class="message reply" id="message-967">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/115?r=967#message-967">RE: Deleting the makernotes with exiv2.exe</a>
    -
    Added by <a class="user active" href="/users/339">Steve Wright</a> <a title="14 Sep 2011 06:53" href="/projects/exiv2/activity?from=2011-09-14">about 10 years</a> ago
  </h4>
  <div class="wiki"><p>I realize this is a very old thread, but in case anyone's wondering whether or not this (deleting Exif.Photo.MakerNote) works with other Exif errors, it does with one, specifically "Directory Iop ... considered invalid; not read".</p>


	<p>So it turns out there IS a workaround for the issue on <a class="external" href="http://uk.groups.yahoo.com/group/exiv2/message/158?var=1&#38;p=1">http://uk.groups.yahoo.com/group/exiv2/message/158?var=1&#38;p=1</a> after all.</p>


	<p>-SW</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-4/4)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
