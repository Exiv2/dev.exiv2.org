<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>mmap and exiv2 - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="XdTMsXaHFQ6dbpqhTIZKmGOCjZjpP0qXTNJbTHKyWge/mWdeBP3ZDsgKha3zUUarXBDZ4Rjc6y2x8svEMYu9aA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>mmap and exiv2</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 06:38" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago</span></p>
<div class="wiki">
<p>I received this email from Terence Tay at AlienSkin software:</p>


<blockquote>

	<p>We ran into an exiv2 issue that I thought I'd run by you. The issue is the use of mmap in exiv2. I understand that this improves performance and that's great.</p>


	<p>But we've noticed that when the file is on a network-mounted drive (like a Windows share), memory mapping is not reliable because the network is not reliable. Typically, users may put their laptops to sleep, or pull out a network cable, or the drive may disconnect or any number of things could happen that causes the connection between the network drive and the program to break. We noticed that when this happens, mmap generates SIGBUS, which then crashes the program. Typical C-style FILE* operations will fail too, but they return an error code and do not crash the program.</p>


	<p>As a command-line tool, most exiv2 users probably never see this problem. But we've incorporated it into our products and we expect the program to be running continuously for hours and days. Under these stressful conditions, we experience this mmap crash a few times a week.</p>


	<p>Do you have any thoughts about this? Have you heard of this from other users?</p>


</blockquote>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (11)</h3>
  <div class="message reply" id="message-2757">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2757#message-2757">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 06:39" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>My Reply:</p>


	<p>This mmap issue is interesting.  As you say, servers and other processes can be alive for long durations during which the network can disappear and result in signals.  There is a build switch EXV_HAVE_MMAP which is set automatically by the build environment (CMake or AutoTools) in the file exv_conf.h (or exv_msvc.h for MSVC).</p>


	<p>You can unset it explicitly in include/exiv2/config.h.  Our code in include/exiv2/config.h reads the generated file exv_conf.h which defines EXV_HAVE_MMAP.  Go to the bottom of include/exiv2/config.h and add the code:</p>


	<p>#ifdef EXV_HAVE_MMAP<br />#undef EXV_HAVE_MMAP<br />#endif</p>


	<p>My other suggestion is to avoid keeping files open for longer than necessary.  Open a file, read the metadata and close it again.  When you want to update the metadata, open/write/close.  We can discuss this in more detail if you wish to pursue this idea.</p>


	<p>I can only recall a couple of discussions about mmap and remarkably they arrived on the same day almost 2 years ago.  There was a very long discussion about mmap from Ubuntu on a Samba/Windows Server.  Thomas (a team member) and Thoralf (the user) discussed it for ages.  <a class="external" href="http://dev.exiv2.org/issues/1043">http://dev.exiv2.org/issues/1043</a>  Rebooting the server fixed it.  Something similar was discussed here: <a class="external" href="http://dev.exiv2.org/issues/1042">http://dev.exiv2.org/issues/1042</a></p></div>
  
  </div>
  <div class="message reply" id="message-2758">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2758#message-2758">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 06:40" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>Terence replied:</p>


<blockquote>

	<p>I read somewhere that when EXV_HAVE_MMAP is unset, the entire file gets read into memory and there is a major speed problem?</p>


	<p>We used a similar workaround in our code to read the entire image to RAM before calling exiv2. This fixes the crashes but speed was awfully slow. Not to mention lots of RAM used since our program multithreads and reads multiple images simultaneously.</p>


</blockquote></div>
  
  </div>
  <div class="message reply" id="message-2759">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2759#message-2759">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 06:41" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>My Reply:</p>


	<p>In general, we never read the whole file.  We use FILE* efficiently and use seek()/tell() to avoid unnecessary I/O.  The most common file format is JPEG and usually the metadata is in the first 100k bytes.  I/O per file is usually less for reading.</p>


	<p>Of course, writing is another matter.  To rewrite a file, when mmap is not available, we must read/write every byte.</p></div>
  
  </div>
  <div class="message reply" id="message-2760">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2760#message-2760">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 06:42" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>Terence replied:</p>


<blockquote>

	<p>We use exiv2 on a lot of raw images. There are lots of non-standard locations where raw images stash their metadata and exiv2 is good at extracting them. Raw files can be very large too. Is exiv2 able to extract metadata without reading the entire file?</p>


</blockquote></div>
  
  </div>
  <div class="message reply" id="message-2761">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2761#message-2761">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 06:43" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>My Reply:</p>


	<p>Exiv2 doesn’t read the entire file.  Most raw images are variants of the TIFF format.  So we have to read all the directories in the TIFF.  However we only dereference tags that deal with metadata.  TIFF directories are chained together and can be anywhere in the file.  When we go from one directory to another, we seek().</p>


	<p>In a typical raw image there are about 200 tags.  So 200x12 bytes per tag. 2400 bytes.  The IPTC, ICC, Exif, XMP blocks are typically about 30k in total.  The total IO on a 20mb .NEF is usually less than 100k.  That’s all.  Total memory used by an open file in similar.  On my MacBook Pro, exiv2 reads about 1000 jpegs/second and 500 Nikon Raw Images/second.  Here’s a directory with 100 .NEFs (2Gb in total).<pre>692 rmills@rmillsmbp:~/temp/Raw $ du -m .
2131    .
693 rmills@rmillsmbp:~/temp/Raw $ ls -1 *.NEF | wc
    100     100     703
694 rmills@rmillsmbp:~/temp/Raw $ time exiv2 -pa --grep Software *.NEF | wc
    100     500    9200

real    0m0.223s
user    0m0.201s
sys    0m0.027s
695 rmills@rmillsmbp:~/temp/Raw $ </pre></p></div>
  
  </div>
  <div class="message reply" id="message-2762">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2762#message-2762">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 06:44" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>Asdiel replied:</p>


<blockquote>

	<p>Terence asked me to look into recompiling Exiv2 without mmap support to fix our crashes.</p>


	<p>I looked around the code in basicio.cpp and it looks from inspection that EXV_HAVE_MMAP does not play a role in Windows.  There seems to be no alternative to using file mapping in Windows.  By default EXV_HAVE_MMAP is not defined in Windows (but file mapping is used in Windows).</p>


	<p>Also, looking at what happens if I undef EXV_HAVE_MMAP in OSX, it will go thru a code path that reads the whole file into a dataBuf, right under the line:<br />// Workaround for platforms without mmap: Read the file into memory</p>


	<p>I can see that there are some files that don't use io.mmap(), JPEGs, BMPs etc, but most of the file types will call io_->mmap() when calling XYZParser::decode(..) which as I said before, will load the whole entire file.  This includes Tiffs, CR2s, RAFs, ORFs etc.</p>


	<p>Am I seeing this wrong?  It looks like some decoders can efficiently seek around the file, while others use mmap, which either uses file mapping, or read the whole image into a buffer.</p>


	<p>Could you please comment, maybe there is something that I'm missing.</p>


</blockquote></div>
  
  </div>
  <div class="message reply" id="message-2763">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2763#message-2763">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 07:08" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>My Reply:</p>


	<p>In general, I/O is abstracted into the BasicIo interface.  Reading/writing images is abstracted into the Image interface.  So most images (TiffImage, JPEGImage etc) have no idea if the source of the data is a FILE* (FileIo), a remote connection (RemoteIO) or a memory mapped file or an in-memory byte buffer (MemIo).</p>


	<p>I think the simple way forward is to disable EXV_HAVE_MMAP (and EXV_HAVE_MUNMAP) and build it.  I suggest you instrument the code.  In class FileIo, add member variables such as uint32_t totalRead_ and set it to zero in the c'tor.  In FileIo::read, totalRead_ += read;  In FileIo::close, std::cout << “totalRead = “ << totalRead_ << std::endl;</p>


	<p>I am confident that we are not doing excessive I/O.  I read the metadata from 100 files of 20mb (Nikon NEF files) in 0.2 seconds on my laptop this morning.</p>


	<p>The setting for EXV_HAVE_MMAP for MSVC are in the file include/exiv2/exv_msvc.h.  I think EXV_HAVE_MMAP is normally set because Windows has supported this forever.  However, you can change it.</p>


	<p>I attach a patch (relative to the trunk at <a class="changeset" title="#1242 Issue warning when we encounter erroneous Exif\0\0 in the Exif UUID box." href="/projects/exiv2/repository/exiv2/revisions/4630">r4630</a>) in which I have disabled EXV_HAVE_MMAP.  I have discovered that we are both right!</p>


	<p><em><strong>You’re right</strong></em>.  Without MMAP, basicio does reads the whole file.<br /><em><strong>I’m right</strong></em>.  Without MMAP, we can read all of the metadata in a 20Mb .NEF in 150,000 bytes.</p>


	<p>Here’s the evidence (on MacOS-X 10.12) in which <em><strong>I am right.</strong></em> <pre>511 rmills@rmillsmbp:~/gnu/exiv2/trunk/build $ bin/Debug/exiv2 -pR /Volumes/iMacHD/Users/rmills/Pictures/Photos/2016/Raw/DSC_0002.NEF
totalRead_ = 0
totalRead_ = 51
totalRead_ = 59
totalRead_ = 59
STRUCTURE OF TIFF FILE (II): /Volumes/iMacHD/Users/rmills/Pictures/Photos/2016/Raw/DSC_0002.NEF
...
totalRead_ = 156783
$ </pre></p>


	<p>Here’s the evidence in which <em><strong>you are right.</strong></em><pre>$ exiv2 -pa --grep Software /Volumes/iMacHD/Users/rmills/Pictures/Photos/2016/Raw/DSC_0002.NEF
totalRead_ = 0
totalRead_ = 51
totalRead_ = 59
totalRead_ = 59
totalRead_ = 23538963
totalRead_ = 23538963
Exiv2 exception in print action for file /Volumes/iMacHD/Users/rmills/Pictures/Photos/2016/Raw/DSC_0002.NEF:
/Volumes/iMacHD/Users/rmills/Pictures/Photos/2016/Raw/DSC_0002.NEF: Call to `FileIo::mmap' failed: Undefined error: 0 (errno = 0)
$ </pre>Several obvious points:</p>


	<p>1) It threw an exception!<br />2) It read the whole file <em><strong>twice</strong></em><br />3) It allocated a large memory buffer to hold the file</p>


	<p>I ran the command in the debugger.  The exception is from TiffImage.readMetadata() which uses TiffParser::decode which requires success to return from mmap().</p>


	<p>I can’t get sucked into this at the moment because I’m working flat out to finish v0.26.  If you want to discuss this in the next few weeks, please contact Andreas as I believe he wrote the TiffXxxxx family of classes.</p></div>
  <div class="attachments">
<div class="contextual">
  
</div>
<table>
<tr>
  <td>
    <a class="icon icon-attachment" href="/attachments/1085">asdiel.patch</a>    <span class="size">(1.4 KB)</span>
    <a class="icon-only icon-download" title="Download" href="/attachments/download/1085/asdiel.patch">asdiel.patch</a>  </td>
  <td></td>
  <td>
  </td>
  <td>
  </td>
</tr>
</table>
</div>

  </div>
  <div class="message reply" id="message-2764">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2764#message-2764">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 07:30" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>I have investigated the exception.  I am to blame.  I changed the semantics of eof() during the last year.  BasicIo.cpp:Line 528 should not test eof().<pre>        if (error() /* || eof()*/ ) {</pre>That gets the code running, however we are indeed reading the whole file into memory (twice) and have allocated a large memory buffer.</p>


	<p>However, it makes libexiv2 independent of the network resilience which is the point of this discussion.</p></div>
  
  </div>
  <div class="message reply" id="message-2765">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2765#message-2765">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 09:36" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>I've reported issue <a class="issue tracker-1 status-5 priority-4 priority-default closed" title="Bug: exiv2 without EXV_HAVE_MMAP throws an exception (Closed)" href="/issues/1244">#1244</a> about not setting EXV_HAVE_MMAP and getting exceptions.  Fix submitted <a class="changeset" title="#1244 Fix submitted." href="/projects/exiv2/repository/exiv2/revisions/4633">r4633</a>.</p>


	<p>I've successfully run the test suite with EXV_HAVE_MMAP unset in include/exiv2/config.h:<pre>#undef EXV_HAVE_MMAP
#undef EXV_HAVE_MUNMAP
//
// That's all Folks!
#endif // _CONFIG_H_</pre></p></div>
  
  </div>
  <div class="message reply" id="message-2766">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2766#message-2766">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="15 Oct 2016 10:46" href="/projects/exiv2/activity?from=2016-10-15">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>I have written a proposal to reduce the Memory and I/O demands of class FileIo when EXV_HAVE_MMAP is not set.    <a class="external" href="http://dev.exiv2.org/issues/1244#note-2">http://dev.exiv2.org/issues/1244#note-2</a></p>


	<p>My proposal cannot be implemented for v0.26.  It is too much work and risk to undertake such a change so late in the v0.26 project.  The proposal has the desirable feature that no changes will be required in any TiffXxxxx class code.</p></div>
  
  </div>
  <div class="message reply" id="message-2768">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2756?r=2768#message-2768">RE: mmap and exiv2</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="20 Oct 2016 18:25" href="/projects/exiv2/activity?from=2016-10-20">about 5 years</a> ago
  </h4>
  <div class="wiki"><p>Discussion with Asdiel Echevarria</p>


<blockquote>

	<p>We really like your idea and implementation for reading only the metadata blocks while still using File I/O and we are thinking to try to back port it to 0.26 once 0.26 is released.  We will of course share it back in the repository in case you guys do a release between 0.26 and 0.27.</p>


</blockquote>

	<p>My reply:</p>


	<p>I’ve backported the necessary code from v0.26 to v0.25.  The changes to make that happen are mostly in src/*image.cpp and src/basicio.cpp (and their .hpp companions).  It’s not as trivial as I say because you have to update the build and other consequential magic.  There are new files in v0.26 (src/webpimage.cpp, src/ini.cpp).  However I’ve done everything in about two hours.  It builds and executes the v0.25 test suite without crashing.  The test suite reports various matters which have been fixed in v0.26.  The formatted output from the command exiv2 -pS is slightly different in v0.26.  For certain this is sufficient to be sent to your test/QE people. <a class="external" href="http://clanmills.com/exiv2/exiv2-0.25+.tar.gz">http://clanmills.com/exiv2/exiv2-0.25+.tar.gz</a> and I attach a patch for v0.25.</p>


	<p>It reads TIFFs over the internet very efficiency.  I added instrumentation to HttpIo to see the blocks being fetched.  11 blocks of 1024bytes.<br /><pre>1052 rmills@rmillsmbp:~/gnu/exiv2 $ ssh secret@clanmills.com ls -alt www/files/Reagan.tiff
-rw-r--r-- 1 secret secret 8628164 Oct 16 10:45 www/files/Reagan.tiff
1053 rmills@rmillsmbp:~/gnu/exiv2/v0.25/build $ bin/Debug/exiv2 -pa --grep Software http://clanmills.com/files/Reagan.tiff
HttpIo::HttpImpl::getDataByRange: 0,0
HttpIo::HttpImpl::getDataByRange: 8416,8416
HttpIo::HttpImpl::getDataByRange: 8417,8417
HttpIo::HttpImpl::getDataByRange: 8418,8418
HttpIo::HttpImpl::getDataByRange: 8419,8422
HttpIo::HttpImpl::getDataByRange: 8423,8425
Exif.Image.Software                          Ascii      29  Adobe Photoshop CS Macintosh
1054 rmills@rmillsmbp:~/gnu/exiv2/v0.25/build $</pre>If/When you make the changes for the network drive, I will be very happy to accept a patch.  I’ll review and test it, then put it on the trunk after v0.26 has shipped.  From my point of view, there is no hurry at all with this.</p>


	<p>Incidentally, I pulled down all the raw images yesterday from here: <a class="external" href="https://www.rawsamples.ch/index.php/en/">https://www.rawsamples.ch/index.php/en/</a>  Exiv2 reads all 322 without a single stumble when they are on local storage.  <a class="external" href="https://www.rawsamples.ch/index.php/en/">https://www.rawsamples.ch/index.php/en/</a>  The project for 2017 to enhance our raw image support and test will investigate that every image can be read efficiently over the internet.  I’m planning to recruit a Google Summer of Code student for that project.  So it would be good to have your patch by May 2017.<pre>529 rmills@rmillsmbp:~/gnu/exiv2/trunk $ time build/bin/Debug/exiv2 -pa -g Software http://clanmills.com/files/Reagan.tiff
Exif.Image.Software                          Ascii      29  Adobe Photoshop CS Macintosh

real    0m1.582s
user    0m0.014s
sys    0m0.012s
530 rmills@rmillsmbp:~/gnu/exiv2/trunk $ time curl -O http://clanmills.com/files/Reagan.tiff
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 8425k  100 8425k    0     0   787k      0  0:00:10  0:00:10 --:--:-- 1601k

real    0m10.745s
user    0m0.074s
sys    0m0.319s
531 rmills@rmillsmbp:~/gnu/exiv2/trunk $ ls -alt Reagan.tiff
-rw-r--r--+ 1 rmills staff 8628164 Oct 21 12:00 Reagan.tiff
532 rmills@rmillsmbp:~/gnu/exiv2/trunk $</pre></p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-11/11)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
