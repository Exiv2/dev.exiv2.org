<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>How to modify GPS Information - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="YVzVdl8OnYD4hmI2/gca+QJy42QEIBp1+TjGpQ7AUW+DEX6ZLXRRgK3ifTpB0BbKPeC3HfXDu88EGFYtTfm2AA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>How to modify GPS Information</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/4468">Mark Allen</a> <a title="06 Jul 2015 11:29" href="/projects/exiv2/activity?from=2015-07-06">over 6 years</a> ago</span></p>
<div class="wiki">
<p>For example, I want to modify "Exif.GPSInfo.GPSLatitude" ,its type is RATIONAL , but the latitude is expressed as three RATIONAL values giving the degrees, minutes, and seconds, respectively. How can I modify three RATIONAL values for the  "Exif.GPSInfo.GPSLatitude".</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (9)</h3>
  <div class="message reply" id="message-2132">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2132#message-2132">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="07 Jul 2015 09:42" href="/projects/exiv2/activity?from=2015-07-07">over 6 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Mark,</p>


	<p>If you're using the exiv2 command line tool, see here: <a class="external" href="http://dev.exiv2.org/boards/3/topics/1163?r=1165#message-1165">http://dev.exiv2.org/boards/3/topics/1163?r=1165#message-1165</a><br />If you're using the C++ API, see this example: <a class="external" href="http://exiv2.org/example2.html">http://exiv2.org/example2.html</a></p>


	<p>Cheers,<br />Andreas</p></div>
  
  </div>
  <div class="message reply" id="message-2134">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2134#message-2134">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/4468">Mark Allen</a> <a title="07 Jul 2015 13:31" href="/projects/exiv2/activity?from=2015-07-07">over 6 years</a> ago
  </h4>
  <div class="wiki"><p>Thank you very much! I solve this problem.</p></div>
  
  </div>
  <div class="message reply" id="message-2135">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2135#message-2135">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/4468">Mark Allen</a> <a title="07 Jul 2015 13:32" href="/projects/exiv2/activity?from=2015-07-07">over 6 years</a> ago
  </h4>
  <div class="wiki"><p>Thank you very much! I have solved this problem.</p></div>
  
  </div>
  <div class="message reply" id="message-2268">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2268#message-2268">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/4515">Francois Laverdure</a> <a title="14 Oct 2015 15:53" href="/projects/exiv2/activity?from=2015-10-14">about 6 years</a> ago
  </h4>
  <div class="wiki"><p>I thought I'd simply re-use the same thread as I'm having a similar problem...</p>


	<p>I'm currently writing a script and the GPS info is giving me a headache.<br />So far, I set the value for both longitude and latitude like this</p>


	<p><em>set Latitude = "45/1,32/1,130020/10000"</em></p>


	<p>in my batch file. Then I write a whole bunch of stuff to a file that contains the whole set of commands I want to put in the jpg like so</p>


	<p><em>echo add Exif.GPSInfo.GPSLatitude <span>Latitude</span></em></p>


	<p>and then run the entire command list like this</p>


	<p><em>exiv2 -m "%temp%\Commands.txt" "%~1"*.jpg</em></p>


	<p>only to have exiv2 return this dreaded</p>


	<p><em>Warning: Exif.GPSInfo.GPSLatitude: Failed to read Rational value ""</em></p>


	<p>I tried changing the commas to spaces but it still doesn't work. I know the fractions give me the proper values for the location...<br />What am I doing wrong?</p></div>
  
  </div>
  <div class="message reply" id="message-2269">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2269#message-2269">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/4515">Francois Laverdure</a> <a title="14 Oct 2015 15:56" href="/projects/exiv2/activity?from=2015-10-14">about 6 years</a> ago
  </h4>
  <div class="wiki"><p>I forgot to say that all my variables in the add section are presented between % percent marks... it's just that the forum won't show them.</p></div>
  
  </div>
  <div class="message reply" id="message-2270">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2270#message-2270">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="14 Oct 2015 16:12" href="/projects/exiv2/activity?from=2015-10-14">about 6 years</a> ago
  </h4>
  <div class="wiki"><p>You have to validate the data in <span>temp</span>/Commands.txt.  That's not so tough.  You can run exiv2 -m c:\Users\yourname\path\to\temp\Commands.txt foo.jpg.  If you get the dreaded warning from the command-prompt, your error must be in Commands.txt.  (keep away from magic like <span>temp</span> when you debug this).</p>


	<p>Once you know that Commands.txt is good, you have to be certain that the command arguments you pass to exiv2 are the arguments you intended to pass!  All those special characters such as % and ~ can result in broken commands.  I've found a little program args.cpp very useful.  I've discussed it here:  <a class="external" href="http://dev.exiv2.org/boards/3/topics/2066?r=2067#message-2067">http://dev.exiv2.org/boards/3/topics/2066?r=2067#message-2067</a></p>


	<p>A cup of coffee might help.  Going out for a run always helps.  Relax and you'll find how to get this working.  And don't forget to report your solution as this will help another user one day.</p></div>
  
  </div>
  <div class="message reply" id="message-2271">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2271#message-2271">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/4515">Francois Laverdure</a> <a title="14 Oct 2015 17:02" href="/projects/exiv2/activity?from=2015-10-14">about 6 years</a> ago
  </h4>
  <div class="wiki"><p>OK, you're right, my bad coding at work...<br />I just figured out that there is an error in the tag explanation page on the main site. No commas must be used.</p>


	<p>Second, I had inserted a space before the = sign by accident... and it screwed up the whole thing.<br />So here's my take on it.</p>


	<p>when you set the values in a batch file, this is what the tag should look like</p>


	<p><code>set Latitude="45/1 32/1 130020/10000"</code></p>


	<p>Notice, no spaces on each side of the equal (I don't know why I put some there initially) and the values are in dd/1 for degrees mm/1 for minutes. The seconds are often given in decimal. In my case, it was 13.0020 seconds. Since the program doesn't support decimals, you have to convert it into a full fraction. The simplest is to multiply the seconds and then re-divide by that number in the rational code. So  13.0020 seconds becomes 130020/10000 same thing just a different notation. The divided by part doesn't need to be a factor of 10, it just makes things easier to calculate.</p>


	<p>As for writing to the commands.txt file that I use, it just works like usual with<br /><code>echo add Exif.GPSInfo.GPSLatitude %Latitude%</code></p>


	<p>I hope that helps someone...</p></div>
  
  </div>
  <div class="message reply" id="message-2272">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2272#message-2272">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="14 Oct 2015 17:41" href="/projects/exiv2/activity?from=2015-10-14">about 6 years</a> ago
  </h4>
  <div class="wiki"><p>Glad to hear that this has a happy ending.  And thanks for explaining how you got it to work.  Very good.  Take the rest of the day off!</p></div>
  
  </div>
  <div class="message reply" id="message-2273">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2131?r=2273#message-2273">RE: How to modify GPS Information</a>
    -
    Added by <a class="user active" href="/users/4515">Francois Laverdure</a> <a title="14 Oct 2015 17:52" href="/projects/exiv2/activity?from=2015-10-14">about 6 years</a> ago
  </h4>
  <div class="wiki"><p>Sadly, I can't take the rest of the day off... I'm waiting for a visit from the men in brown (namely UPS) that's going to bring some long awaited memory chips (I ordered them back in September and the store has been dragging its feet ever-since).</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-9/9)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
