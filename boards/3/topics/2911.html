<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Panasonic Makernote - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="0pMo90/Gmivw83S7VoqrEKgCUOUT6AIj3F8Y0deJjaMw3oMYPbxWK6WXa7fpXacjl5AEnOILo5khf4hZlLBqzA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>Panasonic Makernote</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/6210">Gerhard Schiller</a> <a title="28 Aug 2017 11:32" href="/projects/exiv2/activity?from=2017-08-28">about 4 years</a> ago</span></p>
<div class="wiki">
<p>laying around with the  Panasonic Makernotes from my Panasonic DMC-TZ22, I came across a few points I think might be of interest:</p>


	<p>The five undocumented tags  0x0081... 0x0085 are most likely related to the camera database that relates GPS-coordinates to information about the location where the picture was taken.<br />(Tags: Landmark  City,  Country,  State, …)</p>


	<p>What makes me sure:<br />If the GPS is turned off: tags are not present.<br />If the GPS is turned on but has not yet obtained a position: tags are empty.<br />if the GPS  has obtained a position: tags are always contain “---”.</p>


	<p>So, not very useful yet but perhaps it might help...</p>


	<p>And just an other small thing:<br />The tag “Exif.Panasonic.City2” contains the name of the city-district, the locality, hamlet  or what ever the parts of “Exif.Panasonic.City” might be called.</p>


	<p>Gerhard</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (5)</h3>
  <div class="message reply" id="message-2912">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2911?r=2912#message-2912">RE: Panasonic Makernote</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="28 Aug 2017 12:15" href="/projects/exiv2/activity?from=2017-08-28">about 4 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks for these notes.  This sounds familiar to me.  I dealt with something like this for a user last year in the Canon Maker Notes:<pre>765 rmills@rmillsmbp:~/gnu/exiv2/0.26 $ svn blame src/canonmn.cpp | grep City
  4738 robinwmill     //! canonTimeZoneCity - array of cityID/cityName used by Canon
  4690 robinwmill     extern const TagDetails canonTimeZoneCity[] = {
  4690 robinwmill         TagInfo(0x0002, "TimeZoneCity", N_("Time zone city"), N_("Time zone city"), canonTiId, makerTags, signedLong, 1, EXV_PRINT_TAG(canonTimeZoneCity)),
767 rmills@rmillsmbp:~/gnu/exiv2/0.26 $ $ svn log --revision 4690
------------------------------------------------------------------------
r4690 | robinwmills | 2016-12-02 10:31:10 +0000 (Fri, 02 Dec 2016) | 1 line

#1231  Thank You to Ayke for providing the patch.</pre>I see Niels added something concerning this to the Panasonic MakerNotes two years ago.<pre>765 rmills@rmillsmbp:~/gnu/exiv2/0.26 $ svn blame src/panasonicmn.cpp | grep City
  3357       nkbj         TagInfo(0x006d, "City", N_("City"), N_("City"), panasonicId, makerTags, undefined, -1, printPanasonicText),
  3357       nkbj         TagInfo(0x0080, "City2", N_("City2"), N_("City2"), panasonicId, makerTags, undefined, -1, printPanasonicText),
766 rmills@rmillsmbp:~/gnu/exiv2/0.26 769 rmills@rmillsmbp:~/gnu/exiv2/0.26 $ svn log --revision 3357
------------------------------------------------------------------------
r3357 | nkbj | 2014-09-08 04:57:56 +0100 (Mon, 08 Sep 2014) | 1 line

Fix issues #929 and #972: Improve Panasonic makernotes support. Thanks goes to numerous people for patches and input.
------------------------------------------------------------------------
770 rmills@rmillsmbp:~/gnu/exiv2/0.26 $ </pre>Do you have enough courage to change the code and provide a patch and test files?</p></div>
  
  </div>
  <div class="message reply" id="message-2916">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2911?r=2916#message-2916">RE: Panasonic Makernote</a>
    -
    Added by <a class="user active" href="/users/4008">T Modes</a> <a title="30 Aug 2017 15:39" href="/projects/exiv2/activity?from=2017-08-30">about 4 years</a> ago
  </h4>
  <div class="wiki"><p>Robin Mills wrote:</p>


<blockquote>

	<p>Do you have enough courage to change the code and provide a patch and test files?</p>


</blockquote>

	<p>Before changing the tag name please read the mentioned ticket 929 (<a class="external" href="http://dev.exiv2.org/issues/929">http://dev.exiv2.org/issues/929</a>), especially note #19 and #20.<br />The problem is that Panasonic is not consistent it the usage of tags, it depends on the model which tags are used for which information. The conses was to use ExifTools nomenclature for the city tags. So the city names are used internally in this notification.</p></div>
  
  </div>
  <div class="message reply" id="message-2918">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2911?r=2918#message-2918">RE: Panasonic Makernote</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="30 Aug 2017 16:57" href="/projects/exiv2/activity?from=2017-08-30">about 4 years</a> ago
  </h4>
  <div class="wiki"><p>T</p>


	<p>I don't know what to do about this and I don't want to get into a lengthy discussion.  The code calls a function <code>printPanasonicText(...)</code> to print the value of the tag.  That function has access to all the metadata and can print whatever it likes.  However if you want the tag 0x006d to say "City" or "Region" based on the camera model, that's considerably more difficult.  I'll have to study the code in more detail to know how to make that happen.  I'm unwilling to tackle this without test files and a specification of your expected behaviour.  I'm rather busy at the moment with the v0.26.1 dot release.</p>


	<p>Robin</p></div>
  
  </div>
  <div class="message reply" id="message-2919">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2911?r=2919#message-2919">RE: Panasonic Makernote</a>
    -
    Added by <a class="user active" href="/users/4008">T Modes</a> <a title="30 Aug 2017 17:47" href="/projects/exiv2/activity?from=2017-08-30">about 4 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Robin,</p>


	<p>Robin Mills wrote:</p>


<blockquote>

	<p>I don't know what to do about this</p>


</blockquote>

	<p>Sorry, if I confused you. I don't want to change the tag name (I want to leave these tag name as there are) . <br />I just wanted to add a comment that the tag name City and City2 were intentionally chosen. So you should take care of this decision, before you start changing the tag names City/City2 as you proposed in your first answer.</p></div>
  
  </div>
  <div class="message reply" id="message-2920">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/2911?r=2920#message-2920">RE: Panasonic Makernote</a>
    -
    Added by <a class="user active" href="/users/119">Robin Mills</a> <a title="30 Aug 2017 18:50" href="/projects/exiv2/activity?from=2017-08-30">about 4 years</a> ago
  </h4>
  <div class="wiki"><p>Thanks for the clarification.  I'm not intending to do anything about this.  If Gerhard offers a patch, I will review it and consider what you've said.</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-5/5)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
