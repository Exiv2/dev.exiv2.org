<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>The &quot;volatile&quot; Tags vs the &quot;smart&quot; Tags - Exiv2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="3rNniEnm7wA9jF/S0P746y5uBZU1/eGFWdAnL/NtrTM8/sxnO5wjAGjoQN5vKfTYEfxR7MQeQD+k8LensFRKXA==" />
<link rel='shortcut icon' href='/favicon.ico?1550767427' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/application.css?1550767427" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css?1550767427" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-4.3.1.js?1550767427"></script>
<script src="/javascripts/application.js?1550767427"></script>
<script src="/javascripts/responsive.js?1550767427"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>


<!-- page specific tags -->
</head>
<body class="project-exiv2 has-main-menu controller-messages action-show avatars-off">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li></ul>    </div>
    
    <ul><li><a class="home" href="/">Home</a></li><li><a class="projects" href="/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/exiv2/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/exiv2/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">Exiv2</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/projects/autocomplete.js?jump=boards" autocomplete="off" /></div><div class="drdn-items projects selection"></div><div class="drdn-items all-projects selection"><a href="/projects?jump=boards">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">Exiv2</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/exiv2">Overview</a></li><li><a class="activity" href="/projects/exiv2/activity">Activity</a></li><li><a class="roadmap" href="/projects/exiv2/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/exiv2/issues">Issues</a></li><li><a class="news" href="/projects/exiv2/news">News</a></li><li><a class="wiki" href="/projects/exiv2/wiki">Wiki</a></li><li><a class="boards selected" href="/projects/exiv2/boards">Forums</a></li><li><a class="repository" href="/projects/exiv2/repository">Repository</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/exiv2/boards">Forums</a> » <a href="/projects/exiv2/boards/3">Forum</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>The &quot;volatile&quot; Tags vs the &quot;smart&quot; Tags</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/339">Steve Wright</a> <a title="11 Mar 2010 11:14" href="/projects/exiv2/activity?from=2010-03-11">over 11 years</a> ago</span></p>
<div class="wiki">
<p>Andreas,</p>


	<p>I've been taking another look at the "copy one tag value to another" concept with which the last thread I started finished up. I remembered from some earlier  mistakes I'd made just adding single tag values that there are both tags that appear to "type themselves" in the last build, and those that double-up and when one tries to delete one by the tag name along with the value, one winds up with neither tag entry by that name. The former I've taken to calling the "smart" tags and the latter, the "volatile" tags. A good example is <em>Exif.Image.ImageDescription</em>. In a significant way, it could be regarded as belonging to both types.</p>


	<p>To try and make a little more progress with my "copy one to the other" ideas, first I assigned a value by way of a variable to the IPTC Caption of one JPEG file. Then I did a two-step cut&#38;paste from my text editor that read in the raw value of the caption -- my new friend "Pv" --and passed it to the Exif.Image.ImageDescription tag of the same file, adding, as the MAN page exemplifies, the value type. I've had it happen before that for the odd EXIF tag, the type becomes part of the value, and so it did for Exif.Image.ImageDescription. I rewrote the '-M"add..." modify' command to exclude the type, and on the next "print all values", exiv2 returned the tag, correctly typed.</p>


	<p>Now here's where, for me at least, it got interesting. I assigned yet another value to another variable, did an '-M"add..." modify' command to set this value to Exif.Image.ImageDescription, and on the <em>next</em> "print all values," there were two <em>Exif.Image.ImageDescription</em> fields, each with the values of the variables assigned, and of course, each correctly typed.</p>


	<p>I'd seen this much happen before, also, and I'm certain it was with this particular EXIF tag that it did occur.</p>


	<p>At that point I considered deleting them both via the -de command-line option. Then I thought, why not try to delete just one of the values to see if they both go? Sure enough, I did, and they did. This is why I've come to consider <em>Exif.Image.ImageDescription</em> a "volatile" tag; regardless of whether you specify just the tag name or the name <strong>and</strong> its value, both are removed, whether there's one or two or half-a-dozen.</p>


	<p>It does occur to me that this might also fall into the realm of "commands already in Exiv2 that I haven't used," but I think there should be a way to specify which of a "twinned" or "tripled" tag value of the same tag name should be removed. Turning this on its head, it may help in determining, correctly, whether a tag or packet field actually contains a value before another one is entered. Not every command line, and certainly not every GUI application or utility, is capable of or "likes to" display more than one value per tag; some might consider it "outside the convention," I don't know.</p>


	<p>I'll leave it at that.</p>


	<p>BZT</p>
</div>

</div>
<br />

<div id="replies">
<h3 class="comments icon icon-comments">Replies (1)</h3>
  <div class="message reply" id="message-464">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/3/topics/463?r=464#message-464">RE: The &quot;volatile&quot; Tags vs the &quot;smart&quot; Tags</a>
    -
    Added by <a class="user active" href="/users/53">Andreas Huggel</a> <a title="11 Mar 2010 18:13" href="/projects/exiv2/activity?from=2010-03-11">over 11 years</a> ago
  </h4>
  <div class="wiki"><p>Hi Steve,</p>


	<p>It seems to me this has more to do with the way the exiv2 utility is used rather than the tags themselves:</p>


<blockquote>

	<p>did an '-M"add..." modify' command to set this value</p>


</blockquote>

	<p>the <strong>add</strong> command <em>adds</em> a tag as opposed to the <strong>set</strong> command, which <em>sets</em> the value of a tag and only adds it if it doesn't exist yet. Thus, when you use <strong>add</strong>, you may end up with multiple equal tags (possibly with different values) while using <strong>set</strong> multiple times for the same tag will add the tag the first time around (if it doesn't exist) and only modify the value subsequently.</p>


	<p>Multiple Exif tags with the same key is not a good thing and should be avoided. The Exif standard explicitly doesn't allow it, but some Camera makers use multiple tags in their makernotes.</p>


	<p>The <strong>del</strong> command deletes all tags of a given key, it doesn't know how to differentiate between two equal keys (there is no good way to do so, as multiple tags do not exist according to the Exif standard in the first place.)</p>


	<p>To preempt, in addition, exiv2 also has conversion logic to convert certain tags between XMP and Exif/IPTC which, can also lead to confusing results at first glance.</p>


	<p>-ahu.</p></div>
  
  </div>
</div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-1/1)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2018 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
